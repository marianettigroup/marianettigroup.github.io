<!doctype html><html itemscope itemtype=http://schema.org/WebPage lang=en class=no-js><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><link rel=canonical type=text/html href=https://example.docsy.dev/docs/><link rel=alternate type=application/rss+xml href=https://example.docsy.dev/docs/index.xml><meta name=robots content="noindex, nofollow"><link rel="shortcut icon" href=/favicons/favicon.ico><link rel=apple-touch-icon href=/favicons/apple-touch-icon-180x180.png sizes=180x180><link rel=icon type=image/png href=/favicons/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=/favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/favicons/android-36x36.png sizes=36x36><link rel=icon type=image/png href=/favicons/android-48x48.png sizes=48x48><link rel=icon type=image/png href=/favicons/android-72x72.png sizes=72x72><link rel=icon type=image/png href=/favicons/android-96x96.png sizes=96x96><link rel=icon type=image/png href=/favicons/android-144x144.png sizes=144x144><link rel=icon type=image/png href=/favicons/android-192x192.png sizes=192x192><title>Documentation | Principia Materia</title>
<meta name=description content="A Docsy example site"><meta property="og:url" content="https://example.docsy.dev/docs/"><meta property="og:site_name" content="Principia Materia"><meta property="og:title" content="Documentation"><meta property="og:description" content="Here we document all aspects of the code."><meta property="og:locale" content="en"><meta property="og:type" content="website"><meta itemprop=name content="Documentation"><meta itemprop=description content="Here we document all aspects of the code."><meta itemprop=dateModified content="2022-09-19T01:48:12-04:00"><meta itemprop=wordCount content="8"><meta name=twitter:card content="summary"><meta name=twitter:title content="Documentation"><meta name=twitter:description content="Here we document all aspects of the code."><link rel=preload href=/scss/main.min.e27e9dbace77e637983a3900590da42ddfc471da09131ef565f7ea5853a1205a.css as=style><link href=/scss/main.min.e27e9dbace77e637983a3900590da42ddfc471da09131ef565f7ea5853a1205a.css rel=stylesheet><script src=https://code.jquery.com/jquery-3.7.1.min.js integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin=anonymous></script></head><body class=td-section><header><nav class="td-navbar js-navbar-scroll" data-bs-theme=dark><div class="container-fluid flex-column flex-md-row"><a class=navbar-brand href=/><span class="navbar-brand__logo navbar-logo"><svg id="Layer_1" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 500 500" style="enable-background:new 0 0 500 500"><g><path style="fill:#fff" d="M116.8525 421.9722c-5.7041.0-10.3442-4.3127-10.3442-9.6129V88.183c0-5.3002 4.6401-9.6117 10.3442-9.6117H320.858c3.0347.0 9.3959.5498 11.7506 2.6302l.3545.3442 58.905 63.2912c2.3101 2.491 2.9202 8.4928 2.9202 11.3184v256.2039c0 5.3002-4.6407 9.6129-10.3436 9.6129H116.8525z"/><g><g><g><path style="fill:#767676" d="M384.4445 423.2066H116.852c-6.3839.0-11.5786-4.8658-11.5786-10.8474V88.1831c0-5.9804 5.1947-10.8461 11.5786-10.8461h204.0062c.377.0 9.2786.0329 12.568 2.9389l.3947.3833 58.9508 63.337c3.2135 3.4652 3.2514 11.7924 3.2514 12.1593v256.2036C396.0231 418.3408 390.8284 423.2066 384.4445 423.2066zM116.5079 411.9189c.0848.0278.1999.0531.3441.0531h267.5925c.1442.0.2581-.0253.3441-.0531V156.1556c-.0076-.9033-.3593-3.7347-.7034-5.0037l-57.6527-61.9416c-1.4651-.3176-4.4533-.6389-5.5742-.6389H116.852c-.143.0-.2594.024-.3441.0531V411.9189zm267.4533-261.149zM327.0321 89.371v.0013V89.371z"/></g></g></g><g><g><path style="fill:#5b7fc0" d="M189.0874 210.1754l.0012-.0012c7.7751.0012 15.0295 4.1862 18.932 10.9234 1.9177 3.3159 2.9305 7.1011 2.9293 10.9378.0 5.8394-2.2733 11.3304-6.4032 15.4604-4.1288 4.1288-9.6186 6.4032-15.458 6.4032s-11.328-2.2733-15.458-6.4032-6.4032-9.6186-6.4056-15.4628c.0012-6.025 2.454-11.4897 6.4116-15.4473C177.5953 212.627 183.0601 210.1742 189.0874 210.1754zm7.993 21.8576c.0012-1.4042-.3687-2.7868-1.063-3.9887-1.4293-2.4684-4.0833-3.9995-6.9299-4.0019-4.4077.0024-7.993 3.5877-7.993 7.993.0 2.1356.832 4.1431 2.3427 5.6539 1.5083 1.5083 3.5159 2.3403 5.6503 2.3415 2.1356.0 4.1443-.8308 5.6539-2.3403S197.0816 234.1722 197.0804 232.033z"/><path style="opacity:.3;fill:#fff" d="M189.0898 210.176c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3136 2.9377 7.0988 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8066-21.8612-21.8613.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 212.6276 183.0612 210.176 189.0898 210.176zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 236.239 197.0839 234.2399 197.0839 232.0372z"/><g><defs><path id="SVGID_1_" d="M194.7376 237.6875c-1.4461 1.4461-3.4452 2.3439-5.6479 2.3439-4.4077-.0024-7.9918-3.5865-7.9942-7.9942.0024-4.4125 3.5937-7.999 7.9942-7.9942 2.8443.0 5.497 1.5323 6.924 3.9983.6991 1.2067 1.0702 2.5881 1.0702 3.9959C197.0839 234.2399 196.1861 236.239 194.7376 237.6875z"/></defs><clipPath id="SVGID_2_"><use xlink:href="#SVGID_1_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_2_);fill:#fff" d="M190.0704 225.0237c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9546.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.663-2.8588-6.116.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C193.7885 225.7247 191.9774 225.0237 190.0704 225.0237z"/><path style="opacity:.13;clip-path:url(#SVGID_2_);fill:#020202" d="M190.0704 225.0237c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9546.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.663-2.8588-6.116.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C193.7885 225.7247 191.9774 225.0237 190.0704 225.0237z"/></g><g><defs><path id="SVGID_3_" d="M189.0898 210.176c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3136 2.9377 7.0988 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8066-21.8612-21.8613.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 212.6276 183.0612 210.176 189.0898 210.176zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 236.239 197.0839 234.2399 197.0839 232.0372z"/></defs><clipPath id="SVGID_4_"><use xlink:href="#SVGID_3_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_4_);fill:#5b7fc0" d="M172.6595 215.6045c-3.96 3.96-6.4116 9.4235-6.4116 15.452-.0024 12.0547 9.8066 21.8636 21.8613 21.8612 12.0547.0024 21.8636-9.797 21.8613-21.8612.0024-3.8475-1.0151-7.6326-2.9353-10.9462-3.8977-6.7324-11.1497-10.9151-18.926-10.9151C182.0806 209.1953 176.6171 211.647 172.6595 215.6045z"/></g></g><rect x="198.8952" y="225.1043" style="fill:#5b7fc0" width="122.6266" height="13.8671"/></g><g><path style="fill:#d95140" d="M189.0874 155.7611l.0012-.0012c7.7751.0012 15.0295 4.1862 18.932 10.9234 1.9177 3.3159 2.9305 7.1011 2.9293 10.9378.0 5.8394-2.2733 11.3304-6.4032 15.4604-4.1288 4.1288-9.6186 6.4032-15.458 6.4032s-11.328-2.2733-15.458-6.4032-6.4032-9.6186-6.4056-15.4628c.0012-6.0249 2.454-11.4897 6.4116-15.4473C177.5953 158.2128 183.0601 155.7599 189.0874 155.7611zm7.993 21.8577c.0012-1.4042-.3687-2.7868-1.063-3.9887-1.4293-2.4684-4.0833-3.9995-6.9299-4.0019-4.4077.0024-7.993 3.5877-7.993 7.993.0 2.1356.832 4.1431 2.3427 5.6539 1.5083 1.5083 3.5159 2.3403 5.6503 2.3415 2.1356.0 4.1443-.8308 5.6539-2.3403C196.2508 181.7667 197.0816 179.758 197.0804 177.6188z"/><path style="opacity:.3;fill:#fff" d="M189.0898 155.7617c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3135 2.9377 7.0987 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8066-21.8612-21.8613.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 158.2134 183.0612 155.7617 189.0898 155.7617zm7.9941 21.8613c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 181.8248 197.0839 179.8256 197.0839 177.623z"/><g><defs><path id="SVGID_5_" d="M194.7376 183.2733c-1.4461 1.4461-3.4452 2.3439-5.6479 2.3439-4.4077-.0024-7.9918-3.5865-7.9942-7.9942.0024-4.4125 3.5937-7.9989 7.9942-7.9942 2.8443.0 5.497 1.5323 6.924 3.9983.6991 1.2067 1.0702 2.5881 1.0702 3.9959C197.0839 179.8256 196.1861 181.8248 194.7376 183.2733z"/></defs><clipPath id="SVGID_6_"><use xlink:href="#SVGID_5_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_6_);fill:#fff" d="M190.0704 170.6095c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9546.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.663-2.8588-6.116.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C193.7885 171.3104 191.9774 170.6095 190.0704 170.6095z"/><path style="opacity:.13;clip-path:url(#SVGID_6_);fill:#020202" d="M190.0704 170.6095c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9546.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.663-2.8588-6.116.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C193.7885 171.3104 191.9774 170.6095 190.0704 170.6095z"/></g><g><defs><path id="SVGID_7_" d="M189.0898 155.7617c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3135 2.9377 7.0987 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8066-21.8612-21.8613.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 158.2134 183.0612 155.7617 189.0898 155.7617zm7.9941 21.8613c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 181.8248 197.0839 179.8256 197.0839 177.623z"/></defs><clipPath id="SVGID_8_"><use xlink:href="#SVGID_7_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_8_);fill:#d95140" d="M172.6595 161.1903c-3.96 3.96-6.4116 9.4235-6.4116 15.452-.0024 12.0547 9.8066 21.8636 21.8613 21.8613 12.0547.0024 21.8636-9.797 21.8613-21.8613.0024-3.8474-1.0151-7.6326-2.9353-10.9462-3.8977-6.7324-11.1497-10.9151-18.926-10.9151C182.0806 154.7811 176.6171 157.2327 172.6595 161.1903z"/></g><rect x="198.8952" y="170.69" style="fill:#d95140" width="122.6266" height="13.8671"/></g><g><g><path style="fill:#56a55c" d="M189.5379 264.6147l.0012-.0012c7.7751.0012 15.0294 4.1862 18.932 10.9235 1.9177 3.3159 2.9305 7.1011 2.9293 10.9378.0 5.8394-2.2733 11.3304-6.4032 15.4604-4.1288 4.1288-9.6186 6.4032-15.458 6.4032-5.8394.0-11.3281-2.2733-15.458-6.4032-4.13-4.13-6.4032-9.6186-6.4056-15.4628.0012-6.0249 2.454-11.4897 6.4116-15.4472C178.0458 267.0663 183.5105 264.6135 189.5379 264.6147zm7.993 21.8576c.0012-1.4042-.3687-2.7868-1.063-3.9887-1.4293-2.4684-4.0833-3.9995-6.9299-4.0019-4.4077.0024-7.993 3.5877-7.993 7.993.0 2.1356.832 4.1431 2.3427 5.6538 1.5083 1.5083 3.5159 2.3403 5.6503 2.3415 2.1356.0 4.1443-.8308 5.6539-2.3403C196.7013 290.6202 197.5321 288.6115 197.5309 286.4723z"/><path style="opacity:.3;fill:#fff" d="M189.5403 264.6153c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3135 2.9377 7.0987 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8065-21.8612-21.8613.0-6.0285 2.4516-11.492 6.4116-15.452C178.0482 267.0669 183.5117 264.6153 189.5403 264.6153zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9941.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.6366 290.6783 197.5344 288.6792 197.5344 286.4765z"/><g><defs><path id="SVGID_9_" d="M195.1881 292.1268c-1.4461 1.4461-3.4452 2.3439-5.6479 2.3439-4.4077-.0024-7.9918-3.5865-7.9942-7.9942.0024-4.4125 3.5937-7.9989 7.9942-7.9941 2.8443.0 5.497 1.5323 6.924 3.9983.6991 1.2067 1.0702 2.5881 1.0702 3.9959C197.5344 288.6792 196.6366 290.6783 195.1881 292.1268z"/></defs><clipPath id="SVGID_10_"><use xlink:href="#SVGID_9_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_10_);fill:#fff" d="M190.5209 279.463c-4.4005-.0048-7.9918 3.5817-7.9942 7.9941.0011 1.9547.7088 3.7452 1.8782 5.1354-1.7446-1.4674-2.8575-3.6631-2.8588-6.1161.0024-4.4125 3.5936-7.999 7.9942-7.9941 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C194.239 280.164 192.4279 279.463 190.5209 279.463z"/><path style="opacity:.13;clip-path:url(#SVGID_10_);fill:#020202" d="M190.5209 279.463c-4.4005-.0048-7.9918 3.5817-7.9942 7.9941.0011 1.9547.7088 3.7452 1.8782 5.1354-1.7446-1.4674-2.8575-3.6631-2.8588-6.1161.0024-4.4125 3.5936-7.999 7.9942-7.9941 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C194.239 280.164 192.4279 279.463 190.5209 279.463z"/></g><g><defs><path id="SVGID_11_" d="M189.5403 264.6153c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3135 2.9377 7.0987 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8065-21.8612-21.8613.0-6.0285 2.4516-11.492 6.4116-15.452C178.0482 267.0669 183.5117 264.6153 189.5403 264.6153zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9941.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.6366 290.6783 197.5344 288.6792 197.5344 286.4765z"/></defs><clipPath id="SVGID_12_"><use xlink:href="#SVGID_11_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_12_);fill:#56a55c" d="M173.11 270.0439c-3.96 3.96-6.4116 9.4235-6.4116 15.452-.0024 12.0547 9.8066 21.8636 21.8613 21.8613 12.0547.0024 21.8636-9.797 21.8613-21.8613.0024-3.8474-1.0151-7.6326-2.9353-10.9462-3.8977-6.7325-11.1497-10.9151-18.926-10.9151C182.5311 263.6346 177.0676 266.0863 173.11 270.0439z"/></g></g><rect x="199.3456" y="279.5436" style="fill:#56a55c" width="122.6266" height="13.8671"/></g><g><g><path style="fill:#f1bc42" d="M189.0874 318.7208l.0012-.0012c7.7751.0012 15.0295 4.1862 18.932 10.9234 1.9177 3.3159 2.9305 7.1011 2.9293 10.9378.0 5.8394-2.2733 11.3305-6.4032 15.4604-4.1288 4.1288-9.6186 6.4032-15.458 6.4032s-11.328-2.2733-15.458-6.4032-6.4032-9.6186-6.4056-15.4628c.0012-6.025 2.454-11.4897 6.4116-15.4472C177.5953 321.1724 183.0601 318.7196 189.0874 318.7208zm7.993 21.8576c.0012-1.4042-.3687-2.7868-1.063-3.9887-1.4293-2.4684-4.0833-3.9995-6.9299-4.0019-4.4077.0024-7.993 3.5877-7.993 7.993.0 2.1356.832 4.1431 2.3427 5.6539 1.5083 1.5083 3.5159 2.3403 5.6503 2.3415 2.1356.0 4.1443-.8308 5.6539-2.3403S197.0816 342.7176 197.0804 340.5784z"/><path style="opacity:.3;fill:#fff" d="M189.0898 318.7214c7.7763.0 15.0283 4.1826 18.926 10.915 1.9201 3.3136 2.9377 7.0988 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8612-12.0547.0024-21.8636-9.8065-21.8612-21.8612.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 321.173 183.0612 318.7214 189.0898 318.7214zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 344.7844 197.0839 342.7853 197.0839 340.5826z"/><g><defs><path id="SVGID_13_" d="M194.7376 346.2329c-1.4461 1.4461-3.4452 2.3439-5.6479 2.3439-4.4077-.0024-7.9918-3.5865-7.9942-7.9942.0024-4.4125 3.5937-7.999 7.9942-7.9942 2.8443.0 5.497 1.5323 6.924 3.9983.6991 1.2067 1.0702 2.5881 1.0702 3.9959C197.0839 342.7853 196.1861 344.7844 194.7376 346.2329z"/></defs><clipPath id="SVGID_14_"><use xlink:href="#SVGID_13_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_14_);fill:#fff" d="M190.0704 333.5691c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9547.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.6631-2.8588-6.1161.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0834 6.1218 2.8788C193.7885 334.2701 191.9774 333.5691 190.0704 333.5691z"/><path style="opacity:.13;clip-path:url(#SVGID_14_);fill:#020202" d="M190.0704 333.5691c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9547.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.6631-2.8588-6.1161.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0834 6.1218 2.8788C193.7885 334.2701 191.9774 333.5691 190.0704 333.5691z"/></g><g><defs><path id="SVGID_15_" d="M189.0898 318.7214c7.7763.0 15.0283 4.1826 18.926 10.915 1.9201 3.3136 2.9377 7.0988 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8612-12.0547.0024-21.8636-9.8065-21.8612-21.8612.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 321.173 183.0612 318.7214 189.0898 318.7214zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 344.7844 197.0839 342.7853 197.0839 340.5826z"/></defs><clipPath id="SVGID_16_"><use xlink:href="#SVGID_15_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_16_);fill:#f1bc42" d="M172.6595 324.15c-3.96 3.96-6.4116 9.4235-6.4116 15.452-.0024 12.0547 9.8066 21.8636 21.8613 21.8612 12.0547.0024 21.8636-9.797 21.8613-21.8612.0024-3.8474-1.0151-7.6327-2.9353-10.9462-3.8977-6.7324-11.1497-10.9151-18.926-10.9151C182.0806 317.7407 176.6171 320.1924 172.6595 324.15z"/></g></g><rect x="198.8952" y="333.6497" style="fill:#f1bc42" width="122.6266" height="13.8671"/></g></g></svg></span><span class=navbar-brand__name>Principia Materia</span></a><div class="td-navbar-nav-scroll ms-md-auto" id=main_navbar><ul class=navbar-nav><li class=nav-item><a class="nav-link active" href=/docs/><span>Documentation</span></a></li></ul></div><div class="d-none d-lg-block"><div class=td-search><div class=td-search__icon></div><input type=search class="td-search__input form-control td-search-input" placeholder="Search this site…" aria-label="Search this site…" autocomplete=off></div></div></div></nav></header><div class="container-fluid td-outer"><div class=td-main><div class="row flex-xl-nowrap"><main class="col-12 col-md-9 col-xl-8 ps-md-5" role=main><div class=td-content><div class="pageinfo pageinfo-primary d-print-none"><p>This is the multi-page printable view of this section.
<a href=# onclick="return print(),!1">Click here to print</a>.</p><p><a href=/docs/>Return to the regular view of this page</a>.</p></div><h1 class=title>Documentation</h1><ul><li>1: <a href=#pg-6557438925ac398717df86f494c6abb8>Overview</a></li><ul></ul><li>2: <a href=#pg-273a1d3f87830cbffaaf95a64d1ab7e6>Installation</a></li><ul></ul><li>3: <a href=#pg-fecdf057d1fa4c5e074135fcd9b66d33>Docsy Documentation</a></li><ul></ul><li>4: <a href=#pg-97f19c19572e4976430b36b7a68cbcbf>Command Line Functionality</a></li><ul><li>4.1: <a href=#pg-fa9262a41b78aa18ceee81a29df41be9>Input tags</a></li><li>4.2: <a href=#pg-d056c17b39b909d9df9219c429baeaa5>Crystal Structure</a></li><li>4.3: <a href=#pg-063c87c516d211b34ab5a8c64bc15b7b>General Utility for crystals</a></li><li>4.4: <a href=#pg-1e5511747a097673537b624d3e910665>Symmetrizing displacements</a></li><li>4.5: <a href=#pg-999ab15b9fb22a8746fb741fa7018b3b>Products of Irreducible Representations</a></li><li>4.6: <a href=#pg-381038f4fe96b9e57a300bfd52de5df4>Compute Irreducible Derivative</a></li><li>4.7: <a href=#pg-49da11994e29ecfc90a101746909debc>Phonon Linewidth and Thermal Conductivity</a></li></ul><li>5: <a href=#pg-852cfdb3008ca23f8bcaeceaff2ecfe8>Modules</a></li><ul><li>5.1: <a href=#pg-25748bd74692fdaa5c11272b5799d2e6>Command line interface</a></li><li>5.2: <a href=#pg-1236e8c8a584c7a7f8d8857cd5a5fb9b>Translation Group</a></li><li>5.3: <a href=#pg-d952ee4b4c22b2d0b4aa10e5598ea027>Symmetry</a></li><li>5.4: <a href=#pg-5ffb1c88cdc2294a12d69301e31832b9>Representation</a></li><li>5.5: <a href=#pg-c773bcf6d74459c11261f79f021e1510>Finite Difference</a></li></ul><li>6: <a href=#pg-188436dc90e1e3110a757e1b8e1b2abe>Data Management</a></li><ul><li>6.1: <a href=#pg-5c950eac83a444a9c90da17e97b5f3a2>Data Aggregator</a></li><li>6.2: <a href=#pg-b6a6003ea6b9887353c99c898271fbad>Database</a></li><li>6.3: <a href=#pg-830f5c42d2c29952494398c4c3770c95>hdf5</a></li></ul><li>7: <a href=#pg-52225ffd57b6b5e354b3c6d0ddb4012e>Unit Testing</a></li><ul></ul></ul><div class=content><p>Here we document all aspects of the code.</p></div></div><div class=td-content><h1 id=pg-6557438925ac398717df86f494c6abb8>1 - Overview</h1><div class=lead>PM allows one to compute various electronic and phononic properties of crystals.</div><p>This page could probably be the landing for Overview.</p><h2 id=what-is-it>What is it?<a class=td-heading-self-link href=#what-is-it aria-label="Heading self-link"></a></h2><p>PM can be used to compute phonons and their interactions via the lone irreducible derivative (LID)
and bundled irreducible derivative (BID) approaches, based on some first-principles method or
using empirical potentials.</p><p>Given some anharmonic vibrational Hamiltonian, perhaps computed using PM, one can
compute various vibrational observables, including phonon lineshifts and linewidths, thermal conductivity,
density of states, etc.</p><p>Given some real space electronic Hamiltonian, various electronic observables can be computed, including
density of states, magnetism within Hartree-Fock (assuming local interactions), etc.</p><h2 id=why-do-i-want-it>Why do I want it?<a class=td-heading-self-link href=#why-do-i-want-it aria-label="Heading self-link"></a></h2><p>Our BID algorithm for computing phonons and their interactions is the fastest finite displacement algorithm allowed by group theory.</p></div><div class=td-content style=page-break-before:always><h1 id=pg-273a1d3f87830cbffaaf95a64d1ab7e6>2 - Installation</h1><div class=lead>How you can obtain and install PM.</div><p>Principia Materia (PM) consists of Python codes with C++ and Fortran
extensions. There will soon be a variety of options for installing PM, but we
presently recommend cloning the git repository, creating a virtual environment,
installing the required dependencies, and compiling the source code.
We also provide the option of having auto-completion at the Bash shell using argcomplete. Please note that <strong>Python 3.7 or later</strong> is required to install and use PM.</p><h2 id=obtaining-the-source-code>Obtaining the source code<a class=td-heading-self-link href=#obtaining-the-source-code aria-label="Heading self-link"></a></h2><p>Clone the git repository:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>  git clone git@github.com:marianettigroup/principia-materia.git
</span></span></code></pre></div><h2 id=using-a-virtual-environment>Using a Virtual Environment<a class=td-heading-self-link href=#using-a-virtual-environment aria-label="Heading self-link"></a></h2><p>A virtual environment is recommended when working with PM.
To setup a virtual environment:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>  python -m venv ENVNAME 
</span></span></code></pre></div><p>(replace <code>ENVNAME</code> with the name you choose for the environment).</p><p>To launch the environment, issue the following command:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>  <span style=color:#204a87>source</span> ENVNAME/bin/activate
</span></span></code></pre></div><p>This virtual environment will be launched whenever running PM.</p><h2 id=installing-external-dependencies>Installing external dependencies<a class=td-heading-self-link href=#installing-external-dependencies aria-label="Heading self-link"></a></h2><p>PM depends on several external libraries: <code>openmp, lapack, blas, gcc, gfortran</code></p><ul><li>For Ubuntu 18.04 and later with gcc compilers</li></ul><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>      sudo apt install gcc gfortran libopenblas-dev libgomp1 libhdf5-dev
</span></span></code></pre></div><ul><li>For macOS with Homebrew</li></ul><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>      brew install gcc openblas
</span></span></code></pre></div><p>Required python modules for PM are listed in the file <code>requirements.txt</code>,
and can be installed using pip:</p><h2 id=installing-pm>Installing PM<a class=td-heading-self-link href=#installing-pm aria-label="Heading self-link"></a></h2><p>On both Ubuntu and macOS with Homebrew, pip can be used to install
python dependencies, compile fortran, and install PM.
The installation step can be executed with either the regular mode:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>      pip install .
</span></span></code></pre></div><p>or in editable mode:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>      pip install -e .
</span></span></code></pre></div><p>In editable mode, the
repository is dynamically link to serve as the python module so that any
changes to the code come into effect without reinstalling the module. However
for the extensions of the module that are written in FORTRAN, the
module requires recompilation to reflect any changes to the source code.
We currently recommend installing in editable mode, given that many
changes are still being made to the code.</p><h2 id=setup-shell-auto-complete>Setup Shell Auto-Complete<a class=td-heading-self-link href=#setup-shell-auto-complete aria-label="Heading self-link"></a></h2><p>The auto-complete feature is optional, and is realized with
the <a href=https://kislyuk.github.io/argcomplete>argcomplete</a> module.
To activate this feature in Bash, for example, install the module first:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>   pip install argcomplete
</span></span><span style=display:flex><span>   activate-global-python-argcomplete
</span></span></code></pre></div><p>Then within the virtual environment, source the <code>pm-completion.sh</code> script in activation script <code>ENVNAME/bin/activate</code>:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>  <span style=color:#8f5902;font-style:italic># append to ENVNAME/bin/activate</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87>source</span> <span style=color:#4e9a06>${</span><span style=color:#000>VIRTUAL_ENV</span><span style=color:#4e9a06>}</span>/../pm-completion.sh
</span></span></code></pre></div><p>Restart the environment to activate changes.</p></div><div class=td-content style=page-break-before:always><h1 id=pg-fecdf057d1fa4c5e074135fcd9b66d33>3 - Docsy Documentation</h1><div class=lead>How to contribute to the documentation of PM.</div><p>The documentation for PM is generated using <a href=https://gohugo.io/>Hugo</a> with
the <a href=https://www.docsy.dev/>Docsy</a> theme. The main advangtage of Hugo is how
fast it is, and you can basically see your changes to the documentation in real
time when viewing the site on a local server. The Docsy theme brings all of the
advanced features that are needed for technical documentation, including
detailed support for code markup (via <a href=https://prismjs.com/>prism</a>), latex
support (via <a href=https://katex.org/>katex</a>), etc.</p><p>This documentation is stored in the github repository
<a href=https://github.com/marianettigroup/principia-materia-docsy>principia-materia-docsy</a>.
When you push to the github repository, the site will automatically be built using github actions and served at
<a href=https://marianettigroup.github.io/>https://marianettigroup.github.io/</a>. If you want to push to github without rebuilding,
include <code>[skip actions]</code> in your commit message.</p><p>To view the documentation locally, start by installing hugo; snap is probably the most convenient way:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo snap install hugo
</span></span></code></pre></div><p>Now change into the directory of your local pm-docsy repo, and start the hugo server:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>hugo server 
</span></span></code></pre></div><p>You can then view the docs by pointing your browser to the local port that hugo prints out,
which is normally <a href=http://localhost:1313/>http://localhost:1313/</a>.</p><p>If you want to add to the documentation, you will find the markdown source files
in the repo here: <strong>content/en/docs/</strong>.</p><p>If you want to modify the command line input tags, you will find the yaml file
here: <strong>data/input_tag_info.yaml</strong>. An example entry in the yaml file is:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span>- <span style=color:#204a87;font-weight:700>name</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> 
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#000>supa</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>description</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> 
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#000>A matrix of integers \( \hat S_{BZ}\) that multiplies the lattice </span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#000>vector matrix to yield the supercell lattice vectors, \(\hat S_{BZ}\hat a\).</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>type</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> 
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#000>integer, matrix</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>dimension</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>  
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#000>\(3\times3\)</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>scripts</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> 
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#000>periodica, etc.</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>requires</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#000>lattice_vectors</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span></code></pre></div></div><div class=td-content style=page-break-before:always><h1 id=pg-97f19c19572e4976430b36b7a68cbcbf>4 - Command Line Functionality</h1><div class=lead>Executing core functionality of PM from the command line.</div><p>Most key tasks can be performed from the command line, and here we document all such functionality.</p></div><div class=td-content><h1 id=pg-fa9262a41b78aa18ceee81a29df41be9>4.1 - Input tags</h1><div class=lead>Input tags used by PM from the command line.</div><h2 id=list-of-input-tags>List of Input Tags<a class=td-heading-self-link href=#list-of-input-tags aria-label="Heading self-link"></a></h2><p><a href=#lattice_vectors>lattice_vectors,</a>
<a href=#basis_atoms>basis_atoms,</a></p><h3 id=lattice_vectors>lattice_vectors<a class=td-heading-self-link href=#lattice_vectors aria-label="Heading self-link"></a></h3><p>Testing 1 2 3</p><table><thead><tr><th style=text-align:left></th><th style=text-align:left></th></tr></thead><tbody><tr><td style=text-align:left><em>type:</em></td><td style=text-align:left>real, matrix</td></tr><tr><td style=text-align:left><em>dimension:</em></td><td style=text-align:left>3x3</td></tr><tr><td style=text-align:left><em>scripts:</em></td><td style=text-align:left>xx, yy</td></tr></tbody></table><p><em>type:</em> matrix</p><p><em>dimension:</em> 3x3</p><h3 id=basis_atoms>basis_atoms<a class=td-heading-self-link href=#basis_atoms aria-label="Heading self-link"></a></h3><table><thead><tr><th style=text-align:left>Name</th><th style=text-align:left>Description</th></tr></thead><tbody><tr><td style=text-align:left>lattice_vectors</td><td style=text-align:left>Lattice vectors in three dimensions, specified by a row-stacked 3x3 matrix.</td></tr><tr><td style=text-align:left>basis_atoms</td><td style=text-align:left>Basis atoms of crystal structure.</td></tr><tr><td style=text-align:left>supa</td><td style=text-align:left>A matrix of integers which left multiplies lattice_vectors to create a superlattice.</td></tr><tr><td style=text-align:left>axial_strain</td><td style=text-align:left>A vector of three floats which specifies the axial strain.</td></tr><tr><td style=text-align:left>strain</td><td style=text-align:left>A 3x3 real, symmetric matrix which specifies a general state of strain.</td></tr><tr><td style=text-align:left>point_group</td><td style=text-align:left>A string specifying the point group in Schoenfiles notation.</td></tr><tr><td style=text-align:left>kpoint</td><td style=text-align:left>A three dimensional vector specifying a kpoint.</td></tr><tr><td style=text-align:left>qpoint</td><td style=text-align:left>A three dimensional vector specifying a qpoint.</td></tr><tr><td style=text-align:left>kpoint_mesh</td><td style=text-align:left>A vector of three integers, specifying the kpoint mesh for electrons.</td></tr><tr><td style=text-align:left>qpoint_mesh</td><td style=text-align:left>A vector of three integers, specifying the qpoint mesh for phonons.</td></tr><tr><td style=text-align:left>kpoint_path</td><td style=text-align:left>A row stacked matrix of kpoints used to create a path through the BZ for plotting electronic bands.</td></tr><tr><td style=text-align:left>qpoint_path</td><td style=text-align:left>A row stacked matrix of qpoints used to create a path through the BZ for plotting phononic bands.</td></tr><tr><td style=text-align:left>force_constants</td><td style=text-align:left>A dictionary with keys being three dimensional vectors and values being NxN matrices, where N is the number of degrees of freedom in the unit cell.</td></tr></tbody></table><h2 id=tags-with-vector-or-matrix-values>Tags with vector or matrix values<a class=td-heading-self-link href=#tags-with-vector-or-matrix-values aria-label="Heading self-link"></a></h2><p>Many variables will be vectors or matrices, and all such variables will
be processed by our text parser. Below are several examples which illustrate
the variety of different ways that vectors may be input.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#204a87;font-weight:700>lattice_vectors</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> 
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#000;font-weight:700>[[</span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>,</span><span style=color:#0000cf;font-weight:700>0.5</span><span style=color:#000;font-weight:700>,</span><span style=color:#0000cf;font-weight:700>0.5</span><span style=color:#000;font-weight:700>],</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>   </span><span style=color:#000;font-weight:700>[</span><span style=color:#0000cf;font-weight:700>0.5</span><span style=color:#000;font-weight:700>,</span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>,</span><span style=color:#0000cf;font-weight:700>0.5</span><span style=color:#000;font-weight:700>],</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>   </span><span style=color:#000;font-weight:700>[</span><span style=color:#0000cf;font-weight:700>0.5</span><span style=color:#000;font-weight:700>,</span><span style=color:#0000cf;font-weight:700>0.5</span><span style=color:#000;font-weight:700>,</span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>]]</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>lattice_vectors</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000;font-weight:700>|</span><span style=color:#8f5902;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>   0 1/2 1/2
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>   1/2 0 1/2
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>   1/2 1/2 0</span><span style=color:#f8f8f8;text-decoration:underline>   
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>lattice_vectors</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#000>/2 1/2; 1/2 0 1/2; 1/2 1/2 0</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span></code></pre></div></div><div class=td-content style=page-break-before:always><h1 id=pg-d056c17b39b909d9df9219c429baeaa5>4.2 - Crystal Structure</h1><div class=lead>Most computations require a crystal structure, and PM has a standard yaml file for doing so.</div><p>For many different tasks performed in the PM suite, a crystal structure, or
some component of a crystal structure, must be provided to the code. Most
likely, this will be done using a yaml input file, and the two required key words
are <strong>vec</strong> and <strong>atoms</strong>, which will contain the lattice vectors and the basis atoms, respectively.
Considering the flourite structure, the most straightforward yaml file would be:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#8f5902;font-style:italic># xtal.yml</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>vec</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> 
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#000;font-weight:700>[[</span><span style=color:#0000cf;font-weight:700>0.000000</span><span style=color:#000;font-weight:700>,</span><span style=color:#0000cf;font-weight:700>2.764309</span><span style=color:#000;font-weight:700>,</span><span style=color:#0000cf;font-weight:700>2.764309</span><span style=color:#000;font-weight:700>],</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>   </span><span style=color:#000;font-weight:700>[</span><span style=color:#0000cf;font-weight:700>2.764309</span><span style=color:#000;font-weight:700>,</span><span style=color:#0000cf;font-weight:700>0.000000</span><span style=color:#000;font-weight:700>,</span><span style=color:#0000cf;font-weight:700>2.764309</span><span style=color:#000;font-weight:700>],</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>   </span><span style=color:#000;font-weight:700>[</span><span style=color:#0000cf;font-weight:700>2.764309</span><span style=color:#000;font-weight:700>,</span><span style=color:#0000cf;font-weight:700>2.764309</span><span style=color:#000;font-weight:700>,</span><span style=color:#0000cf;font-weight:700>0.000000</span><span style=color:#000;font-weight:700>]]</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>atoms</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span>- <span style=color:#204a87;font-weight:700>Ca</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> 
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>     </span><span style=color:#000;font-weight:700>[[</span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>,</span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>,</span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>]]</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span>- <span style=color:#204a87;font-weight:700>F</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>     </span><span style=color:#000;font-weight:700>[[</span><span style=color:#0000cf;font-weight:700>0.25</span><span style=color:#000;font-weight:700>,</span><span style=color:#0000cf;font-weight:700>0.25</span><span style=color:#000;font-weight:700>,</span><span style=color:#0000cf;font-weight:700>0.25</span><span style=color:#000;font-weight:700>],</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#000;font-weight:700>[</span><span style=color:#0000cf;font-weight:700>0.75</span><span style=color:#000;font-weight:700>,</span><span style=color:#0000cf;font-weight:700>0.75</span><span style=color:#000;font-weight:700>,</span><span style=color:#0000cf;font-weight:700>0.75</span><span style=color:#000;font-weight:700>]]</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span></code></pre></div><p>The code will infer that there is one basis atom labeled <em>Ca</em> and two basis atoms labeled <em>F</em>.</p><p>When entering matrices, we will always run the input through our general array
parser (see parse_array if interested in the details). Therefore, there are many different
options for entering a matrix as a string. For example, consider the following two examples:</p><div class="td-card-group card-group p-0 mb-4"><div class="td-card card border me-4"><div class="card-header code"><strong>xtal.yml</strong></div><div class="card-body code p-0 m-0"><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>scale</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>2.764309</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>vec</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000;font-weight:700>|</span><span style=color:#8f5902;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>   0 1 1
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>   1 0 1
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>   1 1 0</span><span style=color:#f8f8f8;text-decoration:underline>   
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>atoms</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span>- <span style=color:#204a87;font-weight:700>Ca</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>|  </span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>     </span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span>- <span style=color:#204a87;font-weight:700>F</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000;font-weight:700>|</span><span style=color:#8f5902;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>     1/4 1/4 1/4
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>     3/4 3/4 3/4</span><span style=color:#f8f8f8;text-decoration:underline>     
</span></span></span></code></pre></div></div></div><div class="td-card card border me-4"><div class="card-header code"><strong>xtal.yml</strong></div><div class="card-body code p-0 m-0"><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>scale</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>2.764309</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>vec</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>; 1 0 1 ; 1 1 0</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>atoms</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span>- <span style=color:#204a87;font-weight:700>Ca</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#f8f8f8;text-decoration:underline> 
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span>- <span style=color:#204a87;font-weight:700>F</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#000>/4 1/4 1/4 ; 3/4 3/4 3/4</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span></code></pre></div></div></div></div><p>where <strong>scale</strong> is a constant that multiplies all lattice vectors (a list of
three constants could have been provided), and the vertical lines tells yaml to
expect a text block. Our parser has a hierarchy of delimiters, ranging from
space, comma, semicolon, newline. In the above example, we have two types of
delimiters (i.e. spaces and newlines), which tells the code to form a matrix.</p><div class="alert alert-warning" role=alert><h4 class=alert-heading>Warning</h4><h3 id=potential-errors-in-yaml-input>Potential Errors in yaml input<a class=td-heading-self-link href=#potential-errors-in-yaml-input aria-label="Heading self-link"></a></h3><p>In the case of syntax error in YAML file, a <code>RuntimeError</code> will be thrown indicating the an error has
occurred during the YAML loading process. For example, with the following text as YAML input:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#204a87;font-weight:700>scale</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>2.764309</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>vec</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000;font-weight:700>|</span><span style=color:#8f5902;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>   0 1 1 ; 1 0 1 ; 1 1 0</span><span style=color:#f8f8f8;text-decoration:underline>   
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>atoms</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span>- <span style=color:#204a87;font-weight:700>Ca</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>|  </span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#f8f8f8;text-decoration:underline>  
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span>- <span style=color:#204a87;font-weight:700>F</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>|  </span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#000>/4 1/4 1/4 ; 3/4 3/4 3/4</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span></code></pre></div><p>The following error message will appear:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>    <span style=color:#c00;font-weight:700>RuntimeError</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000>Following</span> <span style=color:#000>error</span> <span style=color:#000>occured</span> <span style=color:#000>processing</span> <span style=color:#204a87>input</span> <span style=color:#000>YAML</span> <span style=color:#000>string</span><span style=color:#000;font-weight:700>:</span>
</span></span><span style=display:flex><span>    <span style=color:#000>ScannerError</span><span style=color:#000;font-weight:700>:</span> <span style=color:#204a87;font-weight:700>while</span> <span style=color:#000>scanning</span> <span style=color:#000>a</span> <span style=color:#000>simple</span> <span style=color:#000>key</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>in</span> <span style=color:#4e9a06>&#34;&lt;unicode string&gt;&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>line</span> <span style=color:#0000cf;font-weight:700>6</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>column</span> <span style=color:#0000cf;font-weight:700>5</span>
</span></span><span style=display:flex><span>    <span style=color:#000>could</span> <span style=color:#204a87;font-weight:700>not</span> <span style=color:#000>find</span> <span style=color:#000>expected</span> <span style=color:#4e9a06>&#39;:&#39;</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>in</span> <span style=color:#4e9a06>&#34;&lt;unicode string&gt;&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>line</span> <span style=color:#0000cf;font-weight:700>7</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>column</span> <span style=color:#0000cf;font-weight:700>3</span>
</span></span></code></pre></div></div><h2 id=prototype-crystal-structures>Prototype Crystal Structures<a class=td-heading-self-link href=#prototype-crystal-structures aria-label="Heading self-link"></a></h2><p>There are a number of very common crystal structures that are adopted in numerous compounds, such as rock salt,
flourite, etc. There is a simple command line script to output these crystal structures.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ pm-prototype-xtal --perovskite
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#8f5902;font-style:italic># Crystal</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>vec</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#000;font-weight:700>[[</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>3.91300000</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#0000cf;font-weight:700>0.00000000</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#0000cf;font-weight:700>0.00000000</span><span style=color:#000;font-weight:700>],</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>   </span><span style=color:#000;font-weight:700>[</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>0.00000000</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#0000cf;font-weight:700>3.91300000</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#0000cf;font-weight:700>0.00000000</span><span style=color:#000;font-weight:700>],</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>   </span><span style=color:#000;font-weight:700>[</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>0.00000000</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#0000cf;font-weight:700>0.00000000</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#0000cf;font-weight:700>3.91300000</span><span style=color:#000;font-weight:700>]]</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>atoms</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span>- <span style=color:#204a87;font-weight:700>Sr</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> 
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#000;font-weight:700>[[</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>0.50000000</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#0000cf;font-weight:700>0.50000000</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#0000cf;font-weight:700>0.50000000</span><span style=color:#000;font-weight:700>]]</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span>- <span style=color:#204a87;font-weight:700>Ti</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> 
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#000;font-weight:700>[[</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>0.00000000</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#0000cf;font-weight:700>0.00000000</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#0000cf;font-weight:700>0.00000000</span><span style=color:#000;font-weight:700>]]</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span>- <span style=color:#204a87;font-weight:700>O</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> 
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#000;font-weight:700>[[</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>0.50000000</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#0000cf;font-weight:700>0.00000000</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#0000cf;font-weight:700>0.00000000</span><span style=color:#000;font-weight:700>],</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>       </span><span style=color:#000;font-weight:700>[</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>0.00000000</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#0000cf;font-weight:700>0.50000000</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#0000cf;font-weight:700>0.00000000</span><span style=color:#000;font-weight:700>],</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>       </span><span style=color:#000;font-weight:700>[</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>0.00000000</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#0000cf;font-weight:700>0.00000000</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#0000cf;font-weight:700>0.50000000</span><span style=color:#000;font-weight:700>]]</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span></code></pre></div></div><div class=td-content style=page-break-before:always><h1 id=pg-063c87c516d211b34ab5a8c64bc15b7b>4.3 - General Utility for crystals</h1><div class=lead>Periodica performs a collection of different tasks for crystals.</div><p>Here we provide some of the basic functionality for periodica. A crystal structure
file must be provided on the command line, either as a filename or as standard input.
The crystal structure is simply output if no other
commands are provided. Let us use <code>pm-prototype</code> to look at some examles.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#8f5902;font-style:italic># start with perovskite</span>
</span></span><span style=display:flex><span>pm-prototype-xtal --perovskite &gt; xtal.yaml
</span></span><span style=display:flex><span>pm-periodica xtal.yaml
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># or we can simply do this</span>
</span></span><span style=display:flex><span>pm-prototype-xtal --perovskite  <span style=color:#000;font-weight:700>|</span> pm-periodica
</span></span></code></pre></div><p>In both cases, the output will be:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#8f5902;font-style:italic># Crystal</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>vec</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#000;font-weight:700>[[</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>3.91300000</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#0000cf;font-weight:700>0.00000000</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#0000cf;font-weight:700>0.00000000</span><span style=color:#000;font-weight:700>],</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>   </span><span style=color:#000;font-weight:700>[</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>0.00000000</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#0000cf;font-weight:700>3.91300000</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#0000cf;font-weight:700>0.00000000</span><span style=color:#000;font-weight:700>],</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>   </span><span style=color:#000;font-weight:700>[</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>0.00000000</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#0000cf;font-weight:700>0.00000000</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#0000cf;font-weight:700>3.91300000</span><span style=color:#000;font-weight:700>]]</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>atoms</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span>- <span style=color:#204a87;font-weight:700>Sr</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> 
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#000;font-weight:700>[[</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>0.50000000</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#0000cf;font-weight:700>0.50000000</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#0000cf;font-weight:700>0.50000000</span><span style=color:#000;font-weight:700>]]</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span>- <span style=color:#204a87;font-weight:700>Ti</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> 
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#000;font-weight:700>[[</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>0.00000000</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#0000cf;font-weight:700>0.00000000</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#0000cf;font-weight:700>0.00000000</span><span style=color:#000;font-weight:700>]]</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span>- <span style=color:#204a87;font-weight:700>O</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> 
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#000;font-weight:700>[[</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>0.50000000</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#0000cf;font-weight:700>0.00000000</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#0000cf;font-weight:700>0.00000000</span><span style=color:#000;font-weight:700>],</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>       </span><span style=color:#000;font-weight:700>[</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>0.00000000</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#0000cf;font-weight:700>0.50000000</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#0000cf;font-weight:700>0.00000000</span><span style=color:#000;font-weight:700>],</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>       </span><span style=color:#000;font-weight:700>[</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>0.00000000</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#0000cf;font-weight:700>0.00000000</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#0000cf;font-weight:700>0.50000000</span><span style=color:#000;font-weight:700>]]</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span></code></pre></div><p>Basic manipulations of the unit cell can be peformed, like shifting or permuting the atoms.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>pm-periodica xtal.yaml --shift-origin 0.5,0.5,0.5 --shift-into-cell --permute-atoms 0,1,3,4,2
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#8f5902;font-style:italic># Crystal</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>vec</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#000;font-weight:700>[[</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>3.91300000</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#0000cf;font-weight:700>0.00000000</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#0000cf;font-weight:700>0.00000000</span><span style=color:#000;font-weight:700>],</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>   </span><span style=color:#000;font-weight:700>[</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>0.00000000</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#0000cf;font-weight:700>3.91300000</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#0000cf;font-weight:700>0.00000000</span><span style=color:#000;font-weight:700>],</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>   </span><span style=color:#000;font-weight:700>[</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>0.00000000</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#0000cf;font-weight:700>0.00000000</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#0000cf;font-weight:700>3.91300000</span><span style=color:#000;font-weight:700>]]</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>atoms</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span>- <span style=color:#204a87;font-weight:700>Sr</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> 
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#000;font-weight:700>[[</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>0.00000000</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#0000cf;font-weight:700>0.00000000</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#0000cf;font-weight:700>0.00000000</span><span style=color:#000;font-weight:700>]]</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span>- <span style=color:#204a87;font-weight:700>Ti</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> 
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#000;font-weight:700>[[</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>0.50000000</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#0000cf;font-weight:700>0.50000000</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#0000cf;font-weight:700>0.50000000</span><span style=color:#000;font-weight:700>]]</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span>- <span style=color:#204a87;font-weight:700>O</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> 
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#000;font-weight:700>[[</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>0.50000000</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#0000cf;font-weight:700>0.00000000</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#0000cf;font-weight:700>0.50000000</span><span style=color:#000;font-weight:700>],</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>       </span><span style=color:#000;font-weight:700>[</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>0.50000000</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#0000cf;font-weight:700>0.50000000</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#0000cf;font-weight:700>0.00000000</span><span style=color:#000;font-weight:700>],</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>       </span><span style=color:#000;font-weight:700>[</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>0.00000000</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#0000cf;font-weight:700>0.50000000</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#0000cf;font-weight:700>0.50000000</span><span style=color:#000;font-weight:700>]]</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span></code></pre></div><p>Basic information about the lattice can be printed.</p></div><div class=td-content style=page-break-before:always><h1 id=pg-1e5511747a097673537b624d3e910665>4.4 - Symmetrizing displacements</h1><div class=lead>A key task is to symmetrize the basis such that the vectors transform like irreducible representations.</div><p>Here we illustrate how to symmtrize displacements at a given q-point according to irreducible representations
of the little group using the script <strong>pm-disp-qrep</strong>. Take the example of \(\bm{q}=(\frac{1}{2},\frac{1}{2},\frac{1}{2})\)
in cubic SrTiO\(_3\). We will use <strong>pm-prototype-xtal</strong> to generate the crystal structure file.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ pm-prototype-xtal --perovskite &gt; xtal.yml
</span></span></code></pre></div><p>Printing out the irreducible representations, we have</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ pm-disp-qrep xtal.yml --point-group Oh --qpoint 1/2,1/2,1/2 --print-irreps
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>OrbitKey<span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>name</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#39;Sr&#39;</span>, <span style=color:#000>index</span><span style=color:#ce5c00;font-weight:700>=</span>0<span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>[</span>0<span style=color:#ce5c00;font-weight:700>]</span>
</span></span><span style=display:flex><span>T2g
</span></span><span style=display:flex><span>OrbitKey<span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>name</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#39;Ti&#39;</span>, <span style=color:#000>index</span><span style=color:#ce5c00;font-weight:700>=</span>0<span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>[</span>0<span style=color:#ce5c00;font-weight:700>]</span>
</span></span><span style=display:flex><span>T1u
</span></span><span style=display:flex><span>OrbitKey<span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>name</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#39;O&#39;</span>, <span style=color:#000>index</span><span style=color:#ce5c00;font-weight:700>=</span>0<span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>[</span>0, 1, 2<span style=color:#ce5c00;font-weight:700>]</span>
</span></span><span style=display:flex><span>A1g+Eg+T1g+T2g
</span></span></code></pre></div><p>We can also print out the irreducible representation vectors.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ pm-disp-qrep xtal.yml --point-group Oh --qpoint 1/2,1/2,1/2 --print-vectors
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>T2g<span style=color:#ce5c00;font-weight:700>[</span>Sr<span style=color:#ce5c00;font-weight:700>]</span>
</span></span><span style=display:flex><span> 0.0000  0.0000  1.0000
</span></span><span style=display:flex><span> 1.0000  0.0000  0.0000
</span></span><span style=display:flex><span> 0.0000  1.0000  0.0000
</span></span><span style=display:flex><span>T1u<span style=color:#ce5c00;font-weight:700>[</span>Ti<span style=color:#ce5c00;font-weight:700>]</span>
</span></span><span style=display:flex><span> 1.0000  0.0000  0.0000
</span></span><span style=display:flex><span> 0.0000  1.0000  0.0000
</span></span><span style=display:flex><span> 0.0000  0.0000  1.0000
</span></span><span style=display:flex><span>A1g<span style=color:#ce5c00;font-weight:700>[</span>O<span style=color:#ce5c00;font-weight:700>]</span>
</span></span><span style=display:flex><span> 0.5774  0.0000  0.0000  0.0000  0.5774  0.0000  0.0000  0.0000  0.5774
</span></span><span style=display:flex><span>Eg<span style=color:#ce5c00;font-weight:700>[</span>O<span style=color:#ce5c00;font-weight:700>]</span>
</span></span><span style=display:flex><span> 0.7071  0.0000  0.0000  0.0000 -0.7071  0.0000  0.0000  0.0000  0.0000
</span></span><span style=display:flex><span>-0.4082  0.0000  0.0000  0.0000 -0.4082  0.0000  0.0000  0.0000  0.8165
</span></span><span style=display:flex><span>T1g<span style=color:#ce5c00;font-weight:700>[</span>O<span style=color:#ce5c00;font-weight:700>]</span>
</span></span><span style=display:flex><span> 0.0000  0.0000  0.0000  0.0000  0.0000  0.7071  0.0000 -0.7071  0.0000
</span></span><span style=display:flex><span> 0.0000  0.0000 -0.7071  0.0000  0.0000  0.0000  0.7071  0.0000  0.0000
</span></span><span style=display:flex><span> 0.0000  0.7071  0.0000 -0.7071  0.0000  0.0000  0.0000  0.0000  0.0000
</span></span><span style=display:flex><span>T2g<span style=color:#ce5c00;font-weight:700>[</span>O<span style=color:#ce5c00;font-weight:700>]</span>
</span></span><span style=display:flex><span> 0.0000  0.7071  0.0000  0.7071  0.0000  0.0000  0.0000  0.0000  0.0000
</span></span><span style=display:flex><span> 0.0000  0.0000  0.0000  0.0000  0.0000  0.7071  0.0000  0.7071  0.0000
</span></span><span style=display:flex><span> 0.0000  0.0000  0.7071  0.0000  0.0000  0.0000  0.7071  0.0000  0.0000
</span></span></code></pre></div><p>This script will block diagonalize a dynamical matrix which has been provided. Consider
the dyanmical matrix at the gamma point for STO:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ cat dmat.yaml
</span></span><span style=display:flex><span>dynamical_matrix_real: 
</span></span><span style=display:flex><span>      3.6228  <span style=color:#0000cf;font-weight:700>0</span>       <span style=color:#0000cf;font-weight:700>0</span>      -2.990   <span style=color:#0000cf;font-weight:700>0</span>       <span style=color:#0000cf;font-weight:700>0</span>       0.2751  <span style=color:#0000cf;font-weight:700>0</span>       <span style=color:#0000cf;font-weight:700>0</span>       0.2751  <span style=color:#0000cf;font-weight:700>0</span>       <span style=color:#0000cf;font-weight:700>0</span>      -1.1822  <span style=color:#0000cf;font-weight:700>0</span>       <span style=color:#0000cf;font-weight:700>0</span>     
</span></span><span style=display:flex><span>      <span style=color:#0000cf;font-weight:700>0</span>       3.6228  <span style=color:#0000cf;font-weight:700>0</span>       <span style=color:#0000cf;font-weight:700>0</span>      -2.990   <span style=color:#0000cf;font-weight:700>0</span>       <span style=color:#0000cf;font-weight:700>0</span>      -1.1822  <span style=color:#0000cf;font-weight:700>0</span>       <span style=color:#0000cf;font-weight:700>0</span>       0.2751  <span style=color:#0000cf;font-weight:700>0</span>       <span style=color:#0000cf;font-weight:700>0</span>       0.2751  <span style=color:#0000cf;font-weight:700>0</span>     
</span></span><span style=display:flex><span>      <span style=color:#0000cf;font-weight:700>0</span>       <span style=color:#0000cf;font-weight:700>0</span>       3.6228  <span style=color:#0000cf;font-weight:700>0</span>       <span style=color:#0000cf;font-weight:700>0</span>      -2.990   <span style=color:#0000cf;font-weight:700>0</span>       <span style=color:#0000cf;font-weight:700>0</span>       0.2751  <span style=color:#0000cf;font-weight:700>0</span>       <span style=color:#0000cf;font-weight:700>0</span>      -1.1822  <span style=color:#0000cf;font-weight:700>0</span>       <span style=color:#0000cf;font-weight:700>0</span>       0.2751
</span></span><span style=display:flex><span>     -2.990   <span style=color:#0000cf;font-weight:700>0</span>       <span style=color:#0000cf;font-weight:700>0</span>       2.060   <span style=color:#0000cf;font-weight:700>0</span>       <span style=color:#0000cf;font-weight:700>0</span>       0.2442  <span style=color:#0000cf;font-weight:700>0</span>       <span style=color:#0000cf;font-weight:700>0</span>       0.2442  <span style=color:#0000cf;font-weight:700>0</span>       <span style=color:#0000cf;font-weight:700>0</span>       0.4416  <span style=color:#0000cf;font-weight:700>0</span>       <span style=color:#0000cf;font-weight:700>0</span>     
</span></span><span style=display:flex><span>      <span style=color:#0000cf;font-weight:700>0</span>      -2.990   <span style=color:#0000cf;font-weight:700>0</span>       <span style=color:#0000cf;font-weight:700>0</span>       2.060   <span style=color:#0000cf;font-weight:700>0</span>       <span style=color:#0000cf;font-weight:700>0</span>       0.4416  <span style=color:#0000cf;font-weight:700>0</span>       <span style=color:#0000cf;font-weight:700>0</span>       0.2442  <span style=color:#0000cf;font-weight:700>0</span>       <span style=color:#0000cf;font-weight:700>0</span>       0.2442  <span style=color:#0000cf;font-weight:700>0</span>     
</span></span><span style=display:flex><span>      <span style=color:#0000cf;font-weight:700>0</span>       <span style=color:#0000cf;font-weight:700>0</span>      -2.990   <span style=color:#0000cf;font-weight:700>0</span>       <span style=color:#0000cf;font-weight:700>0</span>       2.060   <span style=color:#0000cf;font-weight:700>0</span>       <span style=color:#0000cf;font-weight:700>0</span>       0.2442  <span style=color:#0000cf;font-weight:700>0</span>       <span style=color:#0000cf;font-weight:700>0</span>       0.4416  <span style=color:#0000cf;font-weight:700>0</span>       <span style=color:#0000cf;font-weight:700>0</span>       0.2442
</span></span><span style=display:flex><span>      0.2751  <span style=color:#0000cf;font-weight:700>0</span>       <span style=color:#0000cf;font-weight:700>0</span>       0.2442  <span style=color:#0000cf;font-weight:700>0</span>       <span style=color:#0000cf;font-weight:700>0</span>       4.0322  <span style=color:#0000cf;font-weight:700>0</span>       <span style=color:#0000cf;font-weight:700>0</span>       0.90    <span style=color:#0000cf;font-weight:700>0</span>       <span style=color:#0000cf;font-weight:700>0</span>      -5.460   <span style=color:#0000cf;font-weight:700>0</span>       <span style=color:#0000cf;font-weight:700>0</span>     
</span></span><span style=display:flex><span>      <span style=color:#0000cf;font-weight:700>0</span>      -1.1822  <span style=color:#0000cf;font-weight:700>0</span>       <span style=color:#0000cf;font-weight:700>0</span>       0.4416  <span style=color:#0000cf;font-weight:700>0</span>       <span style=color:#0000cf;font-weight:700>0</span>      11.6616  <span style=color:#0000cf;font-weight:700>0</span>       <span style=color:#0000cf;font-weight:700>0</span>      -5.460   <span style=color:#0000cf;font-weight:700>0</span>       <span style=color:#0000cf;font-weight:700>0</span>      -5.460   <span style=color:#0000cf;font-weight:700>0</span>     
</span></span><span style=display:flex><span>      <span style=color:#0000cf;font-weight:700>0</span>       <span style=color:#0000cf;font-weight:700>0</span>       0.2751  <span style=color:#0000cf;font-weight:700>0</span>       <span style=color:#0000cf;font-weight:700>0</span>       0.2442  <span style=color:#0000cf;font-weight:700>0</span>       <span style=color:#0000cf;font-weight:700>0</span>       4.0322  <span style=color:#0000cf;font-weight:700>0</span>       <span style=color:#0000cf;font-weight:700>0</span>      -5.460   <span style=color:#0000cf;font-weight:700>0</span>       <span style=color:#0000cf;font-weight:700>0</span>       0.90  
</span></span><span style=display:flex><span>      0.2751  <span style=color:#0000cf;font-weight:700>0</span>       <span style=color:#0000cf;font-weight:700>0</span>       0.2442  <span style=color:#0000cf;font-weight:700>0</span>       <span style=color:#0000cf;font-weight:700>0</span>       0.90    <span style=color:#0000cf;font-weight:700>0</span>       <span style=color:#0000cf;font-weight:700>0</span>       4.0322  <span style=color:#0000cf;font-weight:700>0</span>       <span style=color:#0000cf;font-weight:700>0</span>      -5.460   <span style=color:#0000cf;font-weight:700>0</span>       <span style=color:#0000cf;font-weight:700>0</span>     
</span></span><span style=display:flex><span>      <span style=color:#0000cf;font-weight:700>0</span>       0.2751  <span style=color:#0000cf;font-weight:700>0</span>       <span style=color:#0000cf;font-weight:700>0</span>       0.2442  <span style=color:#0000cf;font-weight:700>0</span>       <span style=color:#0000cf;font-weight:700>0</span>      -5.460   <span style=color:#0000cf;font-weight:700>0</span>       <span style=color:#0000cf;font-weight:700>0</span>       4.0322  <span style=color:#0000cf;font-weight:700>0</span>       <span style=color:#0000cf;font-weight:700>0</span>       0.90    <span style=color:#0000cf;font-weight:700>0</span>     
</span></span><span style=display:flex><span>      <span style=color:#0000cf;font-weight:700>0</span>       <span style=color:#0000cf;font-weight:700>0</span>      -1.1822  <span style=color:#0000cf;font-weight:700>0</span>       <span style=color:#0000cf;font-weight:700>0</span>       0.4416  <span style=color:#0000cf;font-weight:700>0</span>       <span style=color:#0000cf;font-weight:700>0</span>      -5.460   <span style=color:#0000cf;font-weight:700>0</span>       <span style=color:#0000cf;font-weight:700>0</span>      11.6616  <span style=color:#0000cf;font-weight:700>0</span>       <span style=color:#0000cf;font-weight:700>0</span>      -5.4605
</span></span><span style=display:flex><span>     -1.1822  <span style=color:#0000cf;font-weight:700>0</span>       <span style=color:#0000cf;font-weight:700>0</span>       0.4416  <span style=color:#0000cf;font-weight:700>0</span>       <span style=color:#0000cf;font-weight:700>0</span>      -5.460   <span style=color:#0000cf;font-weight:700>0</span>       <span style=color:#0000cf;font-weight:700>0</span>      -5.460   <span style=color:#0000cf;font-weight:700>0</span>       <span style=color:#0000cf;font-weight:700>0</span>      11.6616  <span style=color:#0000cf;font-weight:700>0</span>       <span style=color:#0000cf;font-weight:700>0</span>     
</span></span><span style=display:flex><span>      <span style=color:#0000cf;font-weight:700>0</span>       0.2751  <span style=color:#0000cf;font-weight:700>0</span>       <span style=color:#0000cf;font-weight:700>0</span>       0.2442  <span style=color:#0000cf;font-weight:700>0</span>       <span style=color:#0000cf;font-weight:700>0</span>      -5.460   <span style=color:#0000cf;font-weight:700>0</span>       <span style=color:#0000cf;font-weight:700>0</span>       0.90    <span style=color:#0000cf;font-weight:700>0</span>       <span style=color:#0000cf;font-weight:700>0</span>       4.0322  <span style=color:#0000cf;font-weight:700>0</span>     
</span></span><span style=display:flex><span>      <span style=color:#0000cf;font-weight:700>0</span>       <span style=color:#0000cf;font-weight:700>0</span>       0.2751  <span style=color:#0000cf;font-weight:700>0</span>       <span style=color:#0000cf;font-weight:700>0</span>       0.2442  <span style=color:#0000cf;font-weight:700>0</span>       <span style=color:#0000cf;font-weight:700>0</span>       0.90    <span style=color:#0000cf;font-weight:700>0</span>       <span style=color:#0000cf;font-weight:700>0</span>      -5.460   <span style=color:#0000cf;font-weight:700>0</span>       <span style=color:#0000cf;font-weight:700>0</span>       4.0322
</span></span></code></pre></div><p>We can then block diagonalize as follows:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>pm-prototype-xtal --perovskite2 <span style=color:#000;font-weight:700>|</span> pm-disp-qrep --point-group Oh --qpoint 0,0,0 --dynamical-matrix ~/dmat.yaml
</span></span><span style=display:flex><span>T1u-block : <span style=color:#ce5c00;font-weight:700>[(</span><span style=color:#4e9a06>&#39;T1u&#39;</span>, 0<span style=color:#ce5c00;font-weight:700>)</span>, <span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#39;T1u&#39;</span>, 1<span style=color:#ce5c00;font-weight:700>)</span>, <span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#39;T1u&#39;</span>, 2<span style=color:#ce5c00;font-weight:700>)</span>, <span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#39;T1u&#39;</span>, 3<span style=color:#ce5c00;font-weight:700>)]</span>
</span></span><span style=display:flex><span>Dynamical matrix sub-block - first row
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>[[</span> 0.    0.    0.    0.  <span style=color:#ce5c00;font-weight:700>]</span>
</span></span><span style=display:flex><span> <span style=color:#ce5c00;font-weight:700>[</span> 0.    2.57  3.2  -0.18<span style=color:#ce5c00;font-weight:700>]</span>
</span></span><span style=display:flex><span> <span style=color:#ce5c00;font-weight:700>[</span> 0.    3.2   3.01 -1.33<span style=color:#ce5c00;font-weight:700>]</span>
</span></span><span style=display:flex><span> <span style=color:#ce5c00;font-weight:700>[</span> 0.   -0.18 -1.33 16.7 <span style=color:#ce5c00;font-weight:700>]]</span>
</span></span><span style=display:flex><span>Mass matrix sub-block - first row
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>[[</span> 36.7    5.59 -27.74   0.  <span style=color:#ce5c00;font-weight:700>]</span>
</span></span><span style=display:flex><span> <span style=color:#ce5c00;font-weight:700>[</span>  5.59  45.08  13.87   0.  <span style=color:#ce5c00;font-weight:700>]</span>
</span></span><span style=display:flex><span> <span style=color:#ce5c00;font-weight:700>[</span>-27.74  13.87  69.71   0.  <span style=color:#ce5c00;font-weight:700>]</span>
</span></span><span style=display:flex><span> <span style=color:#ce5c00;font-weight:700>[</span>  0.     0.     0.    16.  <span style=color:#ce5c00;font-weight:700>]]</span>
</span></span><span style=display:flex><span>Mass renormalized Eigvecs
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>[[</span>-0.324  0.931 -0.169 -0.017<span style=color:#ce5c00;font-weight:700>]</span>
</span></span><span style=display:flex><span> <span style=color:#ce5c00;font-weight:700>[</span> 0.692  0.111 -0.713  0.   <span style=color:#ce5c00;font-weight:700>]</span>
</span></span><span style=display:flex><span> <span style=color:#ce5c00;font-weight:700>[</span>-0.644 -0.348 -0.68  -0.046<span style=color:#ce5c00;font-weight:700>]</span>
</span></span><span style=display:flex><span> <span style=color:#ce5c00;font-weight:700>[</span>-0.035  0.    -0.034  0.999<span style=color:#ce5c00;font-weight:700>]]</span>
</span></span><span style=display:flex><span>Unique Frequencies <span style=color:#ce5c00;font-weight:700>(</span>meV<span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>[</span>-8.19 -0.58 19.56 66.13<span style=color:#ce5c00;font-weight:700>]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>T2u-block : <span style=color:#ce5c00;font-weight:700>[(</span><span style=color:#4e9a06>&#39;T2u&#39;</span>, 0<span style=color:#ce5c00;font-weight:700>)]</span>
</span></span><span style=display:flex><span>Dynamical matrix sub-block - first row
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>[[</span>3.13<span style=color:#ce5c00;font-weight:700>]]</span>
</span></span><span style=display:flex><span>Mass matrix sub-block - first row
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>[[</span>16.<span style=color:#ce5c00;font-weight:700>]]</span>
</span></span><span style=display:flex><span>Mass renormalized Eigvecs
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>[[</span>1.<span style=color:#ce5c00;font-weight:700>]]</span>
</span></span><span style=display:flex><span>Unique Frequencies <span style=color:#ce5c00;font-weight:700>(</span>meV<span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>[</span>28.61<span style=color:#ce5c00;font-weight:700>]</span>
</span></span></code></pre></div><p>It may be desirable to perform a unitary transformation within some irreducible representation subspace. Consider a yam file called <strong>unitary.yaml</strong> with the following content:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#8f5902;font-style:italic># unitary transformation to nearly diagonize the T1u subspace</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span>- <span style=color:#204a87;font-weight:700>block</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#39;Optical&#39;</span><span style=color:#000;font-weight:700>,</span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>]</span><span style=color:#f8f8f8;text-decoration:underline> 
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>irr_rep</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#39;T1u&#39;</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>instances</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000;font-weight:700>[</span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>,</span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>]</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>U</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> 
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#000;font-weight:700>[[</span><span style=color:#f8f8f8;text-decoration:underline> </span>-<span style=color:#0000cf;font-weight:700>0.73059222</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>0.68281403</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000;font-weight:700>],</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>     </span><span style=color:#000;font-weight:700>[</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#0000cf;font-weight:700>0.68281403</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>0.73059222</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000;font-weight:700>]]</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span></code></pre></div><p>The conventional output is:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ pm-prototype-xtal --perovskite2 <span style=color:#000;font-weight:700>|</span> pm-disp-qrep --point-group Oh --qpoint 0,0,0  --print-vectors
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#39;Acoustic&#39;</span>, 0<span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>[</span>0, 1, 2, 3, 4<span style=color:#ce5c00;font-weight:700>]</span>
</span></span><span style=display:flex><span>T1u
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#39;T1u&#39;</span>, 0<span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>[[</span>0.447 0.    0.    0.447 0.    0.    0.447 0.    0.    0.447 0.    0.    0.447 0.    0.   <span style=color:#ce5c00;font-weight:700>]</span>
</span></span><span style=display:flex><span> <span style=color:#ce5c00;font-weight:700>[</span>0.    0.447 0.    0.    0.447 0.    0.    0.447 0.    0.    0.447 0.    0.    0.447 0.   <span style=color:#ce5c00;font-weight:700>]</span>
</span></span><span style=display:flex><span> <span style=color:#ce5c00;font-weight:700>[</span>0.    0.    0.447 0.    0.    0.447 0.    0.    0.447 0.    0.    0.447 0.    0.    0.447<span style=color:#ce5c00;font-weight:700>]]</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#39;Optical&#39;</span>, 0<span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>[</span>0, 1, 2, 3, 4<span style=color:#ce5c00;font-weight:700>]</span>
</span></span><span style=display:flex><span>2T1u
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#39;T1u&#39;</span>, 0<span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>[[</span>-0.224  0.     0.     0.894  0.     0.    -0.224  0.     0.    -0.224  0.     0.    -0.224  0.     0.   <span style=color:#ce5c00;font-weight:700>]</span>
</span></span><span style=display:flex><span> <span style=color:#ce5c00;font-weight:700>[</span> 0.    -0.224  0.     0.     0.894  0.     0.    -0.224  0.     0.    -0.224  0.     0.    -0.224  0.   <span style=color:#ce5c00;font-weight:700>]</span>
</span></span><span style=display:flex><span> <span style=color:#ce5c00;font-weight:700>[</span> 0.     0.    -0.224  0.     0.     0.894  0.     0.    -0.224  0.     0.    -0.224  0.     0.    -0.224<span style=color:#ce5c00;font-weight:700>]]</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#39;T1u&#39;</span>, 1<span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>[[</span>-0.866  0.     0.     0.     0.     0.     0.289  0.     0.     0.289  0.     0.     0.289  0.     0.   <span style=color:#ce5c00;font-weight:700>]</span>
</span></span><span style=display:flex><span> <span style=color:#ce5c00;font-weight:700>[</span> 0.    -0.866  0.     0.     0.     0.     0.     0.289  0.     0.     0.289  0.     0.     0.289  0.   <span style=color:#ce5c00;font-weight:700>]</span>
</span></span><span style=display:flex><span> <span style=color:#ce5c00;font-weight:700>[</span> 0.     0.    -0.866  0.     0.     0.     0.     0.     0.289  0.     0.     0.289  0.     0.     0.289<span style=color:#ce5c00;font-weight:700>]]</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#39;O&#39;</span>, 0<span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>[</span><span style=color:#0000cf;font-weight:700>2</span> <span style=color:#0000cf;font-weight:700>3</span> 4<span style=color:#ce5c00;font-weight:700>]</span>
</span></span><span style=display:flex><span>T1u+T2u
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#39;T1u&#39;</span>, 0<span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>[[</span> 0.408  0.     0.     0.408  0.     0.    -0.816  0.     0.   <span style=color:#ce5c00;font-weight:700>]</span>
</span></span><span style=display:flex><span> <span style=color:#ce5c00;font-weight:700>[</span> 0.    -0.816  0.     0.     0.408  0.     0.     0.408  0.   <span style=color:#ce5c00;font-weight:700>]</span>
</span></span><span style=display:flex><span> <span style=color:#ce5c00;font-weight:700>[</span> 0.     0.     0.408  0.     0.    -0.816  0.     0.     0.408<span style=color:#ce5c00;font-weight:700>]]</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#39;T2u&#39;</span>, 0<span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>[[</span> 0.     0.     0.707  0.     0.     0.     0.     0.    -0.707<span style=color:#ce5c00;font-weight:700>]</span>
</span></span><span style=display:flex><span> <span style=color:#ce5c00;font-weight:700>[</span>-0.707  0.     0.     0.707  0.     0.     0.     0.     0.   <span style=color:#ce5c00;font-weight:700>]</span>
</span></span><span style=display:flex><span> <span style=color:#ce5c00;font-weight:700>[</span> 0.     0.     0.     0.    -0.707  0.     0.     0.707  0.   <span style=color:#ce5c00;font-weight:700>]]</span>
</span></span></code></pre></div><p>Now we can print the relevant output after the unitary transformation:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ pm-prototype-xtal --perovskite2 <span style=color:#000;font-weight:700>|</span> pm-disp-qrep --point-group Oh --qpoint 0,0,0  --unitary-transformation ~/unitary.yaml --print-vectors
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#39;Optical&#39;</span>, 0<span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>[</span>0, 1, 2, 3, 4<span style=color:#ce5c00;font-weight:700>]</span>
</span></span><span style=display:flex><span>2T1u
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#39;T1u&#39;</span>, 0<span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>[[</span>-0.428  0.     0.    -0.653  0.     0.     0.36   0.     0.     0.36   0.     0.     0.36   0.     0.   <span style=color:#ce5c00;font-weight:700>]</span>
</span></span><span style=display:flex><span> <span style=color:#ce5c00;font-weight:700>[</span> 0.    -0.428  0.     0.    -0.653  0.     0.     0.36   0.     0.     0.36   0.     0.     0.36   0.   <span style=color:#ce5c00;font-weight:700>]</span>
</span></span><span style=display:flex><span> <span style=color:#ce5c00;font-weight:700>[</span> 0.     0.    -0.428  0.     0.    -0.653  0.     0.     0.36   0.     0.     0.36   0.     0.     0.36 <span style=color:#ce5c00;font-weight:700>]]</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#39;T1u&#39;</span>, 1<span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>[[</span>-0.785  0.     0.     0.611  0.     0.     0.058  0.     0.     0.058  0.     0.     0.058  0.     0.   <span style=color:#ce5c00;font-weight:700>]</span>
</span></span><span style=display:flex><span> <span style=color:#ce5c00;font-weight:700>[</span> 0.    -0.785  0.     0.     0.611  0.     0.     0.058  0.     0.     0.058  0.     0.     0.058  0.   <span style=color:#ce5c00;font-weight:700>]</span>
</span></span><span style=display:flex><span> <span style=color:#ce5c00;font-weight:700>[</span> 0.     0.    -0.785  0.     0.     0.611  0.     0.     0.058  0.     0.     0.058  0.     0.     0.058<span style=color:#ce5c00;font-weight:700>]]</span>
</span></span></code></pre></div><p>Given some distorted crystal structure, one can project the displacement onto symmetrized
displacements. Consider the primitive unit cell of STO where the ferroelectric mode is allowed
to condense by treating the nuclear motion as classical:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#000>$ cat xtal_ferro.yaml</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#8f5902;font-style:italic># Crystal</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>vec</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#000;font-weight:700>[[</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>3.89736730</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#0000cf;font-weight:700>0.00092044</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#0000cf;font-weight:700>0.00092044</span><span style=color:#000;font-weight:700>],</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>   </span><span style=color:#000;font-weight:700>[</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>0.00092044</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#0000cf;font-weight:700>3.89736730</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#0000cf;font-weight:700>0.00092044</span><span style=color:#000;font-weight:700>],</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>   </span><span style=color:#000;font-weight:700>[</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>0.00092044</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#0000cf;font-weight:700>0.00092044</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#0000cf;font-weight:700>3.89736730</span><span style=color:#000;font-weight:700>]]</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>atoms</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span>- <span style=color:#204a87;font-weight:700>Sr</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#000;font-weight:700>[[</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>0.02422827</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#0000cf;font-weight:700>0.02422827</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#0000cf;font-weight:700>0.02422827</span><span style=color:#000;font-weight:700>]]</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span>- <span style=color:#204a87;font-weight:700>Ti</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#000;font-weight:700>[[</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>0.52563170</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#0000cf;font-weight:700>0.52563170</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#0000cf;font-weight:700>0.52563170</span><span style=color:#000;font-weight:700>]]</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span>- <span style=color:#204a87;font-weight:700>O</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#000;font-weight:700>[[</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>0.51647453</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#0000cf;font-weight:700>0.01719097</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#0000cf;font-weight:700>0.51647453</span><span style=color:#000;font-weight:700>],</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>       </span><span style=color:#000;font-weight:700>[</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>0.51647453</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#0000cf;font-weight:700>0.51647453</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#0000cf;font-weight:700>0.01719097</span><span style=color:#000;font-weight:700>],</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>       </span><span style=color:#000;font-weight:700>[</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>0.01719097</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#0000cf;font-weight:700>0.51647453</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#0000cf;font-weight:700>0.51647453</span><span style=color:#000;font-weight:700>]]</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span></code></pre></div><p>Projecting onto irreducible representations gives:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>pm-prototype-xtal --perovskite2 <span style=color:#000;font-weight:700>|</span> pm-disp-qrep --point-group Oh --qpoint 0,0,0  --unitary-transformation unitary.yaml  --project-xtal xtal_ferro.yaml
</span></span><span style=display:flex><span>Projection onto irreducible representations
</span></span><span style=display:flex><span>Block : Acoustic
</span></span><span style=display:flex><span>----------------
</span></span><span style=display:flex><span>T1u     0.1744  0.1744  0.1744
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Block : Optical
</span></span><span style=display:flex><span>---------------
</span></span><span style=display:flex><span>T1u     -0.0353 -0.0353 -0.0353
</span></span><span style=display:flex><span>1.T1u   -0.0018 -0.0018 -0.0018
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Block : O
</span></span><span style=display:flex><span>---------
</span></span><span style=display:flex><span>T1u     -0.0023 -0.0023 -0.0023
</span></span><span style=display:flex><span>T2u     <span style=color:#0000cf;font-weight:700>0</span>       <span style=color:#0000cf;font-weight:700>0</span>       <span style=color:#0000cf;font-weight:700>0</span>
</span></span></code></pre></div></div><div class=td-content style=page-break-before:always><h1 id=pg-999ab15b9fb22a8746fb741fa7018b3b>4.5 - Products of Irreducible Representations</h1><div class=lead>Perform direct products and symmetric direct products of irreps.</div><p>A common group theoretical task is the direct product or symmetric direct product of irreducible representations. The composition of a product is obtained as</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>pm-irrep-product --point-group Oh --irreps T2g,T2g
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># output</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># T2gxT2g  = A1g+Eg+T1g+T2g </span>
</span></span></code></pre></div><p>The composition of a <em>symmetric</em> product is obtained as</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>pm-irrep-product --point-group Oh --irreps T2g,T2g --symmetric 
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># output</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># [T2gxT2g] = A1g+Eg+T2g</span>
</span></span></code></pre></div><p>An arbitrary number of irreps can be handled</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>pm-irrep-product --point-group Oh --irreps T2g,T2g,Eg,Eg,A2g
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># output</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># T2gxT2gxEgxEgxA2g  = 2A1g+2A2g+4Eg+4T1g+4T2g</span>
</span></span></code></pre></div><p>Another important task is constructing the irreducible representation vectors of the product
representation in terms of the rows of the original irreducible representations.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>pm-irrep-product --point-group Oh --irreps Eg,Eg  --print-vectors  
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># output</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>#</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>#  EgxEg  = A1g+A2g+Eg</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># </span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># irr   Eg.0xEg.0  Eg.0xEg.1  Eg.1xEg.0  Eg.1xEg.1  </span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># A1g   0.7071     0.0        0.0        0.7071     </span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># A2g   0.0        0.7071     -0.7071    0.0        </span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># Eg.0  0.0        0.7071     0.7071     0.0        </span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># Eg.1  0.7071     0.0        0.0        -0.7071 </span>
</span></span></code></pre></div><p>The same can be done for the symmetric product</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>pm-irrep-product --point-group Oh --irreps Eg,Eg  --print-vectors  --symmetric 
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># output </span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>#</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># [EgxEg] = A1g+Eg</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>#</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># irr   Eg.0xEg.0  Eg.0xEg.1  Eg.1xEg.1  </span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># A1g   0.7071     0.0        0.7071     </span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># Eg.0  0.0        1.0        0.0        </span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># Eg.1  0.7071     0.0        -0.7071</span>
</span></span></code></pre></div></div><div class=td-content style=page-break-before:always><h1 id=pg-381038f4fe96b9e57a300bfd52de5df4>4.6 - Compute Irreducible Derivative</h1><div class=lead>Describes how to compute irreducible derivatives for a xtal using LID or BID.</div><p>Within this package we can compute irreducible derivatives of phonons and phonon interactions at a given order with either LID or BID approach.
The theory behind these approaches are described in the following paper:</p><ul><li><a href=https://doi.org/10.1103/PhysRevB.100.014303>L. Fu, M. Kornbluth, Z. Cheng, and C. A. Marianetti, Phys. Rev. B 100, 014303 (2019)</a>.</li></ul><p>Specifically, we can execute the LID, SS-BID and HS-BID approaches from the command line using the following commands:</p><ol><li><p><code>pm-lid-mesh</code>: compute irreducible derivatives of a given FTG and order using LID method;</p></li><li><p><code>pm-bid</code>: compute irreducible derivatives of a given FTG and order using SS-BID method;</p></li><li><p><code>pm-hsbid</code>: compute irreducible derivatives of a given FTG and order using HD-BID method.</p></li></ol><p>These commands take in generally the same command line options, therefore one can switch between approaches by changing the command while keeping
the options the same.
For example, below is guide on using the LID approach to compute irreducible derivatives of NaCl at second order but one can replace <code>pm-lid-mesh</code>
with <code>pm-bid</code> or <code>pm-hsbid</code> to execute SS-BID or HS-BID approach.</p><h2 id=lid-approach-on-nacl-at-second-order>LID Approach on NaCl at Second Order<a class=td-heading-self-link href=#lid-approach-on-nacl-at-second-order aria-label="Heading self-link"></a></h2><p>There are many ways to use this package to execute calculations of the irreducible derivatives with LID approach.
Here we demonstrate a recommended workflow to execute our LID approach at second order on NaCl from forces computed by first principle method.</p><h3 id=symmetry-analysis-and-find-the-measurements-to-compute>Symmetry Analysis and Find the Measurements to Compute<a class=td-heading-self-link href=#symmetry-analysis-and-find-the-measurements-to-compute aria-label="Heading self-link"></a></h3><p>First we create a file <code>xtal.yml</code> describing the structure of NaCl:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#8f5902;font-style:italic># xtal.yml</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>vec</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#000;font-weight:700>[[</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>0.00000000</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#0000cf;font-weight:700>2.83000729</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#0000cf;font-weight:700>2.83000729</span><span style=color:#000;font-weight:700>],</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>   </span><span style=color:#000;font-weight:700>[</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>2.83000729</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#0000cf;font-weight:700>0.00000000</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#0000cf;font-weight:700>2.83000729</span><span style=color:#000;font-weight:700>],</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>   </span><span style=color:#000;font-weight:700>[</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>2.83000729</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#0000cf;font-weight:700>2.83000729</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#0000cf;font-weight:700>0.00000000</span><span style=color:#000;font-weight:700>]]</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>atoms</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span>- <span style=color:#204a87;font-weight:700>Na</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> 
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#000;font-weight:700>[[</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>0.00000000</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#0000cf;font-weight:700>0.00000000</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#0000cf;font-weight:700>0.00000000</span><span style=color:#000;font-weight:700>]]</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span>- <span style=color:#204a87;font-weight:700>Cl</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> 
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#000;font-weight:700>[[</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>0.50000000</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#0000cf;font-weight:700>0.50000000</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#0000cf;font-weight:700>0.50000000</span><span style=color:#000;font-weight:700>]]</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span></code></pre></div><p>Then, with this structure and the point group \(O_h\), we can write the minimal configuration file, named <code>config.yml</code>, to execute the LID approach with a supercell \(\hat{S}_{BZ}=2\hat1\):</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#8f5902;font-style:italic># config.yml</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>structure</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#39;xtal.yml&#39;</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>supa</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000;font-weight:700>|</span><span style=color:#8f5902;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>  2 0 0
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>  0 2 0
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>  0 0 2</span><span style=color:#f8f8f8;text-decoration:underline>  
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>pg</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#39;Oh&#39;</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>order</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#0000cf;font-weight:700>2</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>full_symmetry</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#204a87;font-weight:700>True</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>delta</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000;font-weight:700>[</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>0.02</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>0.03</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>0.04</span><span style=color:#000;font-weight:700>]</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span></code></pre></div><p>There are numerous parameters which have default settings that can be changed, and these can be
added to the config.yml file listed above:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#204a87;font-weight:700>fdtype</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#39;c&#39;</span><span style=color:#f8f8f8;text-decoration:underline>                  
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>root_directory</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#39;.&#39;</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>database</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#39;database.db&#39;</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>db_type</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#39;sqlite&#39;</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>db_table</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#39;lid_phonon&#39;</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span></code></pre></div><p>With the configuration file we can initiate the pre-processing step which will execute the symmetry analysis and create the jobs that need to be computed with
first principles:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>pm-lid-mesh --config config.yml --create 
</span></span></code></pre></div><p>The above step will create two files:</p><ul><li><p><code>lid_mesh.hdf5</code>: A HDF5 file containing the computed symmetry analysis results, which will be used in the post-processing step to compute the irreducible derivatives
after first principle calculations are finished.</p></li><li><p><code>database.db</code>: A SQLite database file containing the jobs need to be computed with first principle calculations (<code>db_type</code> is specified to be &lsquo;sqlite&rsquo; in the <code>config.yml</code> file,
other database can be used if a working interface is provided).</p></li></ul><div class="alert alert-warning" role=alert><h4 class=alert-heading>Note</h4><p>The above steps can also be executed purely in command line with the following command:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>      pm-lid-mesh --save-config --create  --structure xtal.yml <span style=color:#4e9a06>\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span>        --supa <span style=color:#4e9a06>&#39;2,0,0;0,2,0;0,0,2&#39;</span> --pg Oh --order <span style=color:#0000cf;font-weight:700>2</span> --full-symmetry <span style=color:#4e9a06>\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span>        --delta 0.02,0.03,0.04 --fdtype c --database database.db <span style=color:#4e9a06>\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span>        --db-type sqlite --db-table lid_phonon
</span></span></code></pre></div></div><h3 id=prepare-and-execute-first-principle-calculations>Prepare and Execute First Principle Calculations<a class=td-heading-self-link href=#prepare-and-execute-first-principle-calculations aria-label="Heading self-link"></a></h3><p>The next step is to create the first principle jobs to be computed, the package generically supports all types of first principle compute engines provided a working interface,
and here we demonstrate using VASP. We begin by create the VASP jobs to be executed:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>  pm-jobs --config config.yml --create --engine vasp --save-config jobs_config.yml <span style=color:#4e9a06>\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span>    --job-config-path path-to-vasp-input-templates --root-directory jobs-ro-run
</span></span></code></pre></div><p>Inside the <code>path-to-vasp-input-templates</code> directory, one usually needs to provide &ldquo;INCAR&rdquo;, &ldquo;KPOINTS&rdquo; and &ldquo;POTCAR&rdquo; files and they will be used as templates when creating the
vasp jobs, each vasp job will be created in a separate directory for convenience. Once these directories are created, VASP can be executed within each directory.
Afterwards, the calculation results can be collected and stored in the database:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>  pm-jobs --config jobs_config.yml --retrieve
</span></span></code></pre></div><div class="alert alert-warning" role=alert><h4 class=alert-heading>Note</h4>We initiated the <code>pm-jobs</code> command with the input configuration file for the LID analysis <code>config.yml</code>,
and subsequently saved a new configuration file <code>jobs_config.yml</code> for the <code>pm-jobs</code> code for the purpose of convenience.
These configuration files contains all the input arguments that are required to reproduce the exact same setup.</div><h3 id=compute-irreducible-derivatives-from-the-results-of-first-principle-calculations>Compute Irreducible Derivatives from the Results of First Principle Calculations<a class=td-heading-self-link href=#compute-irreducible-derivatives-from-the-results-of-first-principle-calculations aria-label="Heading self-link"></a></h3><p>Finally, we can execute the post-processing step of the LID approach to compute the irreducible derivatives and, for example, compute the force constants tensors for Fourier interpolation:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>  pm-lid-mesh --load-lid-mesh lid_mesh.hdf5 --config config.yml <span style=color:#4e9a06>\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span>    --post --save-fi --save-ids --save-dts
</span></span></code></pre></div><p>If the material of interest is an insulator and the dipole-dipole interaction needs to be considered,
the dataset for computing the dipole-dipole interaction needs to be provided as an input as well:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>  pm-lid-mesh --load-lid-mesh lid_mesh.hdf5 --config config.yml --epsilon path-to-epsilon.yml <span style=color:#4e9a06>\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span>    --post --save-fi --save-ids --save-dts
</span></span></code></pre></div><p>The dataset for computing the dipole-dipole interaction can be computed from first principle methods.
Continuing with the VASP example, we can obtain the dataset by executing a static calculation adding <code>LEPSILON=.TRUE.</code> to the &ldquo;ICNAR&rdquo; file.
Once the calculation is finished, use the following command inside the calculation directory to parse the output from VASP and create the <code>epsilon.yml</code> file:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>  pm-epsilon --vasp -o epsilon.yml .
</span></span></code></pre></div><p>then replace <code>path-to-epsilon.yml</code> with the path to the generated <code>epsilon.yml</code> file.</p><p>The following files are created in this step:</p><ul><li><p><code>irreducible_derivatives.hdf5</code>: A HDF5 files containing the names of the irreducible derivatives and their values.</p></li><li><p><code>fourier_interpolation.hdf5</code>: A HDF5 files containing all the necessary information (structure, force constants tensors, FTG and dipole-dipole contributions if at second order)
to compute Fourier interpolation.</p></li><li><p><code>dynamic_tensors.hdf5</code>: A HDF5 files containing all the dynamic tensors in the naive basis within irreducible Q.</p></li></ul><div class="alert alert-warning" role=alert><h4 class=alert-heading>Note</h4>Both <strong>BID</strong> and <strong>HS-BID</strong> approaches can be executed following the exact same workflow while replacing the command <code>pm-lid-mesh</code>
with <code>pm-bid</code> and <code>pm-hsbid</code> respectively, and a change of the table name for the database is also recommended (e.g. change to &lsquo;bid_phonon&rsquo;).</div><h2 id=computing-and-analyzing-error-tails>Computing and analyzing error tails<a class=td-heading-self-link href=#computing-and-analyzing-error-tails aria-label="Heading self-link"></a></h2><p>The results of any finite displacement approach are only reliable if the
discretization error has been properly controlled. Forward and backward finite
difference guarantee a linear error tail, while central finite difference
guarantees a quadratic error tail. Resolving the error tail is a sure sign that
the discretization error has been properly extrapolated to zero. For phonons,
we will be taking either the first derivatives of the forces or the second
derivatives of the energy, which are typically not sensitive. Therefore, it is
common practice to use a single finite displacement (i.e. a single <em>delta</em>),
and then there is nothing to analyze. However, there are plenty of situations
where one does find sensitive results, such as metallic systems with Fermi
surface nesting or even band insulators when using the SCAN functional. If one
computes three or more deltas, then the error tail can be scrutinized to judge
the quality of the result.</p><p>To examine the error tails, the corresponding data must be output during the post-processing
of results. The above lid-mesh commands needs the <em>&ndash;err-output</em> flag as follows:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>  pm-lid-mesh --load-lid-mesh lid_mesh.hdf5 --config config.yml <span style=color:#4e9a06>\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span>    --post --save-fi --save-ids --save-dts --err-output error_tails.hdf5
</span></span></code></pre></div><p>The next step is extract the results from the hdf5 file and output them to individual
yaml files:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>pm-convert-errortail error_tails.hdf5
</span></span></code></pre></div><p>The yaml files can then be plotted to PDF files. For example:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>pm-plot-errortail 1_0_errortail.yml --iscomplex --output 1_0_errortail.pdf
</span></span></code></pre></div><p>At present, one can execute a loop in bash over all the files:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#204a87;font-weight:700>for</span> i in *_errortail.yml<span style=color:#000;font-weight:700>;</span> <span style=color:#204a87;font-weight:700>do</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87>echo</span> <span style=color:#000>$i</span>
</span></span><span style=display:flex><span>  pm-plot-errortail <span style=color:#000>$i</span> --iscomplex --output <span style=color:#204a87;font-weight:700>$(</span>basename <span style=color:#000>$i</span> .yml<span style=color:#204a87;font-weight:700>)</span>.pdf
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>done</span>
</span></span></code></pre></div><h2 id=computing-phonon-dispersion-and-dos>Computing phonon dispersion and DOS<a class=td-heading-self-link href=#computing-phonon-dispersion-and-dos aria-label="Heading self-link"></a></h2><p>With the <code>fourier_interpolation.hdf5</code> file obtained at second order, we can compute phonon dispersion and density of states (DOS).</p><p>Let&rsquo;s continue the NaCl example and first prepare the configuration file <code>phonon_config.yml</code> for computing the phonon dispersion and DOS:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#8f5902;font-style:italic># phonon_config.yml</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>band</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span>- <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#39;0 0 0&#39;</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#39;1/2 1/2 0&#39;</span><span style=color:#000;font-weight:700>]</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span>- <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#39;-1/2 1/2 0&#39;</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#39;0 0 0&#39;</span><span style=color:#000;font-weight:700>]</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span>- <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#39;0 0 0&#39;</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#39;1/2 1/2 1/2&#39;</span><span style=color:#000;font-weight:700>]</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>band_label</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span>- <span style=color:#000>$\Gamma$</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span>- <span style=color:#000>X</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span>- <span style=color:#000>$\Gamma$</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span>- <span style=color:#000>L</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>mesh</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>20</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>20</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>20</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span></code></pre></div><p>Then we can execute the following command to compute the band structure and DOS:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>  pm-phonon-band-dos --load-fi fourier_interpolation.hdf5 --config phonon_config.yml <span style=color:#4e9a06>\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span>    --save-band --save-grid --save-dos --save-plot
</span></span></code></pre></div><p>The following files are created in this step:</p><ul><li><p><code>band_plot_config.yml</code>: A YAML file with the configuration the plot the band structure and DOS;</p></li><li><p><code>bands.dat</code>: A text file with the phonon band structure data computed with Fourier interpolation;</p></li><li><p><code>grid_phonons.dat</code>: A text file with the data of the phonons that are measured at the FTG that fall on the path in the plot;</p></li><li><p><code>dos.dat</code>: A text file with the data of phonon DOS.</p></li></ul><p>We can plot the phonon band structure and DOS with the following command:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>  pm-plot-band -s band_plot_config.yml
</span></span></code></pre></div><figure><img src=/figures/examples/nacl/nacl_phonon_band_dos.png><figcaption><h4>Phonon bands and DOS of NaCl</h4></figcaption></figure></div><div class=td-content style=page-break-before:always><h1 id=pg-49da11994e29ecfc90a101746909debc>4.7 - Phonon Linewidth and Thermal Conductivity</h1><div class=lead>Using second and third order irreducible derivatives to compute the phonon linewidth and thermal conductivity.</div><p>Second and third order irreducible derivatives must be computed first, as described <a href=../compute-id>here</a>,
and the second and third order force constants may then be used
to predict the phonon linewidth using perturbation theory. The phonons and the linewidths can then be used
to computed thermal conductivity with the relaxation time approximation.</p><h2 id=phonon-linewidth>Phonon Linewidth<a class=td-heading-self-link href=#phonon-linewidth aria-label="Heading self-link"></a></h2><p>Here we continue the NaCl example from <a href=../compute-id>before</a>.</p><p>First, we need to prepare a configuration file <code>config.yml</code> for the <code>pm-conductivity</code> command:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#8f5902;font-style:italic>#  config.yml</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>structure</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>xtal.yml</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>load_fi2</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>fi_order2.hdf5</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>load_fi3</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>fi_order3.hdf5</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>mesh</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000;font-weight:700>[</span><span style=color:#0000cf;font-weight:700>11</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>11</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>11</span><span style=color:#000;font-weight:700>]</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>band</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span>- <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#39;0 0 0&#39;</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#39;1/2 1/2 0&#39;</span><span style=color:#000;font-weight:700>]</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span>- <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#39;-1/2 1/2 0&#39;</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#39;0 0 0&#39;</span><span style=color:#000;font-weight:700>]</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span>- <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#39;0 0 0&#39;</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#39;1/2 1/2 1/2&#39;</span><span style=color:#000;font-weight:700>]</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>band_label</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span>- <span style=color:#000>$\Gamma$</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span>- <span style=color:#000>X</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span>- <span style=color:#000>$\Gamma$</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span>- <span style=color:#000>L</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span></code></pre></div><p>where:</p><ul><li><p><code>xtal.yml</code> contains structure of NaCl;</p></li><li><p><code>fi_order2.hdf5</code> is the HDF5 data file for the FourierInterpolation class at second order, which contains the 2nd order force constants;</p></li><li><p><code>fi_order3.hdf5</code> is the HDF5 data file for the FourierInterpolation class at third order, which contains the 3rd order force constants.</p></li></ul><p>In this example, we use the FourierInterpolation object of a
\(\hat{S}_{BZ}=4\hat{\mathbf{1}}\)
FTG (i.e. a \(4 \times 4 \times 4\) supercell)
at second order and the FourierInterpolation object of a
\(\hat{S} _{BZ}=2\hat{\mathbf{1}}\)
FTG
(i.e. a \(2 \times 2 \times 2\) supercell) at third order. We
interpolate the phonons and phonon interactions to the mesh of
\(11\hat{\mathbf{1}}\), and compute the
linewidth along the K-path \(\Gamma \to X \to \Gamma \to L\).</p><p>Execute the following command the compute the phonon linewidth:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>pm-conductivity --config config.yml --save-gamma
</span></span></code></pre></div><h2 id=thermal-conductivity>Thermal Conductivity<a class=td-heading-self-link href=#thermal-conductivity aria-label="Heading self-link"></a></h2><p>Using the same NaCl example, we can prepare a configuration file <code>config.yml</code> similar to the one above:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#8f5902;font-style:italic># config.yml</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>structure</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>xtal.yml</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>load_fi2</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>fi_order2.hdf5</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>load_fi3</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>fi_order3.hdf5</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>mesh</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000;font-weight:700>[</span><span style=color:#0000cf;font-weight:700>11</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>11</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>11</span><span style=color:#000;font-weight:700>]</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span></code></pre></div><p>Execute the following command the compute the thermal conductivity using relaxation time approximation (RTA):</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>pm-conductivity --config config.yml --save-kappa --mode RTA
</span></span></code></pre></div></div><div class=td-content style=page-break-before:always><h1 id=pg-852cfdb3008ca23f8bcaeceaff2ecfe8>5 - Modules</h1><div class=lead>Documenting key classes and functions in each module.</div><p>Here we document various classes and functions within each module, and provide minimal examples.</p></div><div class=td-content><h1 id=pg-25748bd74692fdaa5c11272b5799d2e6>5.1 - Command line interface</h1><div class=lead>Overview of command line scripts in PM for developers.</div><p>All command line script for PM are stored in the <code>cli</code> module, end with the suffix <code>_cli</code>, and are contained within a function <code>main()</code>.
In order to register a new cli, the script must be added to
the <code>setup.cfg</code> file. Consider the example of the script <code>irr_rep_prod_cli.py</code>, we would add
one entry to the console_scripts as</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#8f5902;font-style:italic># setup.cfg file</span>
</span></span><span style=display:flex><span><span style=color:#000>console_scripts</span> <span style=color:#ce5c00;font-weight:700>=</span>
</span></span><span style=display:flex><span>  <span style=color:#000>pm</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#000>lid</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>principia_materia</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>cli</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>lid_cli</span><span style=color:#000;font-weight:700>:</span><span style=color:#000>main</span>
</span></span><span style=display:flex><span>  <span style=color:#ce5c00;font-weight:700>...</span>
</span></span><span style=display:flex><span>  <span style=color:#000>pm</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#000>irr</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#000>rep</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#000>prod</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>principia_materia</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>cli</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>irr_rep_prod_cli</span><span style=color:#000;font-weight:700>:</span><span style=color:#000>main</span>
</span></span></code></pre></div><p>This is cumbersome, so we have a script to automatically regenerate this file:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>python get_setup_cfg.py
</span></span></code></pre></div><p>After regenerating the file, you must run python setup.py install or develop to make
the changes take effect. You also may need to restart your virtual environment.</p></div><div class=td-content style=page-break-before:always><h1 id=pg-1236e8c8a584c7a7f8d8857cd5a5fb9b>5.2 - Translation Group</h1><div class=lead>The lattice is a central component of a crystal, and PM has a class for the infinite translation group (Lattice) and the finite translation group (LatticeFTG).</div><p>When performing calculations, we need to use various properties of both the infinite translation group (Lattice)
and the finite translation group (LatticeFTG).
The infinite translation group contains the lattice vectors, and computes various information from them
(e.g. vector lengths and angles, volume, reciprocal lattice, etc).
The FTG
is naturally characterized by a supercell \(\hat{S}_{BZ}\), and LatticeFTG derives from Lattice.
Finding all translation points within a given supercell is a key task.
Similarly,
another key task is finding all the k-points commensurate with a given FTG, but this is
currently execute in the separate kpoints class.</p><p>Additionally, we will need to find the smallest supercell that will accomodate a given set of \(\bm q\)-points.</p><h2 id=lattice>Lattice<a class=td-heading-self-link href=#lattice aria-label="Heading self-link"></a></h2><p>Here introduce the basic functionality of the <code>Lattice</code> class using the
face center cubic as a demonstration:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;&gt;&gt;</span> <span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>numpy</span> <span style=color:#204a87;font-weight:700>as</span> <span style=color:#000>np</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;&gt;&gt;</span> <span style=color:#204a87;font-weight:700>from</span> <span style=color:#000>principia_materia.translation_group</span> <span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>Lattice</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;&gt;&gt;</span> <span style=color:#000>fcc_vec</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>0.5</span><span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>np</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>ones</span><span style=color:#000;font-weight:700>((</span><span style=color:#0000cf;font-weight:700>3</span><span style=color:#000;font-weight:700>,</span><span style=color:#0000cf;font-weight:700>3</span><span style=color:#000;font-weight:700>))</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#000>np</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>identity</span><span style=color:#000;font-weight:700>(</span><span style=color:#0000cf;font-weight:700>3</span><span style=color:#000;font-weight:700>))</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;&gt;&gt;</span> <span style=color:#000>lattice</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>Lattice</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>vec</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000>fcc_vec</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;&gt;&gt;</span> <span style=color:#000>lattice</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>vec</span>
</span></span><span style=display:flex><span><span style=color:#000>array</span><span style=color:#000;font-weight:700>([[</span><span style=color:#0000cf;font-weight:700>0.</span> <span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>0.5</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>0.5</span><span style=color:#000;font-weight:700>],</span>
</span></span><span style=display:flex><span>       <span style=color:#000;font-weight:700>[</span><span style=color:#0000cf;font-weight:700>0.5</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>0.</span> <span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>0.5</span><span style=color:#000;font-weight:700>],</span>
</span></span><span style=display:flex><span>       <span style=color:#000;font-weight:700>[</span><span style=color:#0000cf;font-weight:700>0.5</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>0.5</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>0.</span> <span style=color:#000;font-weight:700>]])</span>
</span></span></code></pre></div><p>With the above Lattice class object, we can compute various properties of the lattice.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;&gt;&gt;</span> <span style=color:#204a87>print</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;volume:&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>lattice</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>vol</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#000>volume</span><span style=color:#000;font-weight:700>:</span> <span style=color:#0000cf;font-weight:700>0.25</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;&gt;&gt;</span> <span style=color:#204a87>print</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;lengths of the lattice vectors:&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>lattice</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>abc</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#000>lengths</span> <span style=color:#000>of</span> <span style=color:#000>the</span> <span style=color:#000>lattice</span> <span style=color:#000>vectors</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>[</span><span style=color:#0000cf;font-weight:700>0.70710678</span> <span style=color:#0000cf;font-weight:700>0.70710678</span> <span style=color:#0000cf;font-weight:700>0.70710678</span><span style=color:#000;font-weight:700>]</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;&gt;&gt;</span> <span style=color:#204a87>print</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;angles between the lattice vectors:&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>lattice</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>abg</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#000>angles</span> <span style=color:#000>between</span> <span style=color:#000>the</span> <span style=color:#000>lattice</span> <span style=color:#000>vectors</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>[</span><span style=color:#0000cf;font-weight:700>60.</span> <span style=color:#0000cf;font-weight:700>60.</span> <span style=color:#0000cf;font-weight:700>60.</span><span style=color:#000;font-weight:700>]</span>
</span></span></code></pre></div><p>There is a reciprocal lattice associated with the lattice, which is also constructed in this class,
and we follow the convention \(\bm a_i\cdot \bm b_j =2\pi \delta_{ij} \), where
\(\bm a_i\) is a real space vector and \(\bm b_j\) is a reciprocal space vector.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;&gt;&gt;</span> <span style=color:#204a87>print</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>lattice</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>rvec</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>[[</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>6.28318531</span>  <span style=color:#0000cf;font-weight:700>6.28318531</span>  <span style=color:#0000cf;font-weight:700>6.28318531</span><span style=color:#000;font-weight:700>]</span>  
</span></span><span style=display:flex><span> <span style=color:#000;font-weight:700>[</span> <span style=color:#0000cf;font-weight:700>6.28318531</span> <span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>6.28318531</span>  <span style=color:#0000cf;font-weight:700>6.28318531</span><span style=color:#000;font-weight:700>]</span>  
</span></span><span style=display:flex><span> <span style=color:#000;font-weight:700>[</span> <span style=color:#0000cf;font-weight:700>6.28318531</span>  <span style=color:#0000cf;font-weight:700>6.28318531</span> <span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>6.28318531</span><span style=color:#000;font-weight:700>]]</span> 
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;&gt;&gt;</span> <span style=color:#204a87>print</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;volume of reciprocal lattice:&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>lattice</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>rvol</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#000>volume</span> <span style=color:#000>of</span> <span style=color:#000>reciprocal</span> <span style=color:#000>lattice</span><span style=color:#000;font-weight:700>:</span> <span style=color:#0000cf;font-weight:700>992.200854</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;&gt;&gt;</span> <span style=color:#204a87>print</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;lengths of the reciprocal lattice vectors:&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>lattice</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>rabc</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#000>lengths</span> <span style=color:#000>of</span> <span style=color:#000>the</span> <span style=color:#000>reciprocal</span> <span style=color:#000>lattice</span> <span style=color:#000>vectors</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>[</span><span style=color:#0000cf;font-weight:700>10.88279619</span> <span style=color:#0000cf;font-weight:700>10.88279619</span> <span style=color:#0000cf;font-weight:700>10.88279619</span><span style=color:#000;font-weight:700>]</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;&gt;&gt;</span> <span style=color:#204a87>print</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;angles between the reciprocal lattice vectors:&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>lattice</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>rabg</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#000>angles</span> <span style=color:#000>between</span> <span style=color:#000>the</span> <span style=color:#000>reciprocal</span> <span style=color:#000>lattice</span> <span style=color:#000>vectors</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>[</span><span style=color:#0000cf;font-weight:700>109.47122063</span> <span style=color:#0000cf;font-weight:700>109.47122063</span> <span style=color:#0000cf;font-weight:700>109.47122063</span><span style=color:#000;font-weight:700>]</span>
</span></span></code></pre></div><p>Additionally, the Lattice class allows us to perform various operation to a lattice, for example applying an axial strain:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;&gt;&gt;</span> <span style=color:#000>strain</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000;font-weight:700>[</span><span style=color:#0000cf;font-weight:700>0.02</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>]</span> <span style=color:#8f5902;font-style:italic># axial strain along x</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;&gt;&gt;</span> <span style=color:#000>example_lattice</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>lattice</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>copy</span><span style=color:#000;font-weight:700>()</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;&gt;&gt;</span> <span style=color:#000>example_lattice</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>axial_strain</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>strain</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;&gt;&gt;</span> <span style=color:#204a87>print</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>example_lattice</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>vec</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>[[</span><span style=color:#0000cf;font-weight:700>0.</span>   <span style=color:#0000cf;font-weight:700>0.5</span>  <span style=color:#0000cf;font-weight:700>0.5</span> <span style=color:#000;font-weight:700>]</span> 
</span></span><span style=display:flex><span> <span style=color:#000;font-weight:700>[</span><span style=color:#0000cf;font-weight:700>0.51</span> <span style=color:#0000cf;font-weight:700>0.</span>   <span style=color:#0000cf;font-weight:700>0.5</span> <span style=color:#000;font-weight:700>]</span> 
</span></span><span style=display:flex><span> <span style=color:#000;font-weight:700>[</span><span style=color:#0000cf;font-weight:700>0.51</span> <span style=color:#0000cf;font-weight:700>0.5</span>  <span style=color:#0000cf;font-weight:700>0.</span>  <span style=color:#000;font-weight:700>]]</span>
</span></span></code></pre></div><h2 id=latticeftg>LatticeFTG<a class=td-heading-self-link href=#latticeftg aria-label="Heading self-link"></a></h2><p>LatticeFTG is the class which handles finite translation groups, and the key
method of the class finds all tranlsation points (i.e. <strong>t-points</strong>) contained
within the supercell. While this result can be obtained from a simple Cartesian
product in the case of a diagonal supercell, non-diagonal supercells are more subtle.
Non-diagonal supercells are important in the context of lattice dynamic, because
it is always preferrable to work with the smallest number of irreducible derivatives which
yield a smooth interpolation, and non-diagonal supercells yield multiplicities which cannot
be obtained solely using diagonal supercells.
Therefore, it is important to have a robust algorithm to find all lattice points
within an arbitrary supercell, and our algorithm is detailed in
Appendix D in <a href=https://doi.org/10.1103/PhysRevB.100.014303>PRB 100 014303</a>.
The same algorithm can be reversed to compute the indices of the lattice points
at \(\mathcal{O}(1)\) time complexity, removing the need to create a hash
function.</p><p>Below is a simple example which is easily recognizable: a fcc lattice with a supercell
that yields the conventional cubic cell.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;&gt;&gt;</span> <span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>numpy</span> <span style=color:#204a87;font-weight:700>as</span> <span style=color:#000>np</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;&gt;&gt;</span> <span style=color:#204a87;font-weight:700>from</span> <span style=color:#000>principia_materia.translation_group</span> <span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>LatticeFTG</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;&gt;&gt;</span> <span style=color:#000>fcc_vec</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>0.5</span><span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>np</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>ones</span><span style=color:#000;font-weight:700>((</span><span style=color:#0000cf;font-weight:700>3</span><span style=color:#000;font-weight:700>,</span><span style=color:#0000cf;font-weight:700>3</span><span style=color:#000;font-weight:700>))</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#000>np</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>identity</span><span style=color:#000;font-weight:700>(</span><span style=color:#0000cf;font-weight:700>3</span><span style=color:#000;font-weight:700>))</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;&gt;&gt;</span> <span style=color:#000>S_bz</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>np</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>ones</span><span style=color:#000;font-weight:700>((</span><span style=color:#0000cf;font-weight:700>3</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>3</span><span style=color:#000;font-weight:700>))</span> <span style=color:#ce5c00;font-weight:700>-</span> <span style=color:#0000cf;font-weight:700>2</span> <span style=color:#ce5c00;font-weight:700>*</span> <span style=color:#000>np</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>identity</span><span style=color:#000;font-weight:700>(</span><span style=color:#0000cf;font-weight:700>3</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;&gt;&gt;</span> <span style=color:#000>lattice_ftg</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>LatticeFTG</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>fcc_vec</span><span style=color:#000;font-weight:700>,</span><span style=color:#000>S_bz</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;&gt;&gt;</span> <span style=color:#000>lattice_ftg</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>vec</span>
</span></span><span style=display:flex><span><span style=color:#000>array</span><span style=color:#000;font-weight:700>([[</span><span style=color:#0000cf;font-weight:700>0.</span> <span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>0.5</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>0.5</span><span style=color:#000;font-weight:700>],</span> 
</span></span><span style=display:flex><span>       <span style=color:#000;font-weight:700>[</span><span style=color:#0000cf;font-weight:700>0.5</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>0.</span> <span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>0.5</span><span style=color:#000;font-weight:700>],</span> 
</span></span><span style=display:flex><span>       <span style=color:#000;font-weight:700>[</span><span style=color:#0000cf;font-weight:700>0.5</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>0.5</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>0.</span> <span style=color:#000;font-weight:700>]])</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;&gt;&gt;</span> <span style=color:#000>lattice_ftg</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>supa</span>
</span></span><span style=display:flex><span><span style=color:#000>array</span><span style=color:#000;font-weight:700>([[</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>,</span>  <span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>,</span>  <span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>],</span> 
</span></span><span style=display:flex><span>       <span style=color:#000;font-weight:700>[</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>,</span> <span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>,</span>  <span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>],</span> 
</span></span><span style=display:flex><span>       <span style=color:#000;font-weight:700>[</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>,</span>  <span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>,</span> <span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>]])</span> 
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;&gt;&gt;</span> <span style=color:#000>lattice_ftg</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>tpoints</span>
</span></span><span style=display:flex><span><span style=color:#000>array</span><span style=color:#000;font-weight:700>([[</span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>],</span> 
</span></span><span style=display:flex><span>       <span style=color:#000;font-weight:700>[</span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>],</span> 
</span></span><span style=display:flex><span>       <span style=color:#000;font-weight:700>[</span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>],</span> 
</span></span><span style=display:flex><span>       <span style=color:#000;font-weight:700>[</span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>]])</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;&gt;&gt;</span> <span style=color:#000>lattice_ftg</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>get_index</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>lattice_ftg</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>tpoints</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#000>array</span><span style=color:#000;font-weight:700>([</span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>3</span><span style=color:#000;font-weight:700>])</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;&gt;&gt;</span> <span style=color:#000>lattice_ftg</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>supa_vec</span>
</span></span><span style=display:flex><span><span style=color:#000>array</span><span style=color:#000;font-weight:700>([[</span><span style=color:#0000cf;font-weight:700>1.</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>0.</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>0.</span><span style=color:#000;font-weight:700>],</span> 
</span></span><span style=display:flex><span>       <span style=color:#000;font-weight:700>[</span><span style=color:#0000cf;font-weight:700>0.</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>1.</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>0.</span><span style=color:#000;font-weight:700>],</span> 
</span></span><span style=display:flex><span>       <span style=color:#000;font-weight:700>[</span><span style=color:#0000cf;font-weight:700>0.</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>0.</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>1.</span><span style=color:#000;font-weight:700>]])</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;&gt;&gt;</span> <span style=color:#000>lattice_ftg</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>supa_tpoints</span>
</span></span><span style=display:flex><span><span style=color:#000>array</span><span style=color:#000;font-weight:700>([[</span> <span style=color:#0000cf;font-weight:700>0</span> <span style=color:#000;font-weight:700>,</span>  <span style=color:#0000cf;font-weight:700>0</span> <span style=color:#000;font-weight:700>,</span>  <span style=color:#0000cf;font-weight:700>0</span> <span style=color:#000;font-weight:700>],</span>
</span></span><span style=display:flex><span>       <span style=color:#000;font-weight:700>[</span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#ce5c00;font-weight:700>/</span><span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#ce5c00;font-weight:700>/</span><span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>,</span>  <span style=color:#0000cf;font-weight:700>0</span> <span style=color:#000;font-weight:700>],</span>
</span></span><span style=display:flex><span>       <span style=color:#000;font-weight:700>[</span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#ce5c00;font-weight:700>/</span><span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>,</span>  <span style=color:#0000cf;font-weight:700>0</span> <span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#ce5c00;font-weight:700>/</span><span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>],</span>
</span></span><span style=display:flex><span>       <span style=color:#000;font-weight:700>[</span> <span style=color:#0000cf;font-weight:700>0</span> <span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#ce5c00;font-weight:700>/</span><span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#ce5c00;font-weight:700>/</span><span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>]],</span> <span style=color:#000>dtype</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#204a87>object</span><span style=color:#000;font-weight:700>)</span>
</span></span></code></pre></div><h2 id=kpointsftg>KpointsFTG<a class=td-heading-self-link href=#kpointsftg aria-label="Heading self-link"></a></h2><p>We have a dedicated class for construcint k-points, though this is basically just
a trivial wrapper around LatticeFTG.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;&gt;&gt;</span> <span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>numpy</span> <span style=color:#204a87;font-weight:700>as</span> <span style=color:#000>np</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;&gt;&gt;</span> <span style=color:#204a87;font-weight:700>from</span> <span style=color:#000>principia_materia.translation_group</span> <span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>KpointsFTG</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;&gt;&gt;</span> <span style=color:#000>fcc_vec</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>0.5</span><span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>np</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>ones</span><span style=color:#000;font-weight:700>((</span><span style=color:#0000cf;font-weight:700>3</span><span style=color:#000;font-weight:700>,</span><span style=color:#0000cf;font-weight:700>3</span><span style=color:#000;font-weight:700>))</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#000>np</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>identity</span><span style=color:#000;font-weight:700>(</span><span style=color:#0000cf;font-weight:700>3</span><span style=color:#000;font-weight:700>))</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;&gt;&gt;</span> <span style=color:#000>S_bz</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>np</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>ones</span><span style=color:#000;font-weight:700>((</span><span style=color:#0000cf;font-weight:700>3</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>3</span><span style=color:#000;font-weight:700>))</span> <span style=color:#ce5c00;font-weight:700>-</span> <span style=color:#0000cf;font-weight:700>2</span> <span style=color:#ce5c00;font-weight:700>*</span> <span style=color:#000>np</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>identity</span><span style=color:#000;font-weight:700>(</span><span style=color:#0000cf;font-weight:700>3</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;&gt;&gt;</span> <span style=color:#000>qpts</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>KpointsFTG</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>vec</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000>fcc_vec</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>supa</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000>S_bz</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;&gt;&gt;</span> <span style=color:#000>qpts</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>ppoints</span>
</span></span><span style=display:flex><span><span style=color:#000>array</span><span style=color:#000;font-weight:700>([[</span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>],</span>
</span></span><span style=display:flex><span>       <span style=color:#000;font-weight:700>[</span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>],</span>
</span></span><span style=display:flex><span>       <span style=color:#000;font-weight:700>[</span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>],</span>
</span></span><span style=display:flex><span>       <span style=color:#000;font-weight:700>[</span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>]])</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;&gt;&gt;</span> <span style=color:#000>qpts</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>kpoints</span>
</span></span><span style=display:flex><span><span style=color:#000>array</span><span style=color:#000;font-weight:700>([[</span> <span style=color:#0000cf;font-weight:700>0</span> <span style=color:#000;font-weight:700>,</span>  <span style=color:#0000cf;font-weight:700>0</span> <span style=color:#000;font-weight:700>,</span>  <span style=color:#0000cf;font-weight:700>0</span> <span style=color:#000;font-weight:700>],</span>
</span></span><span style=display:flex><span>       <span style=color:#000;font-weight:700>[</span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#ce5c00;font-weight:700>/</span><span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#ce5c00;font-weight:700>/</span><span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>,</span>  <span style=color:#0000cf;font-weight:700>0</span> <span style=color:#000;font-weight:700>],</span>
</span></span><span style=display:flex><span>       <span style=color:#000;font-weight:700>[</span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#ce5c00;font-weight:700>/</span><span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>,</span>  <span style=color:#0000cf;font-weight:700>0</span> <span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#ce5c00;font-weight:700>/</span><span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>],</span>
</span></span><span style=display:flex><span>       <span style=color:#000;font-weight:700>[</span> <span style=color:#0000cf;font-weight:700>0</span> <span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#ce5c00;font-weight:700>/</span><span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#ce5c00;font-weight:700>/</span><span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>]],</span> <span style=color:#000>dtype</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#204a87>object</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;&gt;&gt;</span> <span style=color:#000>qpts</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>ppoints_to_kpoints</span><span style=color:#000;font-weight:700>(</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>...</span>      <span style=color:#000>np</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>array</span><span style=color:#000;font-weight:700>([[</span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>],</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>...</span>                <span style=color:#000;font-weight:700>[</span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>]])</span>  <span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#000>array</span><span style=color:#000;font-weight:700>([[</span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#ce5c00;font-weight:700>/</span><span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#ce5c00;font-weight:700>/</span><span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>,</span>  <span style=color:#0000cf;font-weight:700>0</span> <span style=color:#000;font-weight:700>],</span>
</span></span><span style=display:flex><span>       <span style=color:#000;font-weight:700>[</span> <span style=color:#0000cf;font-weight:700>0</span> <span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#ce5c00;font-weight:700>/</span><span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#ce5c00;font-weight:700>/</span><span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>]],</span> <span style=color:#000>dtype</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#204a87>object</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;&gt;&gt;</span> <span style=color:#000>qpts</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>kpoints_to_ppoints</span><span style=color:#000;font-weight:700>(</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>...</span>      <span style=color:#000>np</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>array</span><span style=color:#000;font-weight:700>([[</span><span style=color:#0000cf;font-weight:700>0.5</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>0.5</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>0</span>  <span style=color:#000;font-weight:700>],</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>...</span>                <span style=color:#000;font-weight:700>[</span><span style=color:#0000cf;font-weight:700>0</span>  <span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>0.5</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>0.5</span><span style=color:#000;font-weight:700>]])</span>  <span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#000>array</span><span style=color:#000;font-weight:700>([[</span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>],</span>
</span></span><span style=display:flex><span>       <span style=color:#000;font-weight:700>[</span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>]])</span>
</span></span></code></pre></div><h2 id=kpointsfsg>KpointsFSG<a class=td-heading-self-link href=#kpointsfsg aria-label="Heading self-link"></a></h2><p>Similar to KpointsFTG, the class KpointsFSG is basically a trivial wrapper around LatticeFSG,
which handles the point symmetry of the lattice. Given that the most common use cases of point
symmetry are in reciprocal space, only KpointsFSG is outlined here.
KpointsFSG derives from KpointsFTG, so it shares all the same attributes outlined above.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;&gt;&gt;</span> <span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>numpy</span> <span style=color:#204a87;font-weight:700>as</span> <span style=color:#000>np</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;&gt;&gt;</span> <span style=color:#204a87;font-weight:700>from</span> <span style=color:#000>principia_materia.translation_group</span> <span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>KpointsFSG</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;&gt;&gt;</span> <span style=color:#000>fcc_vec</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>0.5</span><span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>np</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>ones</span><span style=color:#000;font-weight:700>((</span><span style=color:#0000cf;font-weight:700>3</span><span style=color:#000;font-weight:700>,</span><span style=color:#0000cf;font-weight:700>3</span><span style=color:#000;font-weight:700>))</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#000>np</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>identity</span><span style=color:#000;font-weight:700>(</span><span style=color:#0000cf;font-weight:700>3</span><span style=color:#000;font-weight:700>))</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;&gt;&gt;</span> <span style=color:#000>S_bz</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>2</span><span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>np</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>identity</span><span style=color:#000;font-weight:700>(</span><span style=color:#0000cf;font-weight:700>3</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;&gt;&gt;</span> <span style=color:#000>qpts</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>KpointsFSG</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>vec</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000>fcc_vec</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>supa</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000>S_bz</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>pg</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#39;Oh&#39;</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;&gt;&gt;</span> <span style=color:#000>qpts</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>kpoints</span>
</span></span><span style=display:flex><span><span style=color:#000>array</span><span style=color:#000;font-weight:700>([[</span> <span style=color:#0000cf;font-weight:700>0</span> <span style=color:#000;font-weight:700>,</span>  <span style=color:#0000cf;font-weight:700>0</span> <span style=color:#000;font-weight:700>,</span>  <span style=color:#0000cf;font-weight:700>0</span> <span style=color:#000;font-weight:700>],</span>
</span></span><span style=display:flex><span>       <span style=color:#000;font-weight:700>[</span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#ce5c00;font-weight:700>/</span><span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>,</span>  <span style=color:#0000cf;font-weight:700>0</span> <span style=color:#000;font-weight:700>,</span>  <span style=color:#0000cf;font-weight:700>0</span> <span style=color:#000;font-weight:700>],</span>
</span></span><span style=display:flex><span>       <span style=color:#000;font-weight:700>[</span> <span style=color:#0000cf;font-weight:700>0</span> <span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#ce5c00;font-weight:700>/</span><span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>,</span>  <span style=color:#0000cf;font-weight:700>0</span> <span style=color:#000;font-weight:700>],</span>
</span></span><span style=display:flex><span>       <span style=color:#000;font-weight:700>[</span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#ce5c00;font-weight:700>/</span><span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#ce5c00;font-weight:700>/</span><span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>,</span>  <span style=color:#0000cf;font-weight:700>0</span> <span style=color:#000;font-weight:700>],</span>
</span></span><span style=display:flex><span>       <span style=color:#000;font-weight:700>[</span> <span style=color:#0000cf;font-weight:700>0</span> <span style=color:#000;font-weight:700>,</span>  <span style=color:#0000cf;font-weight:700>0</span> <span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#ce5c00;font-weight:700>/</span><span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>],</span>
</span></span><span style=display:flex><span>       <span style=color:#000;font-weight:700>[</span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#ce5c00;font-weight:700>/</span><span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>,</span>  <span style=color:#0000cf;font-weight:700>0</span> <span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#ce5c00;font-weight:700>/</span><span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>],</span>
</span></span><span style=display:flex><span>       <span style=color:#000;font-weight:700>[</span> <span style=color:#0000cf;font-weight:700>0</span> <span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#ce5c00;font-weight:700>/</span><span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#ce5c00;font-weight:700>/</span><span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>],</span>
</span></span><span style=display:flex><span>       <span style=color:#000;font-weight:700>[</span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#ce5c00;font-weight:700>/</span><span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#ce5c00;font-weight:700>/</span><span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#ce5c00;font-weight:700>/</span><span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>]],</span> <span style=color:#000>dtype</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#204a87>object</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;&gt;&gt;</span> <span style=color:#000>qpts</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>irr_kpoints</span>
</span></span><span style=display:flex><span><span style=color:#000>array</span><span style=color:#000;font-weight:700>([[</span> <span style=color:#0000cf;font-weight:700>0</span> <span style=color:#000;font-weight:700>,</span>  <span style=color:#0000cf;font-weight:700>0</span> <span style=color:#000;font-weight:700>,</span>  <span style=color:#0000cf;font-weight:700>0</span> <span style=color:#000;font-weight:700>],</span>
</span></span><span style=display:flex><span>       <span style=color:#000;font-weight:700>[</span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#ce5c00;font-weight:700>/</span><span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>,</span>  <span style=color:#0000cf;font-weight:700>0</span> <span style=color:#000;font-weight:700>,</span>  <span style=color:#0000cf;font-weight:700>0</span> <span style=color:#000;font-weight:700>],</span>
</span></span><span style=display:flex><span>       <span style=color:#000;font-weight:700>[</span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#ce5c00;font-weight:700>/</span><span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#ce5c00;font-weight:700>/</span><span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>,</span>  <span style=color:#0000cf;font-weight:700>0</span> <span style=color:#000;font-weight:700>]],</span> <span style=color:#000>dtype</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#204a87>object</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;&gt;&gt;</span> <span style=color:#000>qpts</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>irr_ppoints</span>
</span></span><span style=display:flex><span><span style=color:#000>array</span><span style=color:#000;font-weight:700>([[</span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>],</span>
</span></span><span style=display:flex><span>       <span style=color:#000;font-weight:700>[</span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>],</span>
</span></span><span style=display:flex><span>       <span style=color:#000;font-weight:700>[</span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>]])</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;&gt;&gt;</span> <span style=color:#000>qpts</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>N_irr</span>
</span></span><span style=display:flex><span><span style=color:#0000cf;font-weight:700>3</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;&gt;&gt;</span> <span style=color:#000>qpts</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>irr_indexes</span>
</span></span><span style=display:flex><span><span style=color:#000>array</span><span style=color:#000;font-weight:700>([</span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>3</span><span style=color:#000;font-weight:700>])</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;&gt;&gt;</span> <span style=color:#000>qpts</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>indexes_map_irr_index</span>
</span></span><span style=display:flex><span><span style=color:#000>array</span><span style=color:#000;font-weight:700>([</span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>3</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>3</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>3</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>])</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;&gt;&gt;</span> <span style=color:#000>qpts</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>indexes_map_irr_order</span>
</span></span><span style=display:flex><span><span style=color:#000>array</span><span style=color:#000;font-weight:700>([</span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>])</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;&gt;&gt;</span> <span style=color:#000>qpts</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>stars</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>[[</span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>],</span> <span style=color:#000;font-weight:700>[</span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>4</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>7</span><span style=color:#000;font-weight:700>],</span> <span style=color:#000;font-weight:700>[</span><span style=color:#0000cf;font-weight:700>3</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>5</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>6</span><span style=color:#000;font-weight:700>]]</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;&gt;&gt;</span> <span style=color:#000>qpts</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>little_groups</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#39;Oh&#39;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#39;D3d&#39;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#39;D4h&#39;</span><span style=color:#000;font-weight:700>]</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;&gt;&gt;</span> <span style=color:#000>qpts</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>kpoint_type</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#39;real&#39;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#39;real&#39;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#39;real&#39;</span><span style=color:#000;font-weight:700>]</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;&gt;&gt;</span> <span style=color:#8f5902;font-style:italic># operations that yield 4th point from irr counterpart</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;&gt;&gt;</span> <span style=color:#000>qpts</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>indexes_map_irr_ops</span><span style=color:#000;font-weight:700>[</span><span style=color:#0000cf;font-weight:700>4</span><span style=color:#000;font-weight:700>]</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#39;c3be&#39;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#39;ci3de&#39;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#39;c2y&#39;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#39;c4x&#39;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#39;c4z&#39;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#39;c2d&#39;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#39;Ic3be&#39;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#39;Ici3de&#39;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#39;Ic2y&#39;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#39;Ic4x&#39;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#39;Ic4z&#39;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#39;Ic2d&#39;</span><span style=color:#000;font-weight:700>]</span>
</span></span></code></pre></div><h2 id=qpointsn>QpointsN<a class=td-heading-self-link href=#qpointsn aria-label="Heading self-link"></a></h2><p>Next, we can use the above information to find irreducible \(Q\)-points.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;&gt;&gt;</span> <span style=color:#000>qpointsn</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>QpointsN</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>vec</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000>lattice_vectors</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>supa</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000>supa</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>order</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#0000cf;font-weight:700>3</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>pg</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000>pg</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;&gt;&gt;</span> <span style=color:#000>qpointsn</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>find_irreducible_Qpoints</span><span style=color:#000;font-weight:700>()</span>
</span></span><span style=display:flex><span><span style=color:#000>array</span><span style=color:#000;font-weight:700>([[[</span><span style=color:#000>Fraction</span><span style=color:#000;font-weight:700>(</span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>),</span> <span style=color:#000>Fraction</span><span style=color:#000;font-weight:700>(</span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>),</span> <span style=color:#000>Fraction</span><span style=color:#000;font-weight:700>(</span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>)],</span>                
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>[</span><span style=color:#000>Fraction</span><span style=color:#000;font-weight:700>(</span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>),</span> <span style=color:#000>Fraction</span><span style=color:#000;font-weight:700>(</span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>),</span> <span style=color:#000>Fraction</span><span style=color:#000;font-weight:700>(</span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>)],</span>                
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>[</span><span style=color:#000>Fraction</span><span style=color:#000;font-weight:700>(</span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>),</span> <span style=color:#000>Fraction</span><span style=color:#000;font-weight:700>(</span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>),</span> <span style=color:#000>Fraction</span><span style=color:#000;font-weight:700>(</span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>)]],</span>               
</span></span><span style=display:flex><span>        <span style=color:#ce5c00;font-weight:700>...</span><span style=color:#000;font-weight:700>,</span>                                                             
</span></span><span style=display:flex><span>       <span style=color:#000;font-weight:700>[[</span><span style=color:#000>Fraction</span><span style=color:#000;font-weight:700>(</span><span style=color:#0000cf;font-weight:700>3</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>4</span><span style=color:#000;font-weight:700>),</span> <span style=color:#000>Fraction</span><span style=color:#000;font-weight:700>(</span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>4</span><span style=color:#000;font-weight:700>),</span> <span style=color:#000>Fraction</span><span style=color:#000;font-weight:700>(</span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>)],</span>                
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>[</span><span style=color:#000>Fraction</span><span style=color:#000;font-weight:700>(</span><span style=color:#0000cf;font-weight:700>3</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>4</span><span style=color:#000;font-weight:700>),</span> <span style=color:#000>Fraction</span><span style=color:#000;font-weight:700>(</span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>4</span><span style=color:#000;font-weight:700>),</span> <span style=color:#000>Fraction</span><span style=color:#000;font-weight:700>(</span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>)],</span>                
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>[</span><span style=color:#000>Fraction</span><span style=color:#000;font-weight:700>(</span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>),</span> <span style=color:#000>Fraction</span><span style=color:#000;font-weight:700>(</span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>),</span> <span style=color:#000>Fraction</span><span style=color:#000;font-weight:700>(</span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>)]]],</span> <span style=color:#000>dtype</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#204a87>object</span><span style=color:#000;font-weight:700>)</span>
</span></span></code></pre></div><h2 id=get_minimum_supercell>get_minimum_supercell<a class=td-heading-self-link href=#get_minimum_supercell aria-label="Heading self-link"></a></h2><p>Algorithm to find the minimum supercell for a given list of \(\textbf{q}\)-points</p><p>The minimum supercell multiplicity is derived in the paper.
Here using the implemented function, we find that for the \(\textbf{q}\)-point
\(\textbf{q}=\left(\frac{1}{4}, \frac{3}{4}, 0\right)\) the supercell of the minimum multiplicity is:</p><p>$$
\hat{S}_{\textbf{q}} =
\begin{bmatrix}
1 & 1 & 0 \\
0 & 4 & 0 \\
0 & 0 & 1
\end{bmatrix}
$$</p><p>, and for the \(Q\)-point
\(Q=\left[\left(\frac{1}{4}, \frac{3}{4}, 0\right), \left(\frac{1}{4}, \frac{1}{2}, 0\right), \left(\frac{3}{4}, \frac{1}{4}, \frac{1}{2}\right)\right]\)
the supercell of the minimum multiplicity is:</p><p>$$
\hat{S}_{Q} = \begin{bmatrix}
4 & 0 & 0 \\
0 & 4 & 0 \\
0 & 0 & 2
\end{bmatrix}
$$</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;&gt;&gt;</span> <span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>numpy</span> <span style=color:#204a87;font-weight:700>as</span> <span style=color:#000>np</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;&gt;&gt;</span> <span style=color:#204a87;font-weight:700>from</span> <span style=color:#000>principia_materia.translation_group</span> <span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>get_minimum_supercell</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;&gt;&gt;</span> <span style=color:#204a87;font-weight:700>from</span> <span style=color:#000>principia_materia.io_interface</span> <span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>parse_array</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;&gt;&gt;</span> <span style=color:#204a87;font-weight:700>from</span> <span style=color:#000>principia_materia.mathematics</span> <span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>Fraction</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;&gt;&gt;</span> <span style=color:#000>Qpoint</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>parse_array</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;&#34;&#34;</span><span style=color:#4e9a06>\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span><span style=color:#4e9a06>...     1/4 3/4 0
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>... &#34;&#34;&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>dtype</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000>Fraction</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;&gt;&gt;</span> <span style=color:#000>Qpoint</span>
</span></span><span style=display:flex><span><span style=color:#000>array</span><span style=color:#000;font-weight:700>([</span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#ce5c00;font-weight:700>/</span><span style=color:#0000cf;font-weight:700>4</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>3</span><span style=color:#ce5c00;font-weight:700>/</span><span style=color:#0000cf;font-weight:700>4</span><span style=color:#000;font-weight:700>,</span>  <span style=color:#0000cf;font-weight:700>0</span> <span style=color:#000;font-weight:700>],</span> <span style=color:#000>dtype</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#204a87>object</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;&gt;&gt;</span> <span style=color:#000>get_minimum_supercell</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>Qpoint</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#000>array</span><span style=color:#000;font-weight:700>([[</span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>],</span> 
</span></span><span style=display:flex><span>       <span style=color:#000;font-weight:700>[</span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>4</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>],</span> 
</span></span><span style=display:flex><span>       <span style=color:#000;font-weight:700>[</span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>]])</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;&gt;&gt;</span> <span style=color:#000>Qpoint</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>parse_array</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;&#34;&#34;</span><span style=color:#4e9a06>\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span><span style=color:#4e9a06>...     1/4 3/4 0
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>...     1/4 1/2 0
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>...     3/4 1/4 1/2
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>... &#34;&#34;&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>dtype</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000>Fraction</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;&gt;&gt;</span> <span style=color:#000>Qpoint</span>
</span></span><span style=display:flex><span><span style=color:#000>array</span><span style=color:#000;font-weight:700>([[</span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#ce5c00;font-weight:700>/</span><span style=color:#0000cf;font-weight:700>4</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>3</span><span style=color:#ce5c00;font-weight:700>/</span><span style=color:#0000cf;font-weight:700>4</span><span style=color:#000;font-weight:700>,</span>  <span style=color:#0000cf;font-weight:700>0</span> <span style=color:#000;font-weight:700>],</span>
</span></span><span style=display:flex><span>       <span style=color:#000;font-weight:700>[</span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#ce5c00;font-weight:700>/</span><span style=color:#0000cf;font-weight:700>4</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#ce5c00;font-weight:700>/</span><span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>,</span>  <span style=color:#0000cf;font-weight:700>0</span> <span style=color:#000;font-weight:700>],</span>
</span></span><span style=display:flex><span>       <span style=color:#000;font-weight:700>[</span><span style=color:#0000cf;font-weight:700>3</span><span style=color:#ce5c00;font-weight:700>/</span><span style=color:#0000cf;font-weight:700>4</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#ce5c00;font-weight:700>/</span><span style=color:#0000cf;font-weight:700>4</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#ce5c00;font-weight:700>/</span><span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>]],</span> <span style=color:#000>dtype</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#204a87>object</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;&gt;&gt;</span> <span style=color:#000>get_minimum_supercell</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>Qpoint</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#000>array</span><span style=color:#000;font-weight:700>([[</span><span style=color:#0000cf;font-weight:700>4</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>],</span> 
</span></span><span style=display:flex><span>       <span style=color:#000;font-weight:700>[</span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>4</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>],</span> 
</span></span><span style=display:flex><span>       <span style=color:#000;font-weight:700>[</span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>]])</span>
</span></span></code></pre></div></div><div class=td-content style=page-break-before:always><h1 id=pg-d952ee4b4c22b2d0b4aa10e5598ea027>5.3 - Symmetry</h1><div class=lead>The symmetry module contains code related to point and space group symmetry.</div><p>Here we encode all information about the crystallographic point groups. In the near future, we will add space
group information here as well.</p><h2 id=cornwell_group_matrices>Cornwell_group_matrices<a class=td-heading-self-link href=#cornwell_group_matrices aria-label="Heading self-link"></a></h2><h2 id=cornwell_point_group>Cornwell_point_group<a class=td-heading-self-link href=#cornwell_point_group aria-label="Heading self-link"></a></h2><h2 id=pointgroup>PointGroup<a class=td-heading-self-link href=#pointgroup aria-label="Heading self-link"></a></h2><h2 id=get_little_group>get_little_group<a class=td-heading-self-link href=#get_little_group aria-label="Heading self-link"></a></h2></div><div class=td-content style=page-break-before:always><h1 id=pg-5ffb1c88cdc2294a12d69301e31832b9>5.4 - Representation</h1><div class=lead>Build representation of group and decompose into irreducible representations.</div><p>This module contains all classes relevant to building a representation of a group,
finding the composition in terms of irreducible representations, and building irreducible
vectors.</p><h2 id=baserepresentation>BaseRepresentation<a class=td-heading-self-link href=#baserepresentation aria-label="Heading self-link"></a></h2><h2 id=charmblochrep>CharmBlochRep<a class=td-heading-self-link href=#charmblochrep aria-label="Heading self-link"></a></h2><h2 id=shiftmode>ShiftMode<a class=td-heading-self-link href=#shiftmode aria-label="Heading self-link"></a></h2><h2 id=clusterrep>ClusterRep<a class=td-heading-self-link href=#clusterrep aria-label="Heading self-link"></a></h2><h2 id=dispclusterrep>DispClusterRep<a class=td-heading-self-link href=#dispclusterrep aria-label="Heading self-link"></a></h2><h2 id=singletensorrep>SingleTensorRep<a class=td-heading-self-link href=#singletensorrep aria-label="Heading self-link"></a></h2><h2 id=directproduct>DirectProduct<a class=td-heading-self-link href=#directproduct aria-label="Heading self-link"></a></h2><h2 id=symmetricdirectproduct>SymmetricDirectProduct<a class=td-heading-self-link href=#symmetricdirectproduct aria-label="Heading self-link"></a></h2><h2 id=starcharmblochrep-and-stars>StarCharmBlochRep and Stars<a class=td-heading-self-link href=#starcharmblochrep-and-stars aria-label="Heading self-link"></a></h2><h2 id=productofqirreps>ProductofQIrreps<a class=td-heading-self-link href=#productofqirreps aria-label="Heading self-link"></a></h2><h2 id=symmetricproductofqirreps>SymmetricProductofQIrreps<a class=td-heading-self-link href=#symmetricproductofqirreps aria-label="Heading self-link"></a></h2><h2 id=qstarrep>QStarRep<a class=td-heading-self-link href=#qstarrep aria-label="Heading self-link"></a></h2><h2 id=symmetricqstarrep>SymmetricQStarRep<a class=td-heading-self-link href=#symmetricqstarrep aria-label="Heading self-link"></a></h2></div><div class=td-content style=page-break-before:always><h1 id=pg-c773bcf6d74459c11261f79f021e1510>5.5 - Finite Difference</h1><div class=lead>This module sets up arbitrary order finite difference calculations for an arbitrary number of variables.</div><p>Finite difference is used to compute phonons and phonon interactions in PM, and this module isolates
all the tasks associated with performing finite difference. Here we give some examples to illustrate
the key features.</p><p>Let us consider a potential with three variables, labeled 0, 1, 2, and set up all derivatives
to second order.
Begin by instantiating the class:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;&gt;&gt;</span> <span style=color:#204a87;font-weight:700>from</span> <span style=color:#000>principia_materia.finite_difference.finite_difference_np</span> <span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>FiniteDifferenceNP</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;&gt;&gt;</span> <span style=color:#000>fd</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000>FiniteDifferenceNP</span><span style=color:#000;font-weight:700>()</span>
</span></span></code></pre></div><p>Set all the derivatives to be evaluated:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;&gt;&gt;</span> <span style=color:#000>fd</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>set_deriv</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>varset</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000;font-weight:700>[[</span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>],[</span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>],[</span><span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>],[</span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>,</span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>],[</span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>,</span><span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>],[</span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>,</span><span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>]],</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>...</span>              <span style=color:#000>ordset</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000;font-weight:700>[[</span><span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>],[</span><span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>],[</span><span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>],[</span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>,</span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>],[</span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>,</span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>],[</span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>,</span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>]])</span>
</span></span></code></pre></div><p>Set the deltas to be the same for all variables and setup the finite
difference amplitudes:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;&gt;&gt;</span> <span style=color:#000>fd</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>set_delta_global</span><span style=color:#000;font-weight:700>([</span><span style=color:#0000cf;font-weight:700>0.01</span><span style=color:#000;font-weight:700>,</span><span style=color:#0000cf;font-weight:700>0.02</span><span style=color:#000;font-weight:700>])</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;&gt;&gt;</span> <span style=color:#000>fd</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>setup_amplitude</span><span style=color:#000;font-weight:700>()</span>
</span></span></code></pre></div><p>We now have all the information we need to perform finite difference. For example, all amplitudes associated with a given set of variables is retrieved as:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;&gt;&gt;</span> <span style=color:#204a87>print</span> <span style=color:#000;font-weight:700>(</span><span style=color:#000>fd</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>get_var_amplitude</span><span style=color:#000;font-weight:700>([</span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>,</span><span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>]))</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>[[</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>0.02</span> <span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>0.02</span><span style=color:#000;font-weight:700>]</span>
</span></span><span style=display:flex><span> <span style=color:#000;font-weight:700>[</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>0.02</span>  <span style=color:#0000cf;font-weight:700>0.02</span><span style=color:#000;font-weight:700>]</span>
</span></span><span style=display:flex><span> <span style=color:#000;font-weight:700>[</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>0.01</span> <span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>0.01</span><span style=color:#000;font-weight:700>]</span>
</span></span><span style=display:flex><span> <span style=color:#000;font-weight:700>[</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>0.01</span>  <span style=color:#0000cf;font-weight:700>0.01</span><span style=color:#000;font-weight:700>]</span>
</span></span><span style=display:flex><span> <span style=color:#000;font-weight:700>[</span> <span style=color:#0000cf;font-weight:700>0.01</span> <span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>0.01</span><span style=color:#000;font-weight:700>]</span>
</span></span><span style=display:flex><span> <span style=color:#000;font-weight:700>[</span> <span style=color:#0000cf;font-weight:700>0.01</span>  <span style=color:#0000cf;font-weight:700>0.01</span><span style=color:#000;font-weight:700>]</span>
</span></span><span style=display:flex><span> <span style=color:#000;font-weight:700>[</span> <span style=color:#0000cf;font-weight:700>0.02</span> <span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>0.02</span><span style=color:#000;font-weight:700>]</span>
</span></span><span style=display:flex><span> <span style=color:#000;font-weight:700>[</span> <span style=color:#0000cf;font-weight:700>0.02</span>  <span style=color:#0000cf;font-weight:700>0.02</span><span style=color:#000;font-weight:700>]]</span>
</span></span></code></pre></div><p>In more complicated scenarios, the same amplitudes would appear multiple times, but this class
accounts for that when making a final list of amplitudes.
Take the following example containing second and fourth derivatives:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;&gt;&gt;</span> <span style=color:#000>fd</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>set_deriv</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>varset</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000;font-weight:700>[[</span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>,</span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>],[</span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>,</span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>]],</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>...</span>              <span style=color:#000>ordset</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000;font-weight:700>[[</span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>,</span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>],[</span><span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>,</span><span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>]])</span>
</span></span></code></pre></div><p>Inspecting the list of amplitudes for variable <code>[0,1]</code>, we see:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;&gt;&gt;</span> <span style=color:#204a87>print</span> <span style=color:#000;font-weight:700>(</span><span style=color:#000>fd</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>get_var_amplitude</span><span style=color:#000;font-weight:700>([</span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>,</span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>]))</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>[[</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>0.02</span> <span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>0.02</span><span style=color:#000;font-weight:700>]</span>
</span></span><span style=display:flex><span> <span style=color:#000;font-weight:700>[</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>0.02</span>  <span style=color:#0000cf;font-weight:700>0.02</span><span style=color:#000;font-weight:700>]</span>
</span></span><span style=display:flex><span> <span style=color:#000;font-weight:700>[</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>0.01</span> <span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>0.01</span><span style=color:#000;font-weight:700>]</span>
</span></span><span style=display:flex><span> <span style=color:#000;font-weight:700>[</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>0.01</span>  <span style=color:#0000cf;font-weight:700>0.01</span><span style=color:#000;font-weight:700>]</span>
</span></span><span style=display:flex><span> <span style=color:#000;font-weight:700>[</span> <span style=color:#0000cf;font-weight:700>0.01</span> <span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>0.01</span><span style=color:#000;font-weight:700>]</span>
</span></span><span style=display:flex><span> <span style=color:#000;font-weight:700>[</span> <span style=color:#0000cf;font-weight:700>0.01</span>  <span style=color:#0000cf;font-weight:700>0.01</span><span style=color:#000;font-weight:700>]</span>
</span></span><span style=display:flex><span> <span style=color:#000;font-weight:700>[</span> <span style=color:#0000cf;font-weight:700>0.02</span> <span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>0.02</span><span style=color:#000;font-weight:700>]</span>
</span></span><span style=display:flex><span> <span style=color:#000;font-weight:700>[</span> <span style=color:#0000cf;font-weight:700>0.02</span>  <span style=color:#0000cf;font-weight:700>0.02</span><span style=color:#000;font-weight:700>]</span>
</span></span><span style=display:flex><span> <span style=color:#000;font-weight:700>[</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>0.04</span> <span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>0.04</span><span style=color:#000;font-weight:700>]</span>
</span></span><span style=display:flex><span> <span style=color:#000;font-weight:700>[</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>0.04</span>  <span style=color:#0000cf;font-weight:700>0.04</span><span style=color:#000;font-weight:700>]</span>
</span></span><span style=display:flex><span> <span style=color:#000;font-weight:700>[</span> <span style=color:#0000cf;font-weight:700>0.04</span> <span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>0.04</span><span style=color:#000;font-weight:700>]</span>
</span></span><span style=display:flex><span> <span style=color:#000;font-weight:700>[</span> <span style=color:#0000cf;font-weight:700>0.04</span>  <span style=color:#0000cf;font-weight:700>0.04</span><span style=color:#000;font-weight:700>]]</span>
</span></span></code></pre></div><p>The same amplitudes are used for both the second and fourth derivatives, and
the class is aware of this. Additionally, the fourth
derivatives will need cases where one amplitude is zero, which do not appear.
In this case, the class creates a new variable sets <code>[0]</code> and <code>[1]</code> that contain
these amplitudes. For example,</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;&gt;&gt;</span> <span style=color:#204a87>print</span> <span style=color:#000;font-weight:700>(</span><span style=color:#000>fd</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>get_var_amplitude</span><span style=color:#000;font-weight:700>([</span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>]))</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>[[</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>0.04</span><span style=color:#000;font-weight:700>]</span>
</span></span><span style=display:flex><span> <span style=color:#000;font-weight:700>[</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>0.02</span><span style=color:#000;font-weight:700>]</span>
</span></span><span style=display:flex><span> <span style=color:#000;font-weight:700>[</span> <span style=color:#0000cf;font-weight:700>0.02</span><span style=color:#000;font-weight:700>]</span>
</span></span><span style=display:flex><span> <span style=color:#000;font-weight:700>[</span> <span style=color:#0000cf;font-weight:700>0.04</span><span style=color:#000;font-weight:700>]]</span>
</span></span></code></pre></div></div><div class=td-content style=page-break-before:always><h1 id=pg-188436dc90e1e3110a757e1b8e1b2abe>6 - Data Management</h1><div class=lead>How PM handles data that it intakes and generates.</div><p>PM deals with varied data sets, some of which is read in from other sources and some of which is generated.</p></div><div class=td-content><h1 id=pg-5c950eac83a444a9c90da17e97b5f3a2>6.1 - Data Aggregator</h1><div class=lead>Data Aggregator is a schema for defining input data, documenting the data, and characterizing relationships between input data.</div><p>Like many python-based application, PM will need to take input data from the
command line and or YAML input files. A mechanism is needed to characterize
the data, enforce the data type of the input data, and possibly do some
preprocessing of the data. Data Aggregator handles these tasks.</p><h2 id=descriptors>Descriptors<a class=td-heading-self-link href=#descriptors aria-label="Heading self-link"></a></h2><p>Input data is characterized by descriptors. A descriptor describes a set of data
associated with a class, a command line interface, or some other structure.
The descriptor will normally be named by the class or command line interface
they correspond to. Consider the <code>Lattice</code>, <code>Cluster</code>, and <code>Crystal</code> classes,
where <code>Crystal</code> derives from the preceding two classes.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#204a87;font-weight:700>tolerance</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>type</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>generic</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>description</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000;font-weight:700>|</span><span style=color:#8f5902;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>    The numerical tolerance used by various methods within PM.</span><span style=color:#f8f8f8;text-decoration:underline>    
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>variables</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>tolerance</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>type</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>float</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>optional</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#204a87;font-weight:700>True</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>dimension</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>scalar</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>alias</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>tol</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>help</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000;font-weight:700>|</span><span style=color:#8f5902;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>        The numerical tolerance used to assess some condition.</span><span style=color:#f8f8f8;text-decoration:underline>        
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>   
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>lattice</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>type</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>class</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>inherit</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span>- <span style=color:#000>tolerance</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>description</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000;font-weight:700>|</span><span style=color:#8f5902;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>    Defines the lattice vectors of a 3-dimensional crystal.</span><span style=color:#f8f8f8;text-decoration:underline>    
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>variables</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>lattice_vectors</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>type</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>float-array</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>optional</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>   </span><span style=color:#204a87;font-weight:700>False</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>alias</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>vec</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>dimension</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>\(3\times 3\)</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>help</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000;font-weight:700>|</span><span style=color:#8f5902;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>        Lattice vectors in three dimensions, 
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>            stored as a row stacked matrix.
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>        </span><span style=color:#f8f8f8;text-decoration:underline>        
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>cluster</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>type</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>class</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>inherit</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span>- <span style=color:#000>tolerance</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>description</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000;font-weight:700>|</span><span style=color:#8f5902;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>    Defines the positions for a cluster of atoms.</span><span style=color:#f8f8f8;text-decoration:underline>    
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>variables</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>basis_atoms</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>type</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>dict-float-array</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>optional</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>   </span><span style=color:#204a87;font-weight:700>False</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>alias</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>atoms</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>dimension</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000;font-weight:700>|</span><span style=color:#8f5902;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>        scalar \( \leftrightarrow N_{j}\times3\) 
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>                     \(N_j\) is the number of atoms of species \(j\).</span><span style=color:#f8f8f8;text-decoration:underline>        
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>crystal</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>type</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>class</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>inherit</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span>- <span style=color:#000>lattice</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span>- <span style=color:#000>cluster</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span></code></pre></div><p>The <em>inherit</em> variable specifies a list of descriptors from which various attributes
(e.g. variables) may be inherited. It is also useful to consider an example with
command line interfaces.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#204a87;font-weight:700>general_cli</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>type</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>script</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>description</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#000>Most command line interfaces will use these variables.</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>variables</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>precision</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>type</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>   </span><span style=color:#000>int</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>default</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>8</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>help</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>    
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>        </span><span style=color:#000>Sets the number of decimal places that are retained</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>        </span><span style=color:#000>when testing a floating point equality.</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>optional</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#204a87;font-weight:700>True</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>degub</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>type</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>bool</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>default</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#204a87;font-weight:700>False</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>optional</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#204a87;font-weight:700>True</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>help</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> 
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>        </span><span style=color:#000>Defines the verbosity of error handling and may invoke basic tests.</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>input_files</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>type</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#000>string-array</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>optional</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#204a87;font-weight:700>True</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>help</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>     </span><span style=color:#000>Name of yaml files containing input tags which will be read.</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>alias</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>   </span>-<span style=color:#000>i</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>strict_input</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>type</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>   </span><span style=color:#000>bool</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>default</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#204a87;font-weight:700>True</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>help</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#000>If true, the provided input tags must be known to the command line interface.</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>optional</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#204a87;font-weight:700>True</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>crystal_format</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>type</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>script</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>description</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#000>There are many different conventions for storing a crystal structure, and this script</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#000>convert between several common types.</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>inherit</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span>- <span style=color:#000>general_cli</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>variables</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>input_xtal_format</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>type</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#000>string</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>optional</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#204a87;font-weight:700>False</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>help</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>     </span><span style=color:#000>Convention for crystal structure input (e.g. vasp, QE, abinit, etc).</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>choices</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>        </span>- <span style=color:#000>pm</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>        </span>- <span style=color:#000>qe</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>        </span>- <span style=color:#000>vasp</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>output_xtal_format</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>type</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#000>string</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>optional</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#204a87;font-weight:700>False</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>help</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>     </span><span style=color:#000>Convention for crystal structure output (e.g. vasp, QE, abinit, etc).</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>choices</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>        </span>- <span style=color:#000>pm</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>        </span>- <span style=color:#000>qe</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>        </span>- <span style=color:#000>vasp</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span></code></pre></div></div><div class=td-content style=page-break-before:always><h1 id=pg-b6a6003ea6b9887353c99c898271fbad>6.2 - Database</h1><div class=lead>PM uses a sqlite database to store information related to first-principles calculations.</div></div><div class=td-content style=page-break-before:always><h1 id=pg-830f5c42d2c29952494398c4c3770c95>6.3 - hdf5</h1><div class=lead>PM uses hdf files to store irreducible derivatives, force tensors, etc.</div></div><div class=td-content style=page-break-before:always><h1 id=pg-52225ffd57b6b5e354b3c6d0ddb4012e>7 - Unit Testing</h1><div class=lead>Unit testing PM.</div><p>Here we document how unit testing is performed for PM, and provide an overview of what sort of tests are performed.
Unit tests for PM are stored in a separate repository called <a href=https://github.com/marianettigroup/principia-materia-tests>principia-materia-tests</a>.</p><p>PM performs unit testing with <a href=https://docs.pytest.org/en/7.2.x/contents.html>Pytest</a>, which is a standard framework for unit testing within python. All unit tests may be run by going into the repo, installing the required dependencies, and executing <code>pytest</code>.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>git clone git@github.com:marianettigroup/principia-materia-tests.git
</span></span><span style=display:flex><span><span style=color:#204a87>cd</span> principia-materia-test
</span></span><span style=display:flex><span>pip install requirements.txt
</span></span><span style=display:flex><span>pytest
</span></span></code></pre></div><p>An individual test can be run by changing into a directory and running pytest on a specific test.
For example,</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#204a87>cd</span> tests/translation_group
</span></span><span style=display:flex><span>pytest test_translation_group.py
</span></span></code></pre></div></div></main></div></div><footer class="td-footer row d-print-none"><div class=container-fluid><div class="row mx-md-2"><div class="td-footer__left col-6 col-sm-4 order-sm-1"><ul class=td-footer__links-list><li class=td-footer__links-item data-bs-toggle=tooltip title="User mailing list" aria-label="User mailing list"><a target=_blank rel=noopener href=https://example.org/mail aria-label="User mailing list"><i class="fa fa-envelope"></i></a></li><li class=td-footer__links-item data-bs-toggle=tooltip title=Twitter aria-label=Twitter><a target=_blank rel=noopener href=https://example.org/twitter aria-label=Twitter><i class="fab fa-twitter"></i></a></li><li class=td-footer__links-item data-bs-toggle=tooltip title="Stack Overflow" aria-label="Stack Overflow"><a target=_blank rel=noopener href=https://example.org/stack aria-label="Stack Overflow"><i class="fab fa-stack-overflow"></i></a></li></ul></div><div class="td-footer__right col-6 col-sm-4 order-sm-3"><ul class=td-footer__links-list><li class=td-footer__links-item data-bs-toggle=tooltip title=GitHub aria-label=GitHub><a target=_blank rel=noopener href=https://github.com/google/docsy aria-label=GitHub><i class="fab fa-github"></i></a></li><li class=td-footer__links-item data-bs-toggle=tooltip title=Slack aria-label=Slack><a target=_blank rel=noopener href=https://example.org/slack aria-label=Slack><i class="fab fa-slack"></i></a></li><li class=td-footer__links-item data-bs-toggle=tooltip title="Developer mailing list" aria-label="Developer mailing list"><a target=_blank rel=noopener href=https://example.org/mail aria-label="Developer mailing list"><i class="fa fa-envelope"></i></a></li></ul></div><div class="td-footer__center col-12 col-sm-4 py-2 order-sm-2"><span class=td-footer__copyright>&copy;
2018&ndash;2024
<span class=td-footer__authors>Docsy Authors | <a href=https://creativecommons.org/licenses/by/4.0>CC BY 4.0</a> |</span></span><span class=td-footer__all_rights_reserved>All Rights Reserved</span><span class=ms-2><a href=https://policies.google.com/privacy target=_blank rel=noopener>Privacy Policy</a></span></div></div></div></footer></div><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.16.10/dist/katex.min.css integrity="sha512-r2+FkHzf1u0+SQbZOoIz2RxWOIWfdEzRuYybGjzKq18jG9zaSfEy9s3+jMqG/zPtRor/q4qaUCYQpmSjTw8M+g==" crossorigin=anonymous><script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.10/dist/katex.min.js integrity="sha512-INps9zQ2GUEMCQD7xiZQbGUVnqnzEvlynVy6eqcTcHN4+aQiLo9/uaQqckDpdJ8Zm3M0QBs+Pktg4pz0kEklUg==" crossorigin=anonymous></script><script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.10/dist/contrib/auto-render.min.js integrity="sha512-YJVxTjqttjsU3cSvaTRqsSl0wbRgZUNF+NGGCgto/MUbIvaLdXQzGTCQu4CvyJZbZctgflVB0PXw9LLmTWm5/w==" crossorigin=anonymous onload=renderMathInElement(document.body,null)></script><script src=/js/main.min.e0f58cb8b0681b74bb5f5ae834fb31f26901cd66346d69d749ba075ed1db63c4.js integrity="sha256-4PWMuLBoG3S7X1roNPsx8mkBzWY0bWnXSboHXtHbY8Q=" crossorigin=anonymous></script><script defer src=/js/click-to-copy.min.73478a7d4807698aed7e355eb23f9890ca18fea3158604c8471746d046702bad.js integrity="sha256-c0eKfUgHaYrtfjVesj+YkMoY/qMVhgTIRxdG0EZwK60=" crossorigin=anonymous></script><script src=/js/tabpane-persist.js></script></body></html>