<!doctype html><html itemscope itemtype=http://schema.org/WebPage lang=en class=no-js><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><link rel=canonical type=text/html href=https://example.docsy.dev/docs/><link rel=alternate type=application/rss+xml href=https://example.docsy.dev/docs/index.xml><meta name=robots content="noindex, nofollow"><link rel="shortcut icon" href=/favicons/favicon.ico><link rel=apple-touch-icon href=/favicons/apple-touch-icon-180x180.png sizes=180x180><link rel=icon type=image/png href=/favicons/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=/favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/favicons/android-36x36.png sizes=36x36><link rel=icon type=image/png href=/favicons/android-48x48.png sizes=48x48><link rel=icon type=image/png href=/favicons/android-72x72.png sizes=72x72><link rel=icon type=image/png href=/favicons/android-96x96.png sizes=96x96><link rel=icon type=image/png href=/favicons/android-144x144.png sizes=144x144><link rel=icon type=image/png href=/favicons/android-192x192.png sizes=192x192><title>Documentation | Principia Materia</title>
<meta name=description content="A Docsy example site"><meta property="og:url" content="https://example.docsy.dev/docs/"><meta property="og:site_name" content="Principia Materia"><meta property="og:title" content="Documentation"><meta property="og:description" content="Here we document all aspects of the code."><meta property="og:locale" content="en"><meta property="og:type" content="website"><meta itemprop=name content="Documentation"><meta itemprop=description content="Here we document all aspects of the code."><meta itemprop=dateModified content="2022-09-19T01:48:12-04:00"><meta itemprop=wordCount content="8"><meta name=twitter:card content="summary"><meta name=twitter:title content="Documentation"><meta name=twitter:description content="Here we document all aspects of the code."><link rel=preload href=/scss/main.min.e27e9dbace77e637983a3900590da42ddfc471da09131ef565f7ea5853a1205a.css as=style><link href=/scss/main.min.e27e9dbace77e637983a3900590da42ddfc471da09131ef565f7ea5853a1205a.css rel=stylesheet><script src=https://code.jquery.com/jquery-3.7.1.min.js integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin=anonymous></script></head><body class=td-section><header><nav class="td-navbar js-navbar-scroll" data-bs-theme=dark><div class="container-fluid flex-column flex-md-row"><a class=navbar-brand href=/><span class="navbar-brand__logo navbar-logo"><svg id="Layer_1" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 500 500" style="enable-background:new 0 0 500 500"><g><path style="fill:#fff" d="M116.8525 421.9722c-5.7041.0-10.3442-4.3127-10.3442-9.6129V88.183c0-5.3002 4.6401-9.6117 10.3442-9.6117H320.858c3.0347.0 9.3959.5498 11.7506 2.6302l.3545.3442 58.905 63.2912c2.3101 2.491 2.9202 8.4928 2.9202 11.3184v256.2039c0 5.3002-4.6407 9.6129-10.3436 9.6129H116.8525z"/><g><g><g><path style="fill:#767676" d="M384.4445 423.2066H116.852c-6.3839.0-11.5786-4.8658-11.5786-10.8474V88.1831c0-5.9804 5.1947-10.8461 11.5786-10.8461h204.0062c.377.0 9.2786.0329 12.568 2.9389l.3947.3833 58.9508 63.337c3.2135 3.4652 3.2514 11.7924 3.2514 12.1593v256.2036C396.0231 418.3408 390.8284 423.2066 384.4445 423.2066zM116.5079 411.9189c.0848.0278.1999.0531.3441.0531h267.5925c.1442.0.2581-.0253.3441-.0531V156.1556c-.0076-.9033-.3593-3.7347-.7034-5.0037l-57.6527-61.9416c-1.4651-.3176-4.4533-.6389-5.5742-.6389H116.852c-.143.0-.2594.024-.3441.0531V411.9189zm267.4533-261.149zM327.0321 89.371v.0013V89.371z"/></g></g></g><g><g><path style="fill:#5b7fc0" d="M189.0874 210.1754l.0012-.0012c7.7751.0012 15.0295 4.1862 18.932 10.9234 1.9177 3.3159 2.9305 7.1011 2.9293 10.9378.0 5.8394-2.2733 11.3304-6.4032 15.4604-4.1288 4.1288-9.6186 6.4032-15.458 6.4032s-11.328-2.2733-15.458-6.4032-6.4032-9.6186-6.4056-15.4628c.0012-6.025 2.454-11.4897 6.4116-15.4473C177.5953 212.627 183.0601 210.1742 189.0874 210.1754zm7.993 21.8576c.0012-1.4042-.3687-2.7868-1.063-3.9887-1.4293-2.4684-4.0833-3.9995-6.9299-4.0019-4.4077.0024-7.993 3.5877-7.993 7.993.0 2.1356.832 4.1431 2.3427 5.6539 1.5083 1.5083 3.5159 2.3403 5.6503 2.3415 2.1356.0 4.1443-.8308 5.6539-2.3403S197.0816 234.1722 197.0804 232.033z"/><path style="opacity:.3;fill:#fff" d="M189.0898 210.176c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3136 2.9377 7.0988 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8066-21.8612-21.8613.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 212.6276 183.0612 210.176 189.0898 210.176zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 236.239 197.0839 234.2399 197.0839 232.0372z"/><g><defs><path id="SVGID_1_" d="M194.7376 237.6875c-1.4461 1.4461-3.4452 2.3439-5.6479 2.3439-4.4077-.0024-7.9918-3.5865-7.9942-7.9942.0024-4.4125 3.5937-7.999 7.9942-7.9942 2.8443.0 5.497 1.5323 6.924 3.9983.6991 1.2067 1.0702 2.5881 1.0702 3.9959C197.0839 234.2399 196.1861 236.239 194.7376 237.6875z"/></defs><clipPath id="SVGID_2_"><use xlink:href="#SVGID_1_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_2_);fill:#fff" d="M190.0704 225.0237c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9546.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.663-2.8588-6.116.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C193.7885 225.7247 191.9774 225.0237 190.0704 225.0237z"/><path style="opacity:.13;clip-path:url(#SVGID_2_);fill:#020202" d="M190.0704 225.0237c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9546.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.663-2.8588-6.116.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C193.7885 225.7247 191.9774 225.0237 190.0704 225.0237z"/></g><g><defs><path id="SVGID_3_" d="M189.0898 210.176c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3136 2.9377 7.0988 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8066-21.8612-21.8613.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 212.6276 183.0612 210.176 189.0898 210.176zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 236.239 197.0839 234.2399 197.0839 232.0372z"/></defs><clipPath id="SVGID_4_"><use xlink:href="#SVGID_3_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_4_);fill:#5b7fc0" d="M172.6595 215.6045c-3.96 3.96-6.4116 9.4235-6.4116 15.452-.0024 12.0547 9.8066 21.8636 21.8613 21.8612 12.0547.0024 21.8636-9.797 21.8613-21.8612.0024-3.8475-1.0151-7.6326-2.9353-10.9462-3.8977-6.7324-11.1497-10.9151-18.926-10.9151C182.0806 209.1953 176.6171 211.647 172.6595 215.6045z"/></g></g><rect x="198.8952" y="225.1043" style="fill:#5b7fc0" width="122.6266" height="13.8671"/></g><g><path style="fill:#d95140" d="M189.0874 155.7611l.0012-.0012c7.7751.0012 15.0295 4.1862 18.932 10.9234 1.9177 3.3159 2.9305 7.1011 2.9293 10.9378.0 5.8394-2.2733 11.3304-6.4032 15.4604-4.1288 4.1288-9.6186 6.4032-15.458 6.4032s-11.328-2.2733-15.458-6.4032-6.4032-9.6186-6.4056-15.4628c.0012-6.0249 2.454-11.4897 6.4116-15.4473C177.5953 158.2128 183.0601 155.7599 189.0874 155.7611zm7.993 21.8577c.0012-1.4042-.3687-2.7868-1.063-3.9887-1.4293-2.4684-4.0833-3.9995-6.9299-4.0019-4.4077.0024-7.993 3.5877-7.993 7.993.0 2.1356.832 4.1431 2.3427 5.6539 1.5083 1.5083 3.5159 2.3403 5.6503 2.3415 2.1356.0 4.1443-.8308 5.6539-2.3403C196.2508 181.7667 197.0816 179.758 197.0804 177.6188z"/><path style="opacity:.3;fill:#fff" d="M189.0898 155.7617c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3135 2.9377 7.0987 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8066-21.8612-21.8613.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 158.2134 183.0612 155.7617 189.0898 155.7617zm7.9941 21.8613c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 181.8248 197.0839 179.8256 197.0839 177.623z"/><g><defs><path id="SVGID_5_" d="M194.7376 183.2733c-1.4461 1.4461-3.4452 2.3439-5.6479 2.3439-4.4077-.0024-7.9918-3.5865-7.9942-7.9942.0024-4.4125 3.5937-7.9989 7.9942-7.9942 2.8443.0 5.497 1.5323 6.924 3.9983.6991 1.2067 1.0702 2.5881 1.0702 3.9959C197.0839 179.8256 196.1861 181.8248 194.7376 183.2733z"/></defs><clipPath id="SVGID_6_"><use xlink:href="#SVGID_5_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_6_);fill:#fff" d="M190.0704 170.6095c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9546.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.663-2.8588-6.116.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C193.7885 171.3104 191.9774 170.6095 190.0704 170.6095z"/><path style="opacity:.13;clip-path:url(#SVGID_6_);fill:#020202" d="M190.0704 170.6095c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9546.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.663-2.8588-6.116.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C193.7885 171.3104 191.9774 170.6095 190.0704 170.6095z"/></g><g><defs><path id="SVGID_7_" d="M189.0898 155.7617c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3135 2.9377 7.0987 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8066-21.8612-21.8613.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 158.2134 183.0612 155.7617 189.0898 155.7617zm7.9941 21.8613c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 181.8248 197.0839 179.8256 197.0839 177.623z"/></defs><clipPath id="SVGID_8_"><use xlink:href="#SVGID_7_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_8_);fill:#d95140" d="M172.6595 161.1903c-3.96 3.96-6.4116 9.4235-6.4116 15.452-.0024 12.0547 9.8066 21.8636 21.8613 21.8613 12.0547.0024 21.8636-9.797 21.8613-21.8613.0024-3.8474-1.0151-7.6326-2.9353-10.9462-3.8977-6.7324-11.1497-10.9151-18.926-10.9151C182.0806 154.7811 176.6171 157.2327 172.6595 161.1903z"/></g><rect x="198.8952" y="170.69" style="fill:#d95140" width="122.6266" height="13.8671"/></g><g><g><path style="fill:#56a55c" d="M189.5379 264.6147l.0012-.0012c7.7751.0012 15.0294 4.1862 18.932 10.9235 1.9177 3.3159 2.9305 7.1011 2.9293 10.9378.0 5.8394-2.2733 11.3304-6.4032 15.4604-4.1288 4.1288-9.6186 6.4032-15.458 6.4032-5.8394.0-11.3281-2.2733-15.458-6.4032-4.13-4.13-6.4032-9.6186-6.4056-15.4628.0012-6.0249 2.454-11.4897 6.4116-15.4472C178.0458 267.0663 183.5105 264.6135 189.5379 264.6147zm7.993 21.8576c.0012-1.4042-.3687-2.7868-1.063-3.9887-1.4293-2.4684-4.0833-3.9995-6.9299-4.0019-4.4077.0024-7.993 3.5877-7.993 7.993.0 2.1356.832 4.1431 2.3427 5.6538 1.5083 1.5083 3.5159 2.3403 5.6503 2.3415 2.1356.0 4.1443-.8308 5.6539-2.3403C196.7013 290.6202 197.5321 288.6115 197.5309 286.4723z"/><path style="opacity:.3;fill:#fff" d="M189.5403 264.6153c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3135 2.9377 7.0987 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8065-21.8612-21.8613.0-6.0285 2.4516-11.492 6.4116-15.452C178.0482 267.0669 183.5117 264.6153 189.5403 264.6153zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9941.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.6366 290.6783 197.5344 288.6792 197.5344 286.4765z"/><g><defs><path id="SVGID_9_" d="M195.1881 292.1268c-1.4461 1.4461-3.4452 2.3439-5.6479 2.3439-4.4077-.0024-7.9918-3.5865-7.9942-7.9942.0024-4.4125 3.5937-7.9989 7.9942-7.9941 2.8443.0 5.497 1.5323 6.924 3.9983.6991 1.2067 1.0702 2.5881 1.0702 3.9959C197.5344 288.6792 196.6366 290.6783 195.1881 292.1268z"/></defs><clipPath id="SVGID_10_"><use xlink:href="#SVGID_9_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_10_);fill:#fff" d="M190.5209 279.463c-4.4005-.0048-7.9918 3.5817-7.9942 7.9941.0011 1.9547.7088 3.7452 1.8782 5.1354-1.7446-1.4674-2.8575-3.6631-2.8588-6.1161.0024-4.4125 3.5936-7.999 7.9942-7.9941 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C194.239 280.164 192.4279 279.463 190.5209 279.463z"/><path style="opacity:.13;clip-path:url(#SVGID_10_);fill:#020202" d="M190.5209 279.463c-4.4005-.0048-7.9918 3.5817-7.9942 7.9941.0011 1.9547.7088 3.7452 1.8782 5.1354-1.7446-1.4674-2.8575-3.6631-2.8588-6.1161.0024-4.4125 3.5936-7.999 7.9942-7.9941 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C194.239 280.164 192.4279 279.463 190.5209 279.463z"/></g><g><defs><path id="SVGID_11_" d="M189.5403 264.6153c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3135 2.9377 7.0987 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8065-21.8612-21.8613.0-6.0285 2.4516-11.492 6.4116-15.452C178.0482 267.0669 183.5117 264.6153 189.5403 264.6153zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9941.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.6366 290.6783 197.5344 288.6792 197.5344 286.4765z"/></defs><clipPath id="SVGID_12_"><use xlink:href="#SVGID_11_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_12_);fill:#56a55c" d="M173.11 270.0439c-3.96 3.96-6.4116 9.4235-6.4116 15.452-.0024 12.0547 9.8066 21.8636 21.8613 21.8613 12.0547.0024 21.8636-9.797 21.8613-21.8613.0024-3.8474-1.0151-7.6326-2.9353-10.9462-3.8977-6.7325-11.1497-10.9151-18.926-10.9151C182.5311 263.6346 177.0676 266.0863 173.11 270.0439z"/></g></g><rect x="199.3456" y="279.5436" style="fill:#56a55c" width="122.6266" height="13.8671"/></g><g><g><path style="fill:#f1bc42" d="M189.0874 318.7208l.0012-.0012c7.7751.0012 15.0295 4.1862 18.932 10.9234 1.9177 3.3159 2.9305 7.1011 2.9293 10.9378.0 5.8394-2.2733 11.3305-6.4032 15.4604-4.1288 4.1288-9.6186 6.4032-15.458 6.4032s-11.328-2.2733-15.458-6.4032-6.4032-9.6186-6.4056-15.4628c.0012-6.025 2.454-11.4897 6.4116-15.4472C177.5953 321.1724 183.0601 318.7196 189.0874 318.7208zm7.993 21.8576c.0012-1.4042-.3687-2.7868-1.063-3.9887-1.4293-2.4684-4.0833-3.9995-6.9299-4.0019-4.4077.0024-7.993 3.5877-7.993 7.993.0 2.1356.832 4.1431 2.3427 5.6539 1.5083 1.5083 3.5159 2.3403 5.6503 2.3415 2.1356.0 4.1443-.8308 5.6539-2.3403S197.0816 342.7176 197.0804 340.5784z"/><path style="opacity:.3;fill:#fff" d="M189.0898 318.7214c7.7763.0 15.0283 4.1826 18.926 10.915 1.9201 3.3136 2.9377 7.0988 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8612-12.0547.0024-21.8636-9.8065-21.8612-21.8612.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 321.173 183.0612 318.7214 189.0898 318.7214zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 344.7844 197.0839 342.7853 197.0839 340.5826z"/><g><defs><path id="SVGID_13_" d="M194.7376 346.2329c-1.4461 1.4461-3.4452 2.3439-5.6479 2.3439-4.4077-.0024-7.9918-3.5865-7.9942-7.9942.0024-4.4125 3.5937-7.999 7.9942-7.9942 2.8443.0 5.497 1.5323 6.924 3.9983.6991 1.2067 1.0702 2.5881 1.0702 3.9959C197.0839 342.7853 196.1861 344.7844 194.7376 346.2329z"/></defs><clipPath id="SVGID_14_"><use xlink:href="#SVGID_13_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_14_);fill:#fff" d="M190.0704 333.5691c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9547.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.6631-2.8588-6.1161.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0834 6.1218 2.8788C193.7885 334.2701 191.9774 333.5691 190.0704 333.5691z"/><path style="opacity:.13;clip-path:url(#SVGID_14_);fill:#020202" d="M190.0704 333.5691c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9547.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.6631-2.8588-6.1161.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0834 6.1218 2.8788C193.7885 334.2701 191.9774 333.5691 190.0704 333.5691z"/></g><g><defs><path id="SVGID_15_" d="M189.0898 318.7214c7.7763.0 15.0283 4.1826 18.926 10.915 1.9201 3.3136 2.9377 7.0988 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8612-12.0547.0024-21.8636-9.8065-21.8612-21.8612.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 321.173 183.0612 318.7214 189.0898 318.7214zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 344.7844 197.0839 342.7853 197.0839 340.5826z"/></defs><clipPath id="SVGID_16_"><use xlink:href="#SVGID_15_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_16_);fill:#f1bc42" d="M172.6595 324.15c-3.96 3.96-6.4116 9.4235-6.4116 15.452-.0024 12.0547 9.8066 21.8636 21.8613 21.8612 12.0547.0024 21.8636-9.797 21.8613-21.8612.0024-3.8474-1.0151-7.6327-2.9353-10.9462-3.8977-6.7324-11.1497-10.9151-18.926-10.9151C182.0806 317.7407 176.6171 320.1924 172.6595 324.15z"/></g></g><rect x="198.8952" y="333.6497" style="fill:#f1bc42" width="122.6266" height="13.8671"/></g></g></svg></span><span class=navbar-brand__name>Principia Materia</span></a><div class="td-navbar-nav-scroll ms-md-auto" id=main_navbar><ul class=navbar-nav><li class=nav-item><a class="nav-link active" href=/docs/><span>Documentation</span></a></li></ul></div><div class="d-none d-lg-block"><div class=td-search><div class=td-search__icon></div><input type=search class="td-search__input form-control td-search-input" placeholder="Search this site…" aria-label="Search this site…" autocomplete=off></div></div></div></nav></header><div class="container-fluid td-outer"><div class=td-main><div class="row flex-xl-nowrap"><main class="col-12 col-md-9 col-xl-8 ps-md-5" role=main><div class=td-content><div class="pageinfo pageinfo-primary d-print-none"><p>This is the multi-page printable view of this section.
<a href=# onclick="return print(),!1">Click here to print</a>.</p><p><a href=/docs/>Return to the regular view of this page</a>.</p></div><h1 class=title>Documentation</h1><ul><li>1: <a href=#pg-6557438925ac398717df86f494c6abb8>Overview</a></li><ul></ul><li>2: <a href=#pg-273a1d3f87830cbffaaf95a64d1ab7e6>Installation</a></li><ul></ul><li>3: <a href=#pg-fecdf057d1fa4c5e074135fcd9b66d33>Docsy Documentation</a></li><ul></ul><li>4: <a href=#pg-97f19c19572e4976430b36b7a68cbcbf>Command Line Functionality</a></li><ul><li>4.1: <a href=#pg-85567b4b8e7c59d5ec8095eef4976b7f>Command line scripts</a></li><li>4.2: <a href=#pg-fa9262a41b78aa18ceee81a29df41be9>Input tags</a></li><li>4.3: <a href=#pg-d056c17b39b909d9df9219c429baeaa5>Crystal Structure</a></li><li>4.4: <a href=#pg-063c87c516d211b34ab5a8c64bc15b7b>General Utility for crystals</a></li><li>4.5: <a href=#pg-1e5511747a097673537b624d3e910665>Symmetrizing displacements</a></li><li>4.6: <a href=#pg-999ab15b9fb22a8746fb741fa7018b3b>Products of Irreducible Representations</a></li><li>4.7: <a href=#pg-381038f4fe96b9e57a300bfd52de5df4>Compute Irreducible Derivative</a></li><li>4.8: <a href=#pg-49da11994e29ecfc90a101746909debc>Phonon Linewidth and Thermal Conductivity</a></li></ul><li>5: <a href=#pg-852cfdb3008ca23f8bcaeceaff2ecfe8>Modules</a></li><ul><li>5.1: <a href=#pg-1236e8c8a584c7a7f8d8857cd5a5fb9b>Translation Group</a></li><li>5.2: <a href=#pg-d952ee4b4c22b2d0b4aa10e5598ea027>Symmetry</a></li><li>5.3: <a href=#pg-5ffb1c88cdc2294a12d69301e31832b9>Representation</a></li><li>5.4: <a href=#pg-c773bcf6d74459c11261f79f021e1510>Finite Difference</a></li></ul><li>6: <a href=#pg-188436dc90e1e3110a757e1b8e1b2abe>Data Management</a></li><ul><li>6.1: <a href=#pg-7c139c61a1c91f89d3a98de6c680e5ff>Data Wrapper</a></li><li>6.2: <a href=#pg-b6a6003ea6b9887353c99c898271fbad>Database</a></li><li>6.3: <a href=#pg-830f5c42d2c29952494398c4c3770c95>hdf5</a></li></ul><li>7: <a href=#pg-52225ffd57b6b5e354b3c6d0ddb4012e>Unit Testing</a></li><ul></ul><li>8: <a href=#pg-043610093194cf60e3758f9f695c73cb>API References</a></li><ul><li>8.1: <a href=#pg-05483c14d081f2d1dee96570f5522564>Module principia_materia.cli</a></li><li>8.2: <a href=#pg-7d1f427e0e6fb9999705b47064168c8b>Module principia_materia.cli.bid_cli</a></li><li>8.3: <a href=#pg-727449b91dad0eca5daad46125f8ae0d>Module principia_materia.cli.cli_helper</a></li><li>8.4: <a href=#pg-99af876c10c42d89f03b5ceda079e202>Module principia_materia.cli.hsbid_cli</a></li><li>8.5: <a href=#pg-fb4308518df06de1620b0a5cd4ee6502>Module principia_materia.cli.jobs_cli</a></li><li>8.6: <a href=#pg-879abd54069081ee45a61c7c6a3c8bb9>Module principia_materia.cli.lid_cli</a></li><li>8.7: <a href=#pg-881b3d497562a764b159d1d22b14f47a>Module principia_materia.cli.lid_mesh_cli</a></li><li>8.8: <a href=#pg-ebb621b3e6b5467523e92cc4119fe812>Module principia_materia.cli.phonon_band_dos_cli</a></li><li>8.9: <a href=#pg-d05351b41593f81fee981c098bcd120f>Module principia_materia.constants</a></li><li>8.10: <a href=#pg-e3de47ab75b83a412403653d82cc26a6>Module principia_materia.constants.periodic_table</a></li><li>8.11: <a href=#pg-d1d09e2bb80c61af39e03a13931efa61>Module principia_materia.constants.physical_constant</a></li><li>8.12: <a href=#pg-15e07c649c813c149fc6dfed126e8b17>Module principia_materia.constants.point_group_notation_table</a></li><li>8.13: <a href=#pg-03c739421f9451e507a700428b51ab22>Module principia_materia.constants.unit_conversion</a></li><li>8.14: <a href=#pg-9645def718ee388dc9113fb75aefc232>Module principia_materia.hamiltonian</a></li><li>8.15: <a href=#pg-07d8e737814b5831185cbf581036669c>Module principia_materia.hamiltonian.electron_hamiltonian</a></li><li>8.16: <a href=#pg-5b8953f9423f88904c61933f3651e777>Module principia_materia.hamiltonian.hamiltonian</a></li><li>8.17: <a href=#pg-ea2c9565bdf2a8417d53590ed7fc3719>Module principia_materia.hamiltonian.model_hamiltonian</a></li><li>8.18: <a href=#pg-c839d38fca0e7c7e640da4e24c316b01>Module principia_materia.hamiltonian.phonon_hamiltonian</a></li><li>8.19: <a href=#pg-7dc5fa54fe385a18bea1dcd7bee3993e>Module principia_materia.io_interface</a></li><li>8.20: <a href=#pg-e108732efb55d70c09019ffa93b181fe>Module principia_materia.io_interface.array_io</a></li><li>8.21: <a href=#pg-e0f5437cb3530f5a9f34ea58bd23b286>Module principia_materia.io_interface.base_data_wrapper</a></li><li>8.22: <a href=#pg-6000f84ea1c66a65585def9dc455e643>Module principia_materia.io_interface.compute_job</a></li><li>8.23: <a href=#pg-4edd5efadee9e519e0c8f6901cb2bfcb>Module principia_materia.io_interface.compute_job_series</a></li><li>8.24: <a href=#pg-8ea6c03425f9c1c323be5f6a29bf5d37>Module principia_materia.io_interface.data_wrapper</a></li><li>8.25: <a href=#pg-178ae4b5ff419d0d5037e87c1433c091>Module principia_materia.io_interface.hdf5_wrapper</a></li><li>8.26: <a href=#pg-b845b7d2c783372cc33f4d6373b25127>Module principia_materia.io_interface.jobs_db</a></li><li>8.27: <a href=#pg-75ff9c82bb471bd99b918d223c0601e0>Module principia_materia.io_interface.qpoints_io</a></li><li>8.28: <a href=#pg-4a3b16c5923db03c76ec624681a24ee4>Module principia_materia.io_interface.vasp</a></li><li>8.29: <a href=#pg-5167dab178df8888f54366a9cd90f47c>Module principia_materia.io_interface.yaml_dump</a></li><li>8.30: <a href=#pg-bf00d282e480473a76e6b26e9abc5604>Module principia_materia.mathematics</a></li><li>8.31: <a href=#pg-65ec2e32105e49e3e81ce6c9dece5755>Module principia_materia.mathematics.array_utils</a></li><li>8.32: <a href=#pg-43e61a340e87a915d3b449eedcf1701f>Module principia_materia.mathematics.core_math</a></li><li>8.33: <a href=#pg-2647ef483f103bc8d805c3500b3407ce>Module principia_materia.mathematics.errortail</a></li><li>8.34: <a href=#pg-83d6bf3b498519f87177d2fa9c8581af>Module principia_materia.mathematics.finite_difference</a></li><li>8.35: <a href=#pg-416239491c093397aeb801eb5e41e710>Module principia_materia.mathematics.fourier_transform</a></li><li>8.36: <a href=#pg-5b15543b3f697ae41c5c6429a2d51089>Module principia_materia.mathematics.new_fraction</a></li><li>8.37: <a href=#pg-b1d1193431f18d9f064df05c7e7509e1>Module principia_materia.mathematics.smith_normal_form</a></li><li>8.38: <a href=#pg-537659e4229c0caacf8973d47f8c7f00>Module principia_materia.mathematics.tensor_utils</a></li><li>8.39: <a href=#pg-e5abf8e11fde65a14562be2df73441b4>Module principia_materia.phonon_id</a></li><li>8.40: <a href=#pg-cc74ba7df02f15e9e1a274f57929f8ff>Module principia_materia.phonon_id.analytic_dynamic_tensor</a></li><li>8.41: <a href=#pg-cf9c6fdd7aaadc68478240516672aeca>Module principia_materia.phonon_id.analytic_strain_tensor</a></li><li>8.42: <a href=#pg-b52558880439e5f190494baa65406b81>Module principia_materia.phonon_id.analytic_tensors</a></li><li>8.43: <a href=#pg-7f2142b5e0b299d1f44908daea8bf1ec>Module principia_materia.phonon_id.anharmonic_interpolation</a></li><li>8.44: <a href=#pg-e17f3f20301f74d2babd0d06f1aa231b>Module principia_materia.phonon_id.bid</a></li><li>8.45: <a href=#pg-50fc30103a944c894c9eb921845f8b2b>Module principia_materia.phonon_id.chainrule_derivatives</a></li><li>8.46: <a href=#pg-00d736c23ea3be295cc350dd02ed9187>Module principia_materia.phonon_id.conductivity</a></li><li>8.47: <a href=#pg-a9627a736c6f7f0f2e272adf47720e60>Module principia_materia.phonon_id.dipole_dipole</a></li><li>8.48: <a href=#pg-a0ab690085835abbecb20d1262fef8e6>Module principia_materia.phonon_id.dynamic_tensors</a></li><li>8.49: <a href=#pg-b0f0d1237065bafb9acca56b78d5856a>Module principia_materia.phonon_id.fd_series</a></li><li>8.50: <a href=#pg-e232af2059d20d4d0e71bdb1bd30762f>Module principia_materia.phonon_id.finite_displacements</a></li><li>8.51: <a href=#pg-fbd2e155568645024d7b3d6653df92fc>Module principia_materia.phonon_id.fourier_interpolation</a></li><li>8.52: <a href=#pg-97e9c20784ef1d6e53656239c5c432c0>Module principia_materia.phonon_id.frozen_phonons</a></li><li>8.53: <a href=#pg-7c7388aaac31b9a439ea4fbeeea11f2a>Module principia_materia.phonon_id.hsbid</a></li><li>8.54: <a href=#pg-dfc5c5784b10d8ebe2a4bddecc1d387e>Module principia_materia.phonon_id.lid</a></li><li>8.55: <a href=#pg-70c5a78e882e70a70e4eb251f28e8291>Module principia_materia.phonon_id.lid_mesh</a></li><li>8.56: <a href=#pg-5e1768243aa6f2a3b5a7fba2e3baaa92>Module principia_materia.phonon_id.little_group_adt</a></li><li>8.57: <a href=#pg-1ab6f043b710d1b7219999ad728aec11>Module principia_materia.phonon_id.phonon_db</a></li><li>8.58: <a href=#pg-e8c2866c58e3a6e6e9ce3267038db7c0>Module principia_materia.phonon_id.phonon_report_util</a></li><li>8.59: <a href=#pg-cee5ea8a7fcae0122781267dd421c9b2>Module principia_materia.phonon_id.phonon_tools</a></li><li>8.60: <a href=#pg-03ff6bffbe9cd431b0fd43a94625cbad>Module principia_materia.phonon_id.strained_finite_displacements</a></li><li>8.61: <a href=#pg-43caf36d581d2f1fdd69904cfac89a47>Module principia_materia.plotting</a></li><li>8.62: <a href=#pg-4317840735f12e1135db607bd8b516e1>Module principia_materia.plotting.kpath</a></li><li>8.63: <a href=#pg-c9b0a3355c10b49e7c35079ac3391321>Module principia_materia.plotting.plot_band</a></li><li>8.64: <a href=#pg-b1e7d54beca5f980db6b3fcefb8e9135>Module principia_materia.plotting.plot_errortail</a></li><li>8.65: <a href=#pg-25bba21a914dedf0c61b612a566bf5e0>Module principia_materia.representation</a></li><li>8.66: <a href=#pg-22d2d8e0ec2ae13d481cdeb0386b82ae>Module principia_materia.representation.base_representation</a></li><li>8.67: <a href=#pg-b2e5633a61de2f222ccd9c7cf8fa31a5>Module principia_materia.representation.charm_bloch_rep</a></li><li>8.68: <a href=#pg-827f0d1eddb9b7dbe864efabed11c90c>Module principia_materia.representation.cluster_rep</a></li><li>8.69: <a href=#pg-e0a95074c08c32cd808147d7c31b3421>Module principia_materia.representation.direct_product</a></li><li>8.70: <a href=#pg-17de866cd1c5b037ee75048af65b0812>Module principia_materia.representation.disp_cluster_rep</a></li><li>8.71: <a href=#pg-09614dd9803852449ccee002c96d9f10>Module principia_materia.representation.qstar_rep</a></li><li>8.72: <a href=#pg-a23073cdbd786fef1d336d0116b09c6f>Module principia_materia.representation.shift_mode</a></li><li>8.73: <a href=#pg-a89944c7cfa3433d55f677e8c887ee52>Module principia_materia.representation.single_tensor_rep</a></li><li>8.74: <a href=#pg-5f1a446a8449393e342f608e2c72d106>Module principia_materia.representation.symmetric_direct_product</a></li><li>8.75: <a href=#pg-8770d8488d216b987cc238097c37594b>Module principia_materia.symmetry</a></li><li>8.76: <a href=#pg-19b381ef74a9ee7dbf2e7b5fa885efb6>Module principia_materia.symmetry.cornwell_data</a></li><li>8.77: <a href=#pg-7842f552c13c978c5d94d015ca8f0014>Module principia_materia.symmetry.little_group</a></li><li>8.78: <a href=#pg-5e38e7a610f1a34874f60ea3ac0da59f>Module principia_materia.symmetry.point_group</a></li><li>8.79: <a href=#pg-73fe3c7311f27996432925865453889d>Module principia_materia.tetrahedron</a></li><li>8.80: <a href=#pg-e5ada9933bc577a58429db215186b012>Module principia_materia.tetrahedron.tetrahedra</a></li><li>8.81: <a href=#pg-93772a7a8bc9d06a7abceaef1f11b17d>Module principia_materia.translation_group</a></li><li>8.82: <a href=#pg-3008f85833532b59cd41ff4e62879913>Module principia_materia.translation_group.cluster</a></li><li>8.83: <a href=#pg-5182ebc231a75cce9c40137099f1756a>Module principia_materia.translation_group.crystal</a></li><li>8.84: <a href=#pg-6550a8310dc13607ce03d909def015a1>Module principia_materia.translation_group.crystal_ftg</a></li><li>8.85: <a href=#pg-083037c299f8b0e678144a7a9eff4773>Module principia_materia.translation_group.kpoints</a></li><li>8.86: <a href=#pg-ab550da44e34b302c8ae93c4189c51e6>Module principia_materia.translation_group.lattice</a></li><li>8.87: <a href=#pg-a922c70cf54b0272fe972ea7d95a0d22>Module principia_materia.translation_group.lattice_ftg</a></li><li>8.88: <a href=#pg-481d59374bfd957071396bc97f83ba55>Module principia_materia.translation_group.minimum_supercell</a></li><li>8.89: <a href=#pg-dacc6bd628e3a4588d7a348a2c259d2b>Module principia_materia.translation_group.qpoints_n</a></li><li>8.90: <a href=#pg-bc5fce46738b74f5c6595084c11f4ccb>Module principia_materia.translation_group.wigner_seitz</a></li><li>8.91: <a href=#pg-79992d353358c6ac3793dbacd3213d41>Module principia_materia.utils</a></li><li>8.92: <a href=#pg-17ae8ce6990189b3b0ab52d8cde343ea>Module principia_materia.utils.config_manager</a></li><li>8.93: <a href=#pg-27743cec4901b95bc53067f41b468b00>Module principia_materia.utils.db_utils</a></li><li>8.94: <a href=#pg-e74648ff07f4b1c6bde9d220aac91158>Module principia_materia.utils.testing</a></li><li>8.95: <a href=#pg-86e502a1549aff34bc8d6e8768bce60e>Module principia_materia.utils.text_file_search</a></li><li>8.96: <a href=#pg-8a94288cb96b0329bfaffb12393cd695>Module principia_materia.visualization</a></li></ul></ul><div class=content><p>Here we document all aspects of the code.</p></div></div><div class=td-content><h1 id=pg-6557438925ac398717df86f494c6abb8>1 - Overview</h1><div class=lead>PM allows one to compute various electronic and phononic properties of crystals.</div><p>This page could probably be the landing for Overview.</p><h2 id=what-is-it>What is it?<a class=td-heading-self-link href=#what-is-it aria-label="Heading self-link"></a></h2><p>PM can be used to compute phonons and their interactions via the lone irreducible derivative (LID)
and bundled irreducible derivative (BID) approaches, based on some first-principles method or
using empirical potentials.</p><p>Given some anharmonic vibrational Hamiltonian, perhaps computed using PM, one can
compute various vibrational observables, including phonon lineshifts and linewidths, thermal conductivity,
density of states, etc.</p><p>Given some real space electronic Hamiltonian, various electronic observables can be computed, including
density of states, magnetism within Hartree-Fock (assuming local interactions), etc.</p><h2 id=why-do-i-want-it>Why do I want it?<a class=td-heading-self-link href=#why-do-i-want-it aria-label="Heading self-link"></a></h2><p>Our BID algorithm for computing phonons and their interactions is the fastest finite displacement algorithm allowed by group theory.</p></div><div class=td-content style=page-break-before:always><h1 id=pg-273a1d3f87830cbffaaf95a64d1ab7e6>2 - Installation</h1><div class=lead>How you can obtain and install PM.</div><p>Principia Materia (PM) consists of Python codes with C++ and Fortran
extensions. There will soon be a variety of options for installing PM, but we
presently recommend cloning the git repository, creating a virtual environment,
installing the required dependencies, and compiling the source code.
We also provide the option of having auto-completion at the Bash shell using argcomplete. Please note that <strong>Python 3.7 or later</strong> is required to install and use PM.</p><h2 id=obtaining-the-source-code>Obtaining the source code<a class=td-heading-self-link href=#obtaining-the-source-code aria-label="Heading self-link"></a></h2><p>Clone the git repository:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>  git clone git@github.com:marianettigroup/principia-materia.git
</span></span></code></pre></div><h2 id=using-a-virtual-environment>Using a Virtual Environment<a class=td-heading-self-link href=#using-a-virtual-environment aria-label="Heading self-link"></a></h2><p>A virtual environment is recommended when working with PM.
To setup a virtual environment:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>  python -m venv ENVNAME 
</span></span></code></pre></div><p>(replace <code>ENVNAME</code> with the name you choose for the environment).</p><p>To launch the environment, issue the following command:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>  <span style=color:#204a87>source</span> ENVNAME/bin/activate
</span></span></code></pre></div><p>This virtual environment will be launched whenever running PM.</p><h2 id=installing-dependencies>Installing dependencies<a class=td-heading-self-link href=#installing-dependencies aria-label="Heading self-link"></a></h2><p>PM depends on several external libraries:</p><pre><code>  openmp, lapack, blas, gcc, gfortran
</code></pre><ul><li>For Ubuntu 18.04 and later with gcc compilers</li></ul><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>      sudo apt install gcc gfortran libopenblas-dev libgomp1 libhdf5-dev
</span></span></code></pre></div><ul><li>For macOS with Homebrew</li></ul><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>      brew install gcc openblas
</span></span></code></pre></div><p>Required python modules for PM are listed in the file <code>requirements.txt</code></p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>      pip install --upgrade -r requirements.txt
</span></span></code></pre></div><h2 id=compiling-pm>Compiling PM<a class=td-heading-self-link href=#compiling-pm aria-label="Heading self-link"></a></h2><p>The final step is compiling the source code.</p><ul><li>For Ubuntu 18.04 and latear with gcc compilers::</li></ul><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>      python setup.py build
</span></span></code></pre></div><ul><li>For macOS with Homebrew::</li></ul><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>      <span style=color:#000>CC</span><span style=color:#ce5c00;font-weight:700>=</span>gcc-11 <span style=color:#000>CXX</span><span style=color:#ce5c00;font-weight:700>=</span>g++-11 <span style=color:#000>F90</span><span style=color:#ce5c00;font-weight:700>=</span>gfortran-11 python setup.py build
</span></span></code></pre></div><p>The installation step can be executed with either the regular mode:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>      python setup.py install
</span></span></code></pre></div><p>or the <em>development</em> mode:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>      python setup.py develop
</span></span></code></pre></div><p>In development mode, the
repository is dynamically link to serve as the python module so that any
changes to the code come into effect without reinstalling the module. However
for the extensions of the module that are written in either C or FORTRAN, the
module requires recompilation to reflect any changes to the source code.
We currently recommend installing in the development mode, given that many
changes are still being made to the code.</p><h2 id=setup-shell-auto-complete>Setup Shell Auto-Complete<a class=td-heading-self-link href=#setup-shell-auto-complete aria-label="Heading self-link"></a></h2><p>The auto-complete feature is optional, and is realized with
the <a href=https://kislyuk.github.io/argcomplete>argcomplete</a> module.
To activate this feature in Bash, for example, install the module first:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>   pip install argcomplete
</span></span><span style=display:flex><span>   activate-global-python-argcomplete
</span></span></code></pre></div><p>Then within the virtual environment, source the <code>pm-completion.sh</code> script in activation script <code>ENVNAME/bin/activate</code>:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>  <span style=color:#204a87>source</span> <span style=color:#4e9a06>${</span><span style=color:#000>VIRTUAL_ENV</span><span style=color:#4e9a06>}</span>/../pm-completion.sh
</span></span></code></pre></div></div><div class=td-content style=page-break-before:always><h1 id=pg-fecdf057d1fa4c5e074135fcd9b66d33>3 - Docsy Documentation</h1><div class=lead>How to contribute to the documentation of PM.</div><p>The documentation for PM is generated using <a href=https://gohugo.io/>Hugo</a> with
the <a href=https://www.docsy.dev/>Docsy</a> theme. The main advangtage of Hugo is how
fast it is, and you can basically see your changes to the documentation in real
time when viewing the site on a local server. The Docsy theme brings all of the
advanced features that are needed for technical documentation, including
detailed support for code markup (via <a href=https://prismjs.com/>prism</a>), latex
support (via <a href=https://katex.org/>katex</a>), etc.</p><p>This documentation is stored in the github repository
<a href=https://github.com/marianettigroup/principia-materia-docsy>principia-materia-docsy</a>.
When you push to the github repository, the site will automatically be built using github actions and served at
<a href=https://marianettigroup.github.io/>https://marianettigroup.github.io/</a>. If you want to push to github without rebuilding,
include <code>[skip actions]</code> in your commit message.</p><p>To view the documentation locally, start by installing hugo; snap is probably the most convenient way:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo snap install hugo
</span></span></code></pre></div><p>Now change into the directory of your local pm-docsy repo, and start the hugo server:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>hugo server 
</span></span></code></pre></div><p>You can then view the docs by pointing your browser to the local port that hugo prints out,
which is normally <a href=http://localhost:1313/>http://localhost:1313/</a>.</p><p>If you want to add to the documentation, you will find the markdown source files
in the repo here: <strong>content/en/docs/</strong>.</p><p>If you want to modify the command line input tags, you will find the yaml file
here: <strong>data/input_tag_info.yaml</strong>. An example entry in the yaml file is:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span>- <span style=color:#204a87;font-weight:700>name</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> 
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#000>supa</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>description</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> 
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#000>A matrix of integers \( \hat S_{BZ}\) that multiplies the lattice </span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#000>vector matrix to yield the supercell lattice vectors, \(\hat S_{BZ}\hat a\).</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>type</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> 
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#000>integer, matrix</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>dimension</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>  
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#000>\(3\times3\)</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>scripts</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> 
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#000>periodica, etc.</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>requires</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#000>lattice_vectors</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span></code></pre></div></div><div class=td-content style=page-break-before:always><h1 id=pg-97f19c19572e4976430b36b7a68cbcbf>4 - Command Line Functionality</h1><div class=lead>Executing core functionality of PM from the command line.</div><p>Most key tasks can be performed from the command line, and here we document all such functionality.</p></div><div class=td-content><h1 id=pg-85567b4b8e7c59d5ec8095eef4976b7f>4.1 - Command line scripts</h1><div class=lead>Overview of command line scripts in PM for developers.</div><p>All command line script for PM are stored in the <code>cli</code> module, end with the suffix <code>_cli</code>, and are contained within a function <code>main()</code>. Here we document
how to add a new command line tool to PM, which requires two steps. First, the script must be added to
the <code>setup.cfg</code> file. Consider the example of the script <code>periodica_cli.py</code>, we would add
one entry to the console_scripts as</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#000>console_scripts</span> <span style=color:#ce5c00;font-weight:700>=</span>
</span></span><span style=display:flex><span>  <span style=color:#000>pm</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#000>lid</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>principia_materia</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>cli</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>lid_cli</span><span style=color:#000;font-weight:700>:</span><span style=color:#000>main</span>
</span></span><span style=display:flex><span>  <span style=color:#ce5c00;font-weight:700>...</span>
</span></span><span style=display:flex><span>  <span style=color:#000>pm</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#000>periodica</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>principia_materia</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>cli</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>periodica_cli</span><span style=color:#000;font-weight:700>:</span><span style=color:#000>main</span>
</span></span></code></pre></div><p>Additionally, we would add the executable <code>pm-periodica</code> to <code>pm-completion.sh</code> as</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#204a87;font-weight:700>for</span> i in pm-lid ... pm-periodica
</span></span></code></pre></div></div><div class=td-content style=page-break-before:always><h1 id=pg-fa9262a41b78aa18ceee81a29df41be9>4.2 - Input tags</h1><div class=lead>Input tags used by PM from the command line.</div><h2 id=list-of-input-tags>List of Input Tags<a class=td-heading-self-link href=#list-of-input-tags aria-label="Heading self-link"></a></h2><p><a href=#lattice_vectors>lattice_vectors,</a>
<a href=#basis_atoms>basis_atoms,</a></p><h3 id=lattice_vectors>lattice_vectors<a class=td-heading-self-link href=#lattice_vectors aria-label="Heading self-link"></a></h3><p>Testing 1 2 3</p><table><thead><tr><th style=text-align:left></th><th style=text-align:left></th></tr></thead><tbody><tr><td style=text-align:left><em>type:</em></td><td style=text-align:left>real, matrix</td></tr><tr><td style=text-align:left><em>dimension:</em></td><td style=text-align:left>3x3</td></tr><tr><td style=text-align:left><em>scripts:</em></td><td style=text-align:left>xx, yy</td></tr></tbody></table><p><em>type:</em> matrix</p><p><em>dimension:</em> 3x3</p><h3 id=basis_atoms>basis_atoms<a class=td-heading-self-link href=#basis_atoms aria-label="Heading self-link"></a></h3><table><thead><tr><th style=text-align:left>Name</th><th style=text-align:left>Description</th></tr></thead><tbody><tr><td style=text-align:left>lattice_vectors</td><td style=text-align:left>Lattice vectors in three dimensions, specified by a row-stacked 3x3 matrix.</td></tr><tr><td style=text-align:left>basis_atoms</td><td style=text-align:left>Basis atoms of crystal structure.</td></tr><tr><td style=text-align:left>supa</td><td style=text-align:left>A matrix of integers which left multiplies lattice_vectors to create a superlattice.</td></tr><tr><td style=text-align:left>axial_strain</td><td style=text-align:left>A vector of three floats which specifies the axial strain.</td></tr><tr><td style=text-align:left>strain</td><td style=text-align:left>A 3x3 real, symmetric matrix which specifies a general state of strain.</td></tr><tr><td style=text-align:left>point_group</td><td style=text-align:left>A string specifying the point group in Schoenfiles notation.</td></tr><tr><td style=text-align:left>kpoint</td><td style=text-align:left>A three dimensional vector specifying a kpoint.</td></tr><tr><td style=text-align:left>qpoint</td><td style=text-align:left>A three dimensional vector specifying a qpoint.</td></tr><tr><td style=text-align:left>kpoint_mesh</td><td style=text-align:left>A vector of three integers, specifying the kpoint mesh for electrons.</td></tr><tr><td style=text-align:left>qpoint_mesh</td><td style=text-align:left>A vector of three integers, specifying the qpoint mesh for phonons.</td></tr><tr><td style=text-align:left>kpoint_path</td><td style=text-align:left>A row stacked matrix of kpoints used to create a path through the BZ for plotting electronic bands.</td></tr><tr><td style=text-align:left>qpoint_path</td><td style=text-align:left>A row stacked matrix of qpoints used to create a path through the BZ for plotting phononic bands.</td></tr><tr><td style=text-align:left>force_constants</td><td style=text-align:left>A dictionary with keys being three dimensional vectors and values being NxN matrices, where N is the number of degrees of freedom in the unit cell.</td></tr></tbody></table><h2 id=tags-with-vector-or-matrix-values>Tags with vector or matrix values<a class=td-heading-self-link href=#tags-with-vector-or-matrix-values aria-label="Heading self-link"></a></h2><p>Many variables will be vectors or matrices, and all such variables will
be processed by our text parser. Below are several examples which illustrate
the variety of different ways that vectors may be input.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#204a87;font-weight:700>lattice_vectors</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> 
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#000;font-weight:700>[[</span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>,</span><span style=color:#0000cf;font-weight:700>0.5</span><span style=color:#000;font-weight:700>,</span><span style=color:#0000cf;font-weight:700>0.5</span><span style=color:#000;font-weight:700>],</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>   </span><span style=color:#000;font-weight:700>[</span><span style=color:#0000cf;font-weight:700>0.5</span><span style=color:#000;font-weight:700>,</span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>,</span><span style=color:#0000cf;font-weight:700>0.5</span><span style=color:#000;font-weight:700>],</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>   </span><span style=color:#000;font-weight:700>[</span><span style=color:#0000cf;font-weight:700>0.5</span><span style=color:#000;font-weight:700>,</span><span style=color:#0000cf;font-weight:700>0.5</span><span style=color:#000;font-weight:700>,</span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>]]</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>lattice_vectors</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000;font-weight:700>|</span><span style=color:#8f5902;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>   0 1/2 1/2
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>   1/2 0 1/2
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>   1/2 1/2 0</span><span style=color:#f8f8f8;text-decoration:underline>   
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>lattice_vectors</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#000>/2 1/2; 1/2 0 1/2; 1/2 1/2 0</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span></code></pre></div></div><div class=td-content style=page-break-before:always><h1 id=pg-d056c17b39b909d9df9219c429baeaa5>4.3 - Crystal Structure</h1><div class=lead>Most computations require a crystal structure, and PM has a standard yaml file for doing so.</div><p>For many different tasks performed in the PM suite, a crystal structure, or
some component of a crystal structure, must be provided to the code. Most
likely, this will be done using a yaml input file, and the two required key words
are <strong>vec</strong> and <strong>atoms</strong>, which will contain the lattice vectors and the basis atoms, respectively.
Considering the flourite structure, the most straightforward yaml file would be:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#8f5902;font-style:italic># xtal.yml</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>vec</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> 
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#000;font-weight:700>[[</span><span style=color:#0000cf;font-weight:700>0.000000</span><span style=color:#000;font-weight:700>,</span><span style=color:#0000cf;font-weight:700>2.764309</span><span style=color:#000;font-weight:700>,</span><span style=color:#0000cf;font-weight:700>2.764309</span><span style=color:#000;font-weight:700>],</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>   </span><span style=color:#000;font-weight:700>[</span><span style=color:#0000cf;font-weight:700>2.764309</span><span style=color:#000;font-weight:700>,</span><span style=color:#0000cf;font-weight:700>0.000000</span><span style=color:#000;font-weight:700>,</span><span style=color:#0000cf;font-weight:700>2.764309</span><span style=color:#000;font-weight:700>],</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>   </span><span style=color:#000;font-weight:700>[</span><span style=color:#0000cf;font-weight:700>2.764309</span><span style=color:#000;font-weight:700>,</span><span style=color:#0000cf;font-weight:700>2.764309</span><span style=color:#000;font-weight:700>,</span><span style=color:#0000cf;font-weight:700>0.000000</span><span style=color:#000;font-weight:700>]]</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>atoms</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span>- <span style=color:#204a87;font-weight:700>Ca</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> 
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>     </span><span style=color:#000;font-weight:700>[[</span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>,</span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>,</span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>]]</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span>- <span style=color:#204a87;font-weight:700>F</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>     </span><span style=color:#000;font-weight:700>[[</span><span style=color:#0000cf;font-weight:700>0.25</span><span style=color:#000;font-weight:700>,</span><span style=color:#0000cf;font-weight:700>0.25</span><span style=color:#000;font-weight:700>,</span><span style=color:#0000cf;font-weight:700>0.25</span><span style=color:#000;font-weight:700>],</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#000;font-weight:700>[</span><span style=color:#0000cf;font-weight:700>0.75</span><span style=color:#000;font-weight:700>,</span><span style=color:#0000cf;font-weight:700>0.75</span><span style=color:#000;font-weight:700>,</span><span style=color:#0000cf;font-weight:700>0.75</span><span style=color:#000;font-weight:700>]]</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span></code></pre></div><p>The code will infer that there is one basis atom labeled <em>Ca</em> and two basis atoms labeled <em>F</em>.</p><p>When entering matrices, we will always run the input through our general array
parser (see parse_array if interested in the details). Therefore, there are many different
options for entering a matrix as a string. For example, consider the following two examples:</p><div class="td-card-group card-group p-0 mb-4"><div class="td-card card border me-4"><div class="card-header code"><strong>xtal.yml</strong></div><div class="card-body code p-0 m-0"><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>scale</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>2.764309</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>vec</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000;font-weight:700>|</span><span style=color:#8f5902;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>   0 1 1
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>   1 0 1
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>   1 1 0</span><span style=color:#f8f8f8;text-decoration:underline>   
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>atoms</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span>- <span style=color:#204a87;font-weight:700>Ca</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>|  </span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>     </span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span>- <span style=color:#204a87;font-weight:700>F</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000;font-weight:700>|</span><span style=color:#8f5902;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>     1/4 1/4 1/4
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>     3/4 3/4 3/4</span><span style=color:#f8f8f8;text-decoration:underline>     
</span></span></span></code></pre></div></div></div><div class="td-card card border me-4"><div class="card-header code"><strong>xtal.yml</strong></div><div class="card-body code p-0 m-0"><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>scale</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>2.764309</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>vec</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>; 1 0 1 ; 1 1 0</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>atoms</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span>- <span style=color:#204a87;font-weight:700>Ca</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#f8f8f8;text-decoration:underline> 
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span>- <span style=color:#204a87;font-weight:700>F</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#000>/4 1/4 1/4 ; 3/4 3/4 3/4</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span></code></pre></div></div></div></div><p>where <strong>scale</strong> is a constant that multiplies all lattice vectors (a list of
three constants could have been provided), and the vertical lines tells yaml to
expect a text block. Our parser has a hierarchy of delimiters, ranging from
space, comma, semicolon, newline. In the above example, we have two types of
delimiters (i.e. spaces and newlines), which tells the code to form a matrix.</p><div class="alert alert-warning" role=alert><h4 class=alert-heading>Warning</h4><h3 id=potential-errors-in-yaml-input>Potential Errors in yaml input<a class=td-heading-self-link href=#potential-errors-in-yaml-input aria-label="Heading self-link"></a></h3><p>In the case of syntax error in YAML file, a <code>RuntimeError</code> will be thrown indicating the an error has
occurred during the YAML loading process. For example, with the following text as YAML input:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#204a87;font-weight:700>scale</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>2.764309</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>vec</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000;font-weight:700>|</span><span style=color:#8f5902;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>   0 1 1 ; 1 0 1 ; 1 1 0</span><span style=color:#f8f8f8;text-decoration:underline>   
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>atoms</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span>- <span style=color:#204a87;font-weight:700>Ca</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>|  </span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#f8f8f8;text-decoration:underline>  
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span>- <span style=color:#204a87;font-weight:700>F</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>|  </span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#000>/4 1/4 1/4 ; 3/4 3/4 3/4</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span></code></pre></div><p>The following error message will appear:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>    <span style=color:#c00;font-weight:700>RuntimeError</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000>Following</span> <span style=color:#000>error</span> <span style=color:#000>occured</span> <span style=color:#000>processing</span> <span style=color:#204a87>input</span> <span style=color:#000>YAML</span> <span style=color:#000>string</span><span style=color:#000;font-weight:700>:</span>
</span></span><span style=display:flex><span>    <span style=color:#000>ScannerError</span><span style=color:#000;font-weight:700>:</span> <span style=color:#204a87;font-weight:700>while</span> <span style=color:#000>scanning</span> <span style=color:#000>a</span> <span style=color:#000>simple</span> <span style=color:#000>key</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>in</span> <span style=color:#4e9a06>&#34;&lt;unicode string&gt;&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>line</span> <span style=color:#0000cf;font-weight:700>6</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>column</span> <span style=color:#0000cf;font-weight:700>5</span>
</span></span><span style=display:flex><span>    <span style=color:#000>could</span> <span style=color:#204a87;font-weight:700>not</span> <span style=color:#000>find</span> <span style=color:#000>expected</span> <span style=color:#4e9a06>&#39;:&#39;</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>in</span> <span style=color:#4e9a06>&#34;&lt;unicode string&gt;&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>line</span> <span style=color:#0000cf;font-weight:700>7</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>column</span> <span style=color:#0000cf;font-weight:700>3</span>
</span></span></code></pre></div></div><h2 id=prototype-crystal-structures>Prototype Crystal Structures<a class=td-heading-self-link href=#prototype-crystal-structures aria-label="Heading self-link"></a></h2><p>There are a number of very common crystal structures that are adopted in numerous compounds, such as rock salt,
flourite, etc. There is a simple command line script to output these crystal structures.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ pm-prototype-xtal --perovskite
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#8f5902;font-style:italic># Crystal</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>vec</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#000;font-weight:700>[[</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>3.91300000</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#0000cf;font-weight:700>0.00000000</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#0000cf;font-weight:700>0.00000000</span><span style=color:#000;font-weight:700>],</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>   </span><span style=color:#000;font-weight:700>[</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>0.00000000</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#0000cf;font-weight:700>3.91300000</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#0000cf;font-weight:700>0.00000000</span><span style=color:#000;font-weight:700>],</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>   </span><span style=color:#000;font-weight:700>[</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>0.00000000</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#0000cf;font-weight:700>0.00000000</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#0000cf;font-weight:700>3.91300000</span><span style=color:#000;font-weight:700>]]</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>atoms</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span>- <span style=color:#204a87;font-weight:700>Sr</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> 
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#000;font-weight:700>[[</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>0.50000000</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#0000cf;font-weight:700>0.50000000</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#0000cf;font-weight:700>0.50000000</span><span style=color:#000;font-weight:700>]]</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span>- <span style=color:#204a87;font-weight:700>Ti</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> 
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#000;font-weight:700>[[</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>0.00000000</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#0000cf;font-weight:700>0.00000000</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#0000cf;font-weight:700>0.00000000</span><span style=color:#000;font-weight:700>]]</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span>- <span style=color:#204a87;font-weight:700>O</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> 
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#000;font-weight:700>[[</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>0.50000000</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#0000cf;font-weight:700>0.00000000</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#0000cf;font-weight:700>0.00000000</span><span style=color:#000;font-weight:700>],</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>       </span><span style=color:#000;font-weight:700>[</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>0.00000000</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#0000cf;font-weight:700>0.50000000</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#0000cf;font-weight:700>0.00000000</span><span style=color:#000;font-weight:700>],</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>       </span><span style=color:#000;font-weight:700>[</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>0.00000000</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#0000cf;font-weight:700>0.00000000</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#0000cf;font-weight:700>0.50000000</span><span style=color:#000;font-weight:700>]]</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span></code></pre></div></div><div class=td-content style=page-break-before:always><h1 id=pg-063c87c516d211b34ab5a8c64bc15b7b>4.4 - General Utility for crystals</h1><div class=lead>Periodica performs a collection of different tasks for crystals.</div><p>Here we provide some of the basic functionality for periodica. A crystal structure
file must be provided on the command line, either as a filename or as standard input.
The crystal structure is simply output if no other
commands are provided. Let us use <code>pm-prototype</code> to look at some examles.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#8f5902;font-style:italic># start with perovskite</span>
</span></span><span style=display:flex><span>pm-prototype-xtal --perovskite &gt; xtal.yaml
</span></span><span style=display:flex><span>pm-periodica xtal.yaml
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># or we can simply do this</span>
</span></span><span style=display:flex><span>pm-prototype-xtal --perovskite  <span style=color:#000;font-weight:700>|</span> pm-periodica
</span></span></code></pre></div><p>In both cases, the output will be:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#8f5902;font-style:italic># Crystal</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>vec</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#000;font-weight:700>[[</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>3.91300000</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#0000cf;font-weight:700>0.00000000</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#0000cf;font-weight:700>0.00000000</span><span style=color:#000;font-weight:700>],</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>   </span><span style=color:#000;font-weight:700>[</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>0.00000000</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#0000cf;font-weight:700>3.91300000</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#0000cf;font-weight:700>0.00000000</span><span style=color:#000;font-weight:700>],</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>   </span><span style=color:#000;font-weight:700>[</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>0.00000000</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#0000cf;font-weight:700>0.00000000</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#0000cf;font-weight:700>3.91300000</span><span style=color:#000;font-weight:700>]]</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>atoms</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span>- <span style=color:#204a87;font-weight:700>Sr</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> 
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#000;font-weight:700>[[</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>0.50000000</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#0000cf;font-weight:700>0.50000000</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#0000cf;font-weight:700>0.50000000</span><span style=color:#000;font-weight:700>]]</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span>- <span style=color:#204a87;font-weight:700>Ti</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> 
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#000;font-weight:700>[[</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>0.00000000</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#0000cf;font-weight:700>0.00000000</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#0000cf;font-weight:700>0.00000000</span><span style=color:#000;font-weight:700>]]</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span>- <span style=color:#204a87;font-weight:700>O</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> 
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#000;font-weight:700>[[</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>0.50000000</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#0000cf;font-weight:700>0.00000000</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#0000cf;font-weight:700>0.00000000</span><span style=color:#000;font-weight:700>],</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>       </span><span style=color:#000;font-weight:700>[</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>0.00000000</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#0000cf;font-weight:700>0.50000000</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#0000cf;font-weight:700>0.00000000</span><span style=color:#000;font-weight:700>],</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>       </span><span style=color:#000;font-weight:700>[</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>0.00000000</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#0000cf;font-weight:700>0.00000000</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#0000cf;font-weight:700>0.50000000</span><span style=color:#000;font-weight:700>]]</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span></code></pre></div><p>Basic manipulations of the unit cell can be peformed, like shifting or permuting the atoms.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>pm-periodica xtal.yaml --shift-origin 0.5,0.5,0.5 --shift-into-cell --permute-atoms 0,1,3,4,2
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#8f5902;font-style:italic># Crystal</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>vec</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#000;font-weight:700>[[</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>3.91300000</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#0000cf;font-weight:700>0.00000000</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#0000cf;font-weight:700>0.00000000</span><span style=color:#000;font-weight:700>],</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>   </span><span style=color:#000;font-weight:700>[</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>0.00000000</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#0000cf;font-weight:700>3.91300000</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#0000cf;font-weight:700>0.00000000</span><span style=color:#000;font-weight:700>],</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>   </span><span style=color:#000;font-weight:700>[</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>0.00000000</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#0000cf;font-weight:700>0.00000000</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#0000cf;font-weight:700>3.91300000</span><span style=color:#000;font-weight:700>]]</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>atoms</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span>- <span style=color:#204a87;font-weight:700>Sr</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> 
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#000;font-weight:700>[[</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>0.00000000</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#0000cf;font-weight:700>0.00000000</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#0000cf;font-weight:700>0.00000000</span><span style=color:#000;font-weight:700>]]</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span>- <span style=color:#204a87;font-weight:700>Ti</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> 
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#000;font-weight:700>[[</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>0.50000000</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#0000cf;font-weight:700>0.50000000</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#0000cf;font-weight:700>0.50000000</span><span style=color:#000;font-weight:700>]]</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span>- <span style=color:#204a87;font-weight:700>O</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> 
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#000;font-weight:700>[[</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>0.50000000</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#0000cf;font-weight:700>0.00000000</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#0000cf;font-weight:700>0.50000000</span><span style=color:#000;font-weight:700>],</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>       </span><span style=color:#000;font-weight:700>[</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>0.50000000</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#0000cf;font-weight:700>0.50000000</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#0000cf;font-weight:700>0.00000000</span><span style=color:#000;font-weight:700>],</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>       </span><span style=color:#000;font-weight:700>[</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>0.00000000</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#0000cf;font-weight:700>0.50000000</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#0000cf;font-weight:700>0.50000000</span><span style=color:#000;font-weight:700>]]</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span></code></pre></div><p>Basic information about the lattice can be printed.</p></div><div class=td-content style=page-break-before:always><h1 id=pg-1e5511747a097673537b624d3e910665>4.5 - Symmetrizing displacements</h1><div class=lead>A key task is to symmetrize the basis such that the vectors transform like irreducible representations.</div><p>Here we illustrate how to symmtrize displacements at a given q-point according to irreducible representations
of the little group using the script <strong>pm-disp-qrep</strong>. Take the example of \(\bm{q}=(\frac{1}{2},\frac{1}{2},\frac{1}{2})\)
in cubic SrTiO\(_3\). We will use <strong>pm-prototype-xtal</strong> to generate the crystal structure file.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ pm-prototype-xtal --perovskite &gt; xtal.yml
</span></span></code></pre></div><p>Printing out the irreducible representations, we have</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ pm-disp-qrep xtal.yml --point-group Oh --qpoint 1/2,1/2,1/2 --print-irreps
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>OrbitKey<span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>name</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#39;Sr&#39;</span>, <span style=color:#000>index</span><span style=color:#ce5c00;font-weight:700>=</span>0<span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>[</span>0<span style=color:#ce5c00;font-weight:700>]</span>
</span></span><span style=display:flex><span>T2g
</span></span><span style=display:flex><span>OrbitKey<span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>name</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#39;Ti&#39;</span>, <span style=color:#000>index</span><span style=color:#ce5c00;font-weight:700>=</span>0<span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>[</span>0<span style=color:#ce5c00;font-weight:700>]</span>
</span></span><span style=display:flex><span>T1u
</span></span><span style=display:flex><span>OrbitKey<span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>name</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#39;O&#39;</span>, <span style=color:#000>index</span><span style=color:#ce5c00;font-weight:700>=</span>0<span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>[</span>0, 1, 2<span style=color:#ce5c00;font-weight:700>]</span>
</span></span><span style=display:flex><span>A1g+Eg+T1g+T2g
</span></span></code></pre></div><p>We can also print out the irreducible representation vectors.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ pm-disp-qrep xtal.yml --point-group Oh --qpoint 1/2,1/2,1/2 --print-vectors
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>T2g<span style=color:#ce5c00;font-weight:700>[</span>Sr<span style=color:#ce5c00;font-weight:700>]</span>
</span></span><span style=display:flex><span> 0.0000  0.0000  1.0000
</span></span><span style=display:flex><span> 1.0000  0.0000  0.0000
</span></span><span style=display:flex><span> 0.0000  1.0000  0.0000
</span></span><span style=display:flex><span>T1u<span style=color:#ce5c00;font-weight:700>[</span>Ti<span style=color:#ce5c00;font-weight:700>]</span>
</span></span><span style=display:flex><span> 1.0000  0.0000  0.0000
</span></span><span style=display:flex><span> 0.0000  1.0000  0.0000
</span></span><span style=display:flex><span> 0.0000  0.0000  1.0000
</span></span><span style=display:flex><span>A1g<span style=color:#ce5c00;font-weight:700>[</span>O<span style=color:#ce5c00;font-weight:700>]</span>
</span></span><span style=display:flex><span> 0.5774  0.0000  0.0000  0.0000  0.5774  0.0000  0.0000  0.0000  0.5774
</span></span><span style=display:flex><span>Eg<span style=color:#ce5c00;font-weight:700>[</span>O<span style=color:#ce5c00;font-weight:700>]</span>
</span></span><span style=display:flex><span> 0.7071  0.0000  0.0000  0.0000 -0.7071  0.0000  0.0000  0.0000  0.0000
</span></span><span style=display:flex><span>-0.4082  0.0000  0.0000  0.0000 -0.4082  0.0000  0.0000  0.0000  0.8165
</span></span><span style=display:flex><span>T1g<span style=color:#ce5c00;font-weight:700>[</span>O<span style=color:#ce5c00;font-weight:700>]</span>
</span></span><span style=display:flex><span> 0.0000  0.0000  0.0000  0.0000  0.0000  0.7071  0.0000 -0.7071  0.0000
</span></span><span style=display:flex><span> 0.0000  0.0000 -0.7071  0.0000  0.0000  0.0000  0.7071  0.0000  0.0000
</span></span><span style=display:flex><span> 0.0000  0.7071  0.0000 -0.7071  0.0000  0.0000  0.0000  0.0000  0.0000
</span></span><span style=display:flex><span>T2g<span style=color:#ce5c00;font-weight:700>[</span>O<span style=color:#ce5c00;font-weight:700>]</span>
</span></span><span style=display:flex><span> 0.0000  0.7071  0.0000  0.7071  0.0000  0.0000  0.0000  0.0000  0.0000
</span></span><span style=display:flex><span> 0.0000  0.0000  0.0000  0.0000  0.0000  0.7071  0.0000  0.7071  0.0000
</span></span><span style=display:flex><span> 0.0000  0.0000  0.7071  0.0000  0.0000  0.0000  0.7071  0.0000  0.0000
</span></span></code></pre></div><p>This script will block diagonalize a dynamical matrix which has been provided. Consider
the dyanmical matrix at the gamma point for STO:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ cat dmat.yaml
</span></span><span style=display:flex><span>dynamical_matrix_real: 
</span></span><span style=display:flex><span>      3.6228  <span style=color:#0000cf;font-weight:700>0</span>       <span style=color:#0000cf;font-weight:700>0</span>      -2.990   <span style=color:#0000cf;font-weight:700>0</span>       <span style=color:#0000cf;font-weight:700>0</span>       0.2751  <span style=color:#0000cf;font-weight:700>0</span>       <span style=color:#0000cf;font-weight:700>0</span>       0.2751  <span style=color:#0000cf;font-weight:700>0</span>       <span style=color:#0000cf;font-weight:700>0</span>      -1.1822  <span style=color:#0000cf;font-weight:700>0</span>       <span style=color:#0000cf;font-weight:700>0</span>     
</span></span><span style=display:flex><span>      <span style=color:#0000cf;font-weight:700>0</span>       3.6228  <span style=color:#0000cf;font-weight:700>0</span>       <span style=color:#0000cf;font-weight:700>0</span>      -2.990   <span style=color:#0000cf;font-weight:700>0</span>       <span style=color:#0000cf;font-weight:700>0</span>      -1.1822  <span style=color:#0000cf;font-weight:700>0</span>       <span style=color:#0000cf;font-weight:700>0</span>       0.2751  <span style=color:#0000cf;font-weight:700>0</span>       <span style=color:#0000cf;font-weight:700>0</span>       0.2751  <span style=color:#0000cf;font-weight:700>0</span>     
</span></span><span style=display:flex><span>      <span style=color:#0000cf;font-weight:700>0</span>       <span style=color:#0000cf;font-weight:700>0</span>       3.6228  <span style=color:#0000cf;font-weight:700>0</span>       <span style=color:#0000cf;font-weight:700>0</span>      -2.990   <span style=color:#0000cf;font-weight:700>0</span>       <span style=color:#0000cf;font-weight:700>0</span>       0.2751  <span style=color:#0000cf;font-weight:700>0</span>       <span style=color:#0000cf;font-weight:700>0</span>      -1.1822  <span style=color:#0000cf;font-weight:700>0</span>       <span style=color:#0000cf;font-weight:700>0</span>       0.2751
</span></span><span style=display:flex><span>     -2.990   <span style=color:#0000cf;font-weight:700>0</span>       <span style=color:#0000cf;font-weight:700>0</span>       2.060   <span style=color:#0000cf;font-weight:700>0</span>       <span style=color:#0000cf;font-weight:700>0</span>       0.2442  <span style=color:#0000cf;font-weight:700>0</span>       <span style=color:#0000cf;font-weight:700>0</span>       0.2442  <span style=color:#0000cf;font-weight:700>0</span>       <span style=color:#0000cf;font-weight:700>0</span>       0.4416  <span style=color:#0000cf;font-weight:700>0</span>       <span style=color:#0000cf;font-weight:700>0</span>     
</span></span><span style=display:flex><span>      <span style=color:#0000cf;font-weight:700>0</span>      -2.990   <span style=color:#0000cf;font-weight:700>0</span>       <span style=color:#0000cf;font-weight:700>0</span>       2.060   <span style=color:#0000cf;font-weight:700>0</span>       <span style=color:#0000cf;font-weight:700>0</span>       0.4416  <span style=color:#0000cf;font-weight:700>0</span>       <span style=color:#0000cf;font-weight:700>0</span>       0.2442  <span style=color:#0000cf;font-weight:700>0</span>       <span style=color:#0000cf;font-weight:700>0</span>       0.2442  <span style=color:#0000cf;font-weight:700>0</span>     
</span></span><span style=display:flex><span>      <span style=color:#0000cf;font-weight:700>0</span>       <span style=color:#0000cf;font-weight:700>0</span>      -2.990   <span style=color:#0000cf;font-weight:700>0</span>       <span style=color:#0000cf;font-weight:700>0</span>       2.060   <span style=color:#0000cf;font-weight:700>0</span>       <span style=color:#0000cf;font-weight:700>0</span>       0.2442  <span style=color:#0000cf;font-weight:700>0</span>       <span style=color:#0000cf;font-weight:700>0</span>       0.4416  <span style=color:#0000cf;font-weight:700>0</span>       <span style=color:#0000cf;font-weight:700>0</span>       0.2442
</span></span><span style=display:flex><span>      0.2751  <span style=color:#0000cf;font-weight:700>0</span>       <span style=color:#0000cf;font-weight:700>0</span>       0.2442  <span style=color:#0000cf;font-weight:700>0</span>       <span style=color:#0000cf;font-weight:700>0</span>       4.0322  <span style=color:#0000cf;font-weight:700>0</span>       <span style=color:#0000cf;font-weight:700>0</span>       0.90    <span style=color:#0000cf;font-weight:700>0</span>       <span style=color:#0000cf;font-weight:700>0</span>      -5.460   <span style=color:#0000cf;font-weight:700>0</span>       <span style=color:#0000cf;font-weight:700>0</span>     
</span></span><span style=display:flex><span>      <span style=color:#0000cf;font-weight:700>0</span>      -1.1822  <span style=color:#0000cf;font-weight:700>0</span>       <span style=color:#0000cf;font-weight:700>0</span>       0.4416  <span style=color:#0000cf;font-weight:700>0</span>       <span style=color:#0000cf;font-weight:700>0</span>      11.6616  <span style=color:#0000cf;font-weight:700>0</span>       <span style=color:#0000cf;font-weight:700>0</span>      -5.460   <span style=color:#0000cf;font-weight:700>0</span>       <span style=color:#0000cf;font-weight:700>0</span>      -5.460   <span style=color:#0000cf;font-weight:700>0</span>     
</span></span><span style=display:flex><span>      <span style=color:#0000cf;font-weight:700>0</span>       <span style=color:#0000cf;font-weight:700>0</span>       0.2751  <span style=color:#0000cf;font-weight:700>0</span>       <span style=color:#0000cf;font-weight:700>0</span>       0.2442  <span style=color:#0000cf;font-weight:700>0</span>       <span style=color:#0000cf;font-weight:700>0</span>       4.0322  <span style=color:#0000cf;font-weight:700>0</span>       <span style=color:#0000cf;font-weight:700>0</span>      -5.460   <span style=color:#0000cf;font-weight:700>0</span>       <span style=color:#0000cf;font-weight:700>0</span>       0.90  
</span></span><span style=display:flex><span>      0.2751  <span style=color:#0000cf;font-weight:700>0</span>       <span style=color:#0000cf;font-weight:700>0</span>       0.2442  <span style=color:#0000cf;font-weight:700>0</span>       <span style=color:#0000cf;font-weight:700>0</span>       0.90    <span style=color:#0000cf;font-weight:700>0</span>       <span style=color:#0000cf;font-weight:700>0</span>       4.0322  <span style=color:#0000cf;font-weight:700>0</span>       <span style=color:#0000cf;font-weight:700>0</span>      -5.460   <span style=color:#0000cf;font-weight:700>0</span>       <span style=color:#0000cf;font-weight:700>0</span>     
</span></span><span style=display:flex><span>      <span style=color:#0000cf;font-weight:700>0</span>       0.2751  <span style=color:#0000cf;font-weight:700>0</span>       <span style=color:#0000cf;font-weight:700>0</span>       0.2442  <span style=color:#0000cf;font-weight:700>0</span>       <span style=color:#0000cf;font-weight:700>0</span>      -5.460   <span style=color:#0000cf;font-weight:700>0</span>       <span style=color:#0000cf;font-weight:700>0</span>       4.0322  <span style=color:#0000cf;font-weight:700>0</span>       <span style=color:#0000cf;font-weight:700>0</span>       0.90    <span style=color:#0000cf;font-weight:700>0</span>     
</span></span><span style=display:flex><span>      <span style=color:#0000cf;font-weight:700>0</span>       <span style=color:#0000cf;font-weight:700>0</span>      -1.1822  <span style=color:#0000cf;font-weight:700>0</span>       <span style=color:#0000cf;font-weight:700>0</span>       0.4416  <span style=color:#0000cf;font-weight:700>0</span>       <span style=color:#0000cf;font-weight:700>0</span>      -5.460   <span style=color:#0000cf;font-weight:700>0</span>       <span style=color:#0000cf;font-weight:700>0</span>      11.6616  <span style=color:#0000cf;font-weight:700>0</span>       <span style=color:#0000cf;font-weight:700>0</span>      -5.4605
</span></span><span style=display:flex><span>     -1.1822  <span style=color:#0000cf;font-weight:700>0</span>       <span style=color:#0000cf;font-weight:700>0</span>       0.4416  <span style=color:#0000cf;font-weight:700>0</span>       <span style=color:#0000cf;font-weight:700>0</span>      -5.460   <span style=color:#0000cf;font-weight:700>0</span>       <span style=color:#0000cf;font-weight:700>0</span>      -5.460   <span style=color:#0000cf;font-weight:700>0</span>       <span style=color:#0000cf;font-weight:700>0</span>      11.6616  <span style=color:#0000cf;font-weight:700>0</span>       <span style=color:#0000cf;font-weight:700>0</span>     
</span></span><span style=display:flex><span>      <span style=color:#0000cf;font-weight:700>0</span>       0.2751  <span style=color:#0000cf;font-weight:700>0</span>       <span style=color:#0000cf;font-weight:700>0</span>       0.2442  <span style=color:#0000cf;font-weight:700>0</span>       <span style=color:#0000cf;font-weight:700>0</span>      -5.460   <span style=color:#0000cf;font-weight:700>0</span>       <span style=color:#0000cf;font-weight:700>0</span>       0.90    <span style=color:#0000cf;font-weight:700>0</span>       <span style=color:#0000cf;font-weight:700>0</span>       4.0322  <span style=color:#0000cf;font-weight:700>0</span>     
</span></span><span style=display:flex><span>      <span style=color:#0000cf;font-weight:700>0</span>       <span style=color:#0000cf;font-weight:700>0</span>       0.2751  <span style=color:#0000cf;font-weight:700>0</span>       <span style=color:#0000cf;font-weight:700>0</span>       0.2442  <span style=color:#0000cf;font-weight:700>0</span>       <span style=color:#0000cf;font-weight:700>0</span>       0.90    <span style=color:#0000cf;font-weight:700>0</span>       <span style=color:#0000cf;font-weight:700>0</span>      -5.460   <span style=color:#0000cf;font-weight:700>0</span>       <span style=color:#0000cf;font-weight:700>0</span>       4.0322
</span></span></code></pre></div><p>We can then block diagonalize as follows:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>pm-prototype-xtal --perovskite2 <span style=color:#000;font-weight:700>|</span> pm-disp-qrep --point-group Oh --qpoint 0,0,0 --dynamical-matrix ~/dmat.yaml
</span></span><span style=display:flex><span>T1u-block : <span style=color:#ce5c00;font-weight:700>[(</span><span style=color:#4e9a06>&#39;T1u&#39;</span>, 0<span style=color:#ce5c00;font-weight:700>)</span>, <span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#39;T1u&#39;</span>, 1<span style=color:#ce5c00;font-weight:700>)</span>, <span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#39;T1u&#39;</span>, 2<span style=color:#ce5c00;font-weight:700>)</span>, <span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#39;T1u&#39;</span>, 3<span style=color:#ce5c00;font-weight:700>)]</span>
</span></span><span style=display:flex><span>Dynamical matrix sub-block - first row
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>[[</span> 0.    0.    0.    0.  <span style=color:#ce5c00;font-weight:700>]</span>
</span></span><span style=display:flex><span> <span style=color:#ce5c00;font-weight:700>[</span> 0.    2.57  3.2  -0.18<span style=color:#ce5c00;font-weight:700>]</span>
</span></span><span style=display:flex><span> <span style=color:#ce5c00;font-weight:700>[</span> 0.    3.2   3.01 -1.33<span style=color:#ce5c00;font-weight:700>]</span>
</span></span><span style=display:flex><span> <span style=color:#ce5c00;font-weight:700>[</span> 0.   -0.18 -1.33 16.7 <span style=color:#ce5c00;font-weight:700>]]</span>
</span></span><span style=display:flex><span>Mass matrix sub-block - first row
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>[[</span> 36.7    5.59 -27.74   0.  <span style=color:#ce5c00;font-weight:700>]</span>
</span></span><span style=display:flex><span> <span style=color:#ce5c00;font-weight:700>[</span>  5.59  45.08  13.87   0.  <span style=color:#ce5c00;font-weight:700>]</span>
</span></span><span style=display:flex><span> <span style=color:#ce5c00;font-weight:700>[</span>-27.74  13.87  69.71   0.  <span style=color:#ce5c00;font-weight:700>]</span>
</span></span><span style=display:flex><span> <span style=color:#ce5c00;font-weight:700>[</span>  0.     0.     0.    16.  <span style=color:#ce5c00;font-weight:700>]]</span>
</span></span><span style=display:flex><span>Mass renormalized Eigvecs
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>[[</span>-0.324  0.931 -0.169 -0.017<span style=color:#ce5c00;font-weight:700>]</span>
</span></span><span style=display:flex><span> <span style=color:#ce5c00;font-weight:700>[</span> 0.692  0.111 -0.713  0.   <span style=color:#ce5c00;font-weight:700>]</span>
</span></span><span style=display:flex><span> <span style=color:#ce5c00;font-weight:700>[</span>-0.644 -0.348 -0.68  -0.046<span style=color:#ce5c00;font-weight:700>]</span>
</span></span><span style=display:flex><span> <span style=color:#ce5c00;font-weight:700>[</span>-0.035  0.    -0.034  0.999<span style=color:#ce5c00;font-weight:700>]]</span>
</span></span><span style=display:flex><span>Unique Frequencies <span style=color:#ce5c00;font-weight:700>(</span>meV<span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>[</span>-8.19 -0.58 19.56 66.13<span style=color:#ce5c00;font-weight:700>]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>T2u-block : <span style=color:#ce5c00;font-weight:700>[(</span><span style=color:#4e9a06>&#39;T2u&#39;</span>, 0<span style=color:#ce5c00;font-weight:700>)]</span>
</span></span><span style=display:flex><span>Dynamical matrix sub-block - first row
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>[[</span>3.13<span style=color:#ce5c00;font-weight:700>]]</span>
</span></span><span style=display:flex><span>Mass matrix sub-block - first row
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>[[</span>16.<span style=color:#ce5c00;font-weight:700>]]</span>
</span></span><span style=display:flex><span>Mass renormalized Eigvecs
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>[[</span>1.<span style=color:#ce5c00;font-weight:700>]]</span>
</span></span><span style=display:flex><span>Unique Frequencies <span style=color:#ce5c00;font-weight:700>(</span>meV<span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>[</span>28.61<span style=color:#ce5c00;font-weight:700>]</span>
</span></span></code></pre></div><p>It may be desirable to perform a unitary transformation within some irreducible representation subspace. Consider a yam file called <strong>unitary.yaml</strong> with the following content:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#8f5902;font-style:italic># unitary transformation to nearly diagonize the T1u subspace</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span>- <span style=color:#204a87;font-weight:700>block</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#39;Optical&#39;</span><span style=color:#000;font-weight:700>,</span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>]</span><span style=color:#f8f8f8;text-decoration:underline> 
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>irr_rep</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#39;T1u&#39;</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>instances</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000;font-weight:700>[</span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>,</span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>]</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>U</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> 
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#000;font-weight:700>[[</span><span style=color:#f8f8f8;text-decoration:underline> </span>-<span style=color:#0000cf;font-weight:700>0.73059222</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>0.68281403</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000;font-weight:700>],</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>     </span><span style=color:#000;font-weight:700>[</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#0000cf;font-weight:700>0.68281403</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>0.73059222</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000;font-weight:700>]]</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span></code></pre></div><p>The conventional output is:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ pm-prototype-xtal --perovskite2 <span style=color:#000;font-weight:700>|</span> pm-disp-qrep --point-group Oh --qpoint 0,0,0  --print-vectors
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#39;Acoustic&#39;</span>, 0<span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>[</span>0, 1, 2, 3, 4<span style=color:#ce5c00;font-weight:700>]</span>
</span></span><span style=display:flex><span>T1u
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#39;T1u&#39;</span>, 0<span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>[[</span>0.447 0.    0.    0.447 0.    0.    0.447 0.    0.    0.447 0.    0.    0.447 0.    0.   <span style=color:#ce5c00;font-weight:700>]</span>
</span></span><span style=display:flex><span> <span style=color:#ce5c00;font-weight:700>[</span>0.    0.447 0.    0.    0.447 0.    0.    0.447 0.    0.    0.447 0.    0.    0.447 0.   <span style=color:#ce5c00;font-weight:700>]</span>
</span></span><span style=display:flex><span> <span style=color:#ce5c00;font-weight:700>[</span>0.    0.    0.447 0.    0.    0.447 0.    0.    0.447 0.    0.    0.447 0.    0.    0.447<span style=color:#ce5c00;font-weight:700>]]</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#39;Optical&#39;</span>, 0<span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>[</span>0, 1, 2, 3, 4<span style=color:#ce5c00;font-weight:700>]</span>
</span></span><span style=display:flex><span>2T1u
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#39;T1u&#39;</span>, 0<span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>[[</span>-0.224  0.     0.     0.894  0.     0.    -0.224  0.     0.    -0.224  0.     0.    -0.224  0.     0.   <span style=color:#ce5c00;font-weight:700>]</span>
</span></span><span style=display:flex><span> <span style=color:#ce5c00;font-weight:700>[</span> 0.    -0.224  0.     0.     0.894  0.     0.    -0.224  0.     0.    -0.224  0.     0.    -0.224  0.   <span style=color:#ce5c00;font-weight:700>]</span>
</span></span><span style=display:flex><span> <span style=color:#ce5c00;font-weight:700>[</span> 0.     0.    -0.224  0.     0.     0.894  0.     0.    -0.224  0.     0.    -0.224  0.     0.    -0.224<span style=color:#ce5c00;font-weight:700>]]</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#39;T1u&#39;</span>, 1<span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>[[</span>-0.866  0.     0.     0.     0.     0.     0.289  0.     0.     0.289  0.     0.     0.289  0.     0.   <span style=color:#ce5c00;font-weight:700>]</span>
</span></span><span style=display:flex><span> <span style=color:#ce5c00;font-weight:700>[</span> 0.    -0.866  0.     0.     0.     0.     0.     0.289  0.     0.     0.289  0.     0.     0.289  0.   <span style=color:#ce5c00;font-weight:700>]</span>
</span></span><span style=display:flex><span> <span style=color:#ce5c00;font-weight:700>[</span> 0.     0.    -0.866  0.     0.     0.     0.     0.     0.289  0.     0.     0.289  0.     0.     0.289<span style=color:#ce5c00;font-weight:700>]]</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#39;O&#39;</span>, 0<span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>[</span><span style=color:#0000cf;font-weight:700>2</span> <span style=color:#0000cf;font-weight:700>3</span> 4<span style=color:#ce5c00;font-weight:700>]</span>
</span></span><span style=display:flex><span>T1u+T2u
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#39;T1u&#39;</span>, 0<span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>[[</span> 0.408  0.     0.     0.408  0.     0.    -0.816  0.     0.   <span style=color:#ce5c00;font-weight:700>]</span>
</span></span><span style=display:flex><span> <span style=color:#ce5c00;font-weight:700>[</span> 0.    -0.816  0.     0.     0.408  0.     0.     0.408  0.   <span style=color:#ce5c00;font-weight:700>]</span>
</span></span><span style=display:flex><span> <span style=color:#ce5c00;font-weight:700>[</span> 0.     0.     0.408  0.     0.    -0.816  0.     0.     0.408<span style=color:#ce5c00;font-weight:700>]]</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#39;T2u&#39;</span>, 0<span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>[[</span> 0.     0.     0.707  0.     0.     0.     0.     0.    -0.707<span style=color:#ce5c00;font-weight:700>]</span>
</span></span><span style=display:flex><span> <span style=color:#ce5c00;font-weight:700>[</span>-0.707  0.     0.     0.707  0.     0.     0.     0.     0.   <span style=color:#ce5c00;font-weight:700>]</span>
</span></span><span style=display:flex><span> <span style=color:#ce5c00;font-weight:700>[</span> 0.     0.     0.     0.    -0.707  0.     0.     0.707  0.   <span style=color:#ce5c00;font-weight:700>]]</span>
</span></span></code></pre></div><p>Now we can print the relevant output after the unitary transformation:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ pm-prototype-xtal --perovskite2 <span style=color:#000;font-weight:700>|</span> pm-disp-qrep --point-group Oh --qpoint 0,0,0  --unitary-transformation ~/unitary.yaml --print-vectors
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#39;Optical&#39;</span>, 0<span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>[</span>0, 1, 2, 3, 4<span style=color:#ce5c00;font-weight:700>]</span>
</span></span><span style=display:flex><span>2T1u
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#39;T1u&#39;</span>, 0<span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>[[</span>-0.428  0.     0.    -0.653  0.     0.     0.36   0.     0.     0.36   0.     0.     0.36   0.     0.   <span style=color:#ce5c00;font-weight:700>]</span>
</span></span><span style=display:flex><span> <span style=color:#ce5c00;font-weight:700>[</span> 0.    -0.428  0.     0.    -0.653  0.     0.     0.36   0.     0.     0.36   0.     0.     0.36   0.   <span style=color:#ce5c00;font-weight:700>]</span>
</span></span><span style=display:flex><span> <span style=color:#ce5c00;font-weight:700>[</span> 0.     0.    -0.428  0.     0.    -0.653  0.     0.     0.36   0.     0.     0.36   0.     0.     0.36 <span style=color:#ce5c00;font-weight:700>]]</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#39;T1u&#39;</span>, 1<span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>[[</span>-0.785  0.     0.     0.611  0.     0.     0.058  0.     0.     0.058  0.     0.     0.058  0.     0.   <span style=color:#ce5c00;font-weight:700>]</span>
</span></span><span style=display:flex><span> <span style=color:#ce5c00;font-weight:700>[</span> 0.    -0.785  0.     0.     0.611  0.     0.     0.058  0.     0.     0.058  0.     0.     0.058  0.   <span style=color:#ce5c00;font-weight:700>]</span>
</span></span><span style=display:flex><span> <span style=color:#ce5c00;font-weight:700>[</span> 0.     0.    -0.785  0.     0.     0.611  0.     0.     0.058  0.     0.     0.058  0.     0.     0.058<span style=color:#ce5c00;font-weight:700>]]</span>
</span></span></code></pre></div><p>Given some distorted crystal structure, one can project the displacement onto symmetrized
displacements. Consider the primitive unit cell of STO where the ferroelectric mode is allowed
to condense by treating the nuclear motion as classical:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#000>$ cat xtal_ferro.yaml</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#8f5902;font-style:italic># Crystal</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>vec</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#000;font-weight:700>[[</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>3.89736730</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#0000cf;font-weight:700>0.00092044</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#0000cf;font-weight:700>0.00092044</span><span style=color:#000;font-weight:700>],</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>   </span><span style=color:#000;font-weight:700>[</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>0.00092044</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#0000cf;font-weight:700>3.89736730</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#0000cf;font-weight:700>0.00092044</span><span style=color:#000;font-weight:700>],</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>   </span><span style=color:#000;font-weight:700>[</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>0.00092044</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#0000cf;font-weight:700>0.00092044</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#0000cf;font-weight:700>3.89736730</span><span style=color:#000;font-weight:700>]]</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>atoms</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span>- <span style=color:#204a87;font-weight:700>Sr</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#000;font-weight:700>[[</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>0.02422827</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#0000cf;font-weight:700>0.02422827</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#0000cf;font-weight:700>0.02422827</span><span style=color:#000;font-weight:700>]]</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span>- <span style=color:#204a87;font-weight:700>Ti</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#000;font-weight:700>[[</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>0.52563170</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#0000cf;font-weight:700>0.52563170</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#0000cf;font-weight:700>0.52563170</span><span style=color:#000;font-weight:700>]]</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span>- <span style=color:#204a87;font-weight:700>O</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#000;font-weight:700>[[</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>0.51647453</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#0000cf;font-weight:700>0.01719097</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#0000cf;font-weight:700>0.51647453</span><span style=color:#000;font-weight:700>],</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>       </span><span style=color:#000;font-weight:700>[</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>0.51647453</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#0000cf;font-weight:700>0.51647453</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#0000cf;font-weight:700>0.01719097</span><span style=color:#000;font-weight:700>],</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>       </span><span style=color:#000;font-weight:700>[</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>0.01719097</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#0000cf;font-weight:700>0.51647453</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#0000cf;font-weight:700>0.51647453</span><span style=color:#000;font-weight:700>]]</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span></code></pre></div><p>Projecting onto irreducible representations gives:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>pm-prototype-xtal --perovskite2 <span style=color:#000;font-weight:700>|</span> pm-disp-qrep --point-group Oh --qpoint 0,0,0  --unitary-transformation unitary.yaml  --project-xtal xtal_ferro.yaml
</span></span><span style=display:flex><span>Projection onto irreducible representations
</span></span><span style=display:flex><span>Block : Acoustic
</span></span><span style=display:flex><span>----------------
</span></span><span style=display:flex><span>T1u     0.1744  0.1744  0.1744
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Block : Optical
</span></span><span style=display:flex><span>---------------
</span></span><span style=display:flex><span>T1u     -0.0353 -0.0353 -0.0353
</span></span><span style=display:flex><span>1.T1u   -0.0018 -0.0018 -0.0018
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Block : O
</span></span><span style=display:flex><span>---------
</span></span><span style=display:flex><span>T1u     -0.0023 -0.0023 -0.0023
</span></span><span style=display:flex><span>T2u     <span style=color:#0000cf;font-weight:700>0</span>       <span style=color:#0000cf;font-weight:700>0</span>       <span style=color:#0000cf;font-weight:700>0</span>
</span></span></code></pre></div></div><div class=td-content style=page-break-before:always><h1 id=pg-999ab15b9fb22a8746fb741fa7018b3b>4.6 - Products of Irreducible Representations</h1><div class=lead>Perform direct products and symmetric direct products of irreps.</div><p>A common group theoretical task is the direct product or symmetric direct product of irreducible representations. The composition of a product is obtained as</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>pm-irrep-product --point-group Oh --irreps T2g,T2g
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># output</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># T2gxT2g  = A1g+Eg+T1g+T2g </span>
</span></span></code></pre></div><p>The composition of a <em>symmetric</em> product is obtained as</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>pm-irrep-product --point-group Oh --irreps T2g,T2g --symmetric 
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># output</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># [T2gxT2g] = A1g+Eg+T2g</span>
</span></span></code></pre></div><p>An arbitrary number of irreps can be handled</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>pm-irrep-product --point-group Oh --irreps T2g,T2g,Eg,Eg,A2g
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># output</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># T2gxT2gxEgxEgxA2g  = 2A1g+2A2g+4Eg+4T1g+4T2g</span>
</span></span></code></pre></div><p>Another important task is constructing the irreducible representation vectors of the product
representation in terms of the rows of the original irreducible representations.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>pm-irrep-product --point-group Oh --irreps Eg,Eg  --print-vectors  
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># output</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>#</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>#  EgxEg  = A1g+A2g+Eg</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># </span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># irr   Eg.0xEg.0  Eg.0xEg.1  Eg.1xEg.0  Eg.1xEg.1  </span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># A1g   0.7071     0.0        0.0        0.7071     </span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># A2g   0.0        0.7071     -0.7071    0.0        </span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># Eg.0  0.0        0.7071     0.7071     0.0        </span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># Eg.1  0.7071     0.0        0.0        -0.7071 </span>
</span></span></code></pre></div><p>The same can be done for the symmetric product</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>pm-irrep-product --point-group Oh --irreps Eg,Eg  --print-vectors  --symmetric 
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># output </span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>#</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># [EgxEg] = A1g+Eg</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>#</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># irr   Eg.0xEg.0  Eg.0xEg.1  Eg.1xEg.1  </span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># A1g   0.7071     0.0        0.7071     </span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># Eg.0  0.0        1.0        0.0        </span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># Eg.1  0.7071     0.0        -0.7071</span>
</span></span></code></pre></div></div><div class=td-content style=page-break-before:always><h1 id=pg-381038f4fe96b9e57a300bfd52de5df4>4.7 - Compute Irreducible Derivative</h1><div class=lead>Describes how to compute irreducible derivatives for a xtal using LID or BID.</div><p>Within this package we can compute irreducible derivatives of phonons and phonon interactions at a given order with either LID or BID approach.
The theory behind these approaches are described in the following paper:</p><ul><li><a href=https://doi.org/10.1103/PhysRevB.100.014303>L. Fu, M. Kornbluth, Z. Cheng, and C. A. Marianetti, Phys. Rev. B 100, 014303 (2019)</a>.</li></ul><p>Specifically, we can execute the LID, SS-BID and HS-BID approaches from the command line using the following commands:</p><ol><li><p><code>pm-lid-mesh</code>: compute irreducible derivatives of a given FTG and order using LID method;</p></li><li><p><code>pm-bid</code>: compute irreducible derivatives of a given FTG and order using SS-BID method;</p></li><li><p><code>pm-hsbid</code>: compute irreducible derivatives of a given FTG and order using HD-BID method.</p></li></ol><p>These commands take in generally the same command line options, therefore one can switch between approaches by changing the command while keeping
the options the same.
For example, below is guide on using the LID approach to compute irreducible derivatives of NaCl at second order but one can replace <code>pm-lid-mesh</code>
with <code>pm-bid</code> or <code>pm-hsbid</code> to execute SS-BID or HS-BID approach.</p><h2 id=lid-approach-on-nacl-at-second-order>LID Approach on NaCl at Second Order<a class=td-heading-self-link href=#lid-approach-on-nacl-at-second-order aria-label="Heading self-link"></a></h2><p>There are many ways to use this package to execute calculations of the irreducible derivatives with LID approach.
Here we demonstrate a recommended workflow to execute our LID approach at second order on NaCl from forces computed by first principle method.</p><h3 id=symmetry-analysis-and-find-the-measurements-to-compute>Symmetry Analysis and Find the Measurements to Compute<a class=td-heading-self-link href=#symmetry-analysis-and-find-the-measurements-to-compute aria-label="Heading self-link"></a></h3><p>First we create a file <code>xtal.yml</code> describing the structure of NaCl:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#8f5902;font-style:italic># xtal.yml</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>vec</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#000;font-weight:700>[[</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>0.00000000</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#0000cf;font-weight:700>2.83000729</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#0000cf;font-weight:700>2.83000729</span><span style=color:#000;font-weight:700>],</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>   </span><span style=color:#000;font-weight:700>[</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>2.83000729</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#0000cf;font-weight:700>0.00000000</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#0000cf;font-weight:700>2.83000729</span><span style=color:#000;font-weight:700>],</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>   </span><span style=color:#000;font-weight:700>[</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>2.83000729</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#0000cf;font-weight:700>2.83000729</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#0000cf;font-weight:700>0.00000000</span><span style=color:#000;font-weight:700>]]</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>atoms</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span>- <span style=color:#204a87;font-weight:700>Na</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> 
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#000;font-weight:700>[[</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>0.00000000</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#0000cf;font-weight:700>0.00000000</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#0000cf;font-weight:700>0.00000000</span><span style=color:#000;font-weight:700>]]</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span>- <span style=color:#204a87;font-weight:700>Cl</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> 
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#000;font-weight:700>[[</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>0.50000000</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#0000cf;font-weight:700>0.50000000</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#0000cf;font-weight:700>0.50000000</span><span style=color:#000;font-weight:700>]]</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span></code></pre></div><p>Then, with this structure and the point group \(O_h\), we can write the minimal configuration file, named <code>config.yml</code>, to execute the LID approach with a supercell \(\hat{S}_{BZ}=2\hat1\):</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#8f5902;font-style:italic># config.yml</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>structure</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#39;xtal.yml&#39;</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>supa</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000;font-weight:700>|</span><span style=color:#8f5902;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>  2 0 0
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>  0 2 0
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>  0 0 2</span><span style=color:#f8f8f8;text-decoration:underline>  
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>pg</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#39;Oh&#39;</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>order</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#0000cf;font-weight:700>2</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>full_symmetry</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#204a87;font-weight:700>True</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>delta</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000;font-weight:700>[</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>0.02</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>0.03</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>0.04</span><span style=color:#000;font-weight:700>]</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span></code></pre></div><p>There are numerous parameters which have default settings that can be changed, and these can be
added to the config.yml file listed above:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#204a87;font-weight:700>fdtype</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#39;c&#39;</span><span style=color:#f8f8f8;text-decoration:underline>                  
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>root_directory</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#39;.&#39;</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>database</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#39;database.db&#39;</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>db_type</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#39;sqlite&#39;</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>db_table</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#39;lid_phonon&#39;</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span></code></pre></div><p>With the configuration file we can initiate the pre-processing step which will execute the symmetry analysis and create the jobs that need to be computed with
first principles:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>pm-lid-mesh --config config.yml --create 
</span></span></code></pre></div><p>The above step will create two files:</p><ul><li><p><code>lid_mesh.hdf5</code>: A HDF5 file containing the computed symmetry analysis results, which will be used in the post-processing step to compute the irreducible derivatives
after first principle calculations are finished.</p></li><li><p><code>database.db</code>: A SQLite database file containing the jobs need to be computed with first principle calculations (<code>db_type</code> is specified to be &lsquo;sqlite&rsquo; in the <code>config.yml</code> file,
other database can be used if a working interface is provided).</p></li></ul><div class="alert alert-warning" role=alert><h4 class=alert-heading>Note</h4><p>The above steps can also be executed purely in command line with the following command:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>      pm-lid-mesh --save-config --create  --structure xtal.yml <span style=color:#4e9a06>\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span>        --supa <span style=color:#4e9a06>&#39;2,0,0;0,2,0;0,0,2&#39;</span> --pg Oh --order <span style=color:#0000cf;font-weight:700>2</span> --full-symmetry <span style=color:#4e9a06>\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span>        --delta 0.02,0.03,0.04 --fdtype c --database database.db <span style=color:#4e9a06>\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span>        --db-type sqlite --db-table lid_phonon
</span></span></code></pre></div></div><h3 id=prepare-and-execute-first-principle-calculations>Prepare and Execute First Principle Calculations<a class=td-heading-self-link href=#prepare-and-execute-first-principle-calculations aria-label="Heading self-link"></a></h3><p>The next step is to create the first principle jobs to be computed, the package generically supports all types of first principle compute engines provided a working interface,
and here we demonstrate using VASP. We begin by create the VASP jobs to be executed:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>  pm-jobs --config config.yml --create --engine vasp --save-config jobs_config.yml <span style=color:#4e9a06>\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span>    --job-config-path path-to-vasp-input-templates --root-directory jobs-ro-run
</span></span></code></pre></div><p>Inside the <code>path-to-vasp-input-templates</code> directory, one usually needs to provide &ldquo;INCAR&rdquo;, &ldquo;KPOINTS&rdquo; and &ldquo;POTCAR&rdquo; files and they will be used as templates when creating the
vasp jobs, each vasp job will be created in a separate directory for convenience. Once these directories are created, VASP can be executed within each directory.
Afterwards, the calculation results can be collected and stored in the database:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>  pm-jobs --config jobs_config.yml --retrieve
</span></span></code></pre></div><div class="alert alert-warning" role=alert><h4 class=alert-heading>Note</h4>We initiated the <code>pm-jobs</code> command with the input configuration file for the LID analysis <code>config.yml</code>,
and subsequently saved a new configuration file <code>jobs_config.yml</code> for the <code>pm-jobs</code> code for the purpose of convenience.
These configuration files contains all the input arguments that are required to reproduce the exact same setup.</div><h3 id=compute-irreducible-derivatives-from-the-results-of-first-principle-calculations>Compute Irreducible Derivatives from the Results of First Principle Calculations<a class=td-heading-self-link href=#compute-irreducible-derivatives-from-the-results-of-first-principle-calculations aria-label="Heading self-link"></a></h3><p>Finally, we can execute the post-processing step of the LID approach to compute the irreducible derivatives and, for example, compute the force constants tensors for Fourier interpolation:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>  pm-lid-mesh --load-lid-mesh lid_mesh.hdf5 --config config.yml <span style=color:#4e9a06>\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span>    --post --save-fi --save-ids --save-dts
</span></span></code></pre></div><p>If the material of interest is an insulator and the dipole-dipole interaction needs to be considered,
the dataset for computing the dipole-dipole interaction needs to be provided as an input as well:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>  pm-lid-mesh --load-lid-mesh lid_mesh.hdf5 --config config.yml --epsilon path-to-epsilon.yml <span style=color:#4e9a06>\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span>    --post --save-fi --save-ids --save-dts
</span></span></code></pre></div><p>The dataset for computing the dipole-dipole interaction can be computed from first principle methods.
Continuing with the VASP example, we can obtain the dataset by executing a static calculation adding <code>LEPSILON=.TRUE.</code> to the &ldquo;ICNAR&rdquo; file.
Once the calculation is finished, use the following command inside the calculation directory to parse the output from VASP and create the <code>epsilon.yml</code> file:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>  pm-epsilon --vasp -o epsilon.yml .
</span></span></code></pre></div><p>then replace <code>path-to-epsilon.yml</code> with the path to the generated <code>epsilon.yml</code> file.</p><p>The following files are created in this step:</p><ul><li><p><code>irreducible_derivatives.hdf5</code>: A HDF5 files containing the names of the irreducible derivatives and their values.</p></li><li><p><code>fourier_interpolation.hdf5</code>: A HDF5 files containing all the necessary information (structure, force constants tensors, FTG and dipole-dipole contributions if at second order)
to compute Fourier interpolation.</p></li><li><p><code>dynamic_tensors.hdf5</code>: A HDF5 files containing all the dynamic tensors in the naive basis within irreducible Q.</p></li></ul><div class="alert alert-warning" role=alert><h4 class=alert-heading>Note</h4>Both <strong>BID</strong> and <strong>HS-BID</strong> approaches can be executed following the exact same workflow while replacing the command <code>pm-lid-mesh</code>
with <code>pm-bid</code> and <code>pm-hsbid</code> respectively, and a change of the table name for the database is also recommended (e.g. change to &lsquo;bid_phonon&rsquo;).</div><h2 id=computing-and-analyzing-error-tails>Computing and analyzing error tails<a class=td-heading-self-link href=#computing-and-analyzing-error-tails aria-label="Heading self-link"></a></h2><p>The results of any finite displacement approach are only reliable if the
discretization error has been properly controlled. Forward and backward finite
difference guarantee a linear error tail, while central finite difference
guarantees a quadratic error tail. Resolving the error tail is a sure sign that
the discretization error has been properly extrapolated to zero. For phonons,
we will be taking either the first derivatives of the forces or the second
derivatives of the energy, which are typically not sensitive. Therefore, it is
common practice to use a single finite displacement (i.e. a single <em>delta</em>),
and then there is nothing to analyze. However, there are plenty of situations
where one does find sensitive results, such as metallic systems with Fermi
surface nesting or even band insulators when using the SCAN functional. If one
computes three or more deltas, then the error tail can be scrutinized to judge
the quality of the result.</p><p>To examine the error tails, the corresponding data must be output during the post-processing
of results. The above lid-mesh commands needs the <em>&ndash;err-output</em> flag as follows:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>  pm-lid-mesh --load-lid-mesh lid_mesh.hdf5 --config config.yml <span style=color:#4e9a06>\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span>    --post --save-fi --save-ids --save-dts --err-output error_tails.hdf5
</span></span></code></pre></div><p>The next step is extract the results from the hdf5 file and output them to individual
yaml files:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>pm-convert-errortail error_tails.hdf5
</span></span></code></pre></div><p>The yaml files can then be plotted to PDF files. For example:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>pm-plot-errortail 1_0_errortail.yml --iscomplex --output 1_0_errortail.pdf
</span></span></code></pre></div><p>At present, one can execute a loop in bash over all the files:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#204a87;font-weight:700>for</span> i in *_errortail.yml<span style=color:#000;font-weight:700>;</span> <span style=color:#204a87;font-weight:700>do</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87>echo</span> <span style=color:#000>$i</span>
</span></span><span style=display:flex><span>  pm-plot-errortail <span style=color:#000>$i</span> --iscomplex --output <span style=color:#204a87;font-weight:700>$(</span>basename <span style=color:#000>$i</span> .yml<span style=color:#204a87;font-weight:700>)</span>.pdf
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>done</span>
</span></span></code></pre></div><h2 id=computing-phonon-dispersion-and-dos>Computing phonon dispersion and DOS<a class=td-heading-self-link href=#computing-phonon-dispersion-and-dos aria-label="Heading self-link"></a></h2><p>With the <code>fourier_interpolation.hdf5</code> file obtained at second order, we can compute phonon dispersion and density of states (DOS).</p><p>Let&rsquo;s continue the NaCl example and first prepare the configuration file <code>phonon_config.yml</code> for computing the phonon dispersion and DOS:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#8f5902;font-style:italic># phonon_config.yml</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>band</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span>- <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#39;0 0 0&#39;</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#39;1/2 1/2 0&#39;</span><span style=color:#000;font-weight:700>]</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span>- <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#39;-1/2 1/2 0&#39;</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#39;0 0 0&#39;</span><span style=color:#000;font-weight:700>]</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span>- <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#39;0 0 0&#39;</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#39;1/2 1/2 1/2&#39;</span><span style=color:#000;font-weight:700>]</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>band_label</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span>- <span style=color:#000>$\Gamma$</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span>- <span style=color:#000>X</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span>- <span style=color:#000>$\Gamma$</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span>- <span style=color:#000>L</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>mesh</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>20</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>20</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>20</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span></code></pre></div><p>Then we can execute the following command to compute the band structure and DOS:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>  pm-phonon-band-dos --load-fi fourier_interpolation.hdf5 --config phonon_config.yml <span style=color:#4e9a06>\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span>    --save-band --save-grid --save-dos --save-plot
</span></span></code></pre></div><p>The following files are created in this step:</p><ul><li><p><code>band_plot_config.yml</code>: A YAML file with the configuration the plot the band structure and DOS;</p></li><li><p><code>bands.dat</code>: A text file with the phonon band structure data computed with Fourier interpolation;</p></li><li><p><code>grid_phonons.dat</code>: A text file with the data of the phonons that are measured at the FTG that fall on the path in the plot;</p></li><li><p><code>dos.dat</code>: A text file with the data of phonon DOS.</p></li></ul><p>We can plot the phonon band structure and DOS with the following command:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>  pm-plot-band -s band_plot_config.yml
</span></span></code></pre></div><figure><img src=/figures/examples/nacl/nacl_phonon_band_dos.png><figcaption><h4>Phonon bands and DOS of NaCl</h4></figcaption></figure></div><div class=td-content style=page-break-before:always><h1 id=pg-49da11994e29ecfc90a101746909debc>4.8 - Phonon Linewidth and Thermal Conductivity</h1><div class=lead>Using second and third order irreducible derivatives to compute the phonon linewidth and thermal conductivity.</div><p>Second and third order irreducible derivatives must be computed first, as described <a href=../compute-id>here</a>,
and the second and third order force constants may then be used
to predict the phonon linewidth using perturbation theory. The phonons and the linewidths can then be used
to computed thermal conductivity with the relaxation time approximation.</p><h2 id=phonon-linewidth>Phonon Linewidth<a class=td-heading-self-link href=#phonon-linewidth aria-label="Heading self-link"></a></h2><p>Here we continue the NaCl example from <a href=../compute-id>before</a>.</p><p>First, we need to prepare a configuration file <code>config.yml</code> for the <code>pm-conductivity</code> command:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#8f5902;font-style:italic>#  config.yml</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>structure</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>xtal.yml</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>load_fi2</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>fi_order2.hdf5</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>load_fi3</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>fi_order3.hdf5</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>mesh</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000;font-weight:700>[</span><span style=color:#0000cf;font-weight:700>11</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>11</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>11</span><span style=color:#000;font-weight:700>]</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>band</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span>- <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#39;0 0 0&#39;</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#39;1/2 1/2 0&#39;</span><span style=color:#000;font-weight:700>]</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span>- <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#39;-1/2 1/2 0&#39;</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#39;0 0 0&#39;</span><span style=color:#000;font-weight:700>]</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span>- <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#39;0 0 0&#39;</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#39;1/2 1/2 1/2&#39;</span><span style=color:#000;font-weight:700>]</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>band_label</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span>- <span style=color:#000>$\Gamma$</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span>- <span style=color:#000>X</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span>- <span style=color:#000>$\Gamma$</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span>- <span style=color:#000>L</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span></code></pre></div><p>where:</p><ul><li><p><code>xtal.yml</code> contains structure of NaCl;</p></li><li><p><code>fi_order2.hdf5</code> is the HDF5 data file for the FourierInterpolation class at second order, which contains the 2nd order force constants;</p></li><li><p><code>fi_order3.hdf5</code> is the HDF5 data file for the FourierInterpolation class at third order, which contains the 3rd order force constants.</p></li></ul><p>In this example, we use the FourierInterpolation object of a
\(\hat{S}_{BZ}=4\hat{\mathbf{1}}\)
FTG (i.e. a \(4 \times 4 \times 4\) supercell)
at second order and the FourierInterpolation object of a
\(\hat{S} _{BZ}=2\hat{\mathbf{1}}\)
FTG
(i.e. a \(2 \times 2 \times 2\) supercell) at third order. We
interpolate the phonons and phonon interactions to the mesh of
\(11\hat{\mathbf{1}}\), and compute the
linewidth along the K-path \(\Gamma \to X \to \Gamma \to L\).</p><p>Execute the following command the compute the phonon linewidth:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>pm-conductivity --config config.yml --save-gamma
</span></span></code></pre></div><h2 id=thermal-conductivity>Thermal Conductivity<a class=td-heading-self-link href=#thermal-conductivity aria-label="Heading self-link"></a></h2><p>Using the same NaCl example, we can prepare a configuration file <code>config.yml</code> similar to the one above:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#8f5902;font-style:italic># config.yml</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>structure</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>xtal.yml</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>load_fi2</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>fi_order2.hdf5</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>load_fi3</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>fi_order3.hdf5</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>mesh</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000;font-weight:700>[</span><span style=color:#0000cf;font-weight:700>11</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>11</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>11</span><span style=color:#000;font-weight:700>]</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span></code></pre></div><p>Execute the following command the compute the thermal conductivity using relaxation time approximation (RTA):</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>pm-conductivity --config config.yml --save-kappa --mode RTA
</span></span></code></pre></div></div><div class=td-content style=page-break-before:always><h1 id=pg-852cfdb3008ca23f8bcaeceaff2ecfe8>5 - Modules</h1><div class=lead>Documenting key classes and functions in each module.</div><p>Here we document various classes and functions within each module, and provide minimal examples.</p></div><div class=td-content><h1 id=pg-1236e8c8a584c7a7f8d8857cd5a5fb9b>5.1 - Translation Group</h1><div class=lead>The lattice is a central component of a crystal, and PM has a class for the infinite translation group (Lattice) and the finite translation group (LatticeFTG).</div><p>When performing calculations, we need to use various properties of both the infinite translation group (Lattice)
and the finite translation group (LatticeFTG).
The infinite translation group contains the lattice vectors, and computes various information from them
(e.g. vector lengths and angles, volume, reciprocal lattice, etc).
The FTG
is naturally characterized by a supercell \(\hat{S}_{BZ}\), and LatticeFTG derives from Lattice.
Finding all translation points within a given supercell is a key task.
Similarly,
another key task is finding all the k-points commensurate with a given FTG, but this is
currently execute in the separate kpoints class.</p><p>Additionally, we will need to find the smallest supercell that will accomodate a given set of \(\bm q\)-points.</p><h2 id=lattice>Lattice<a class=td-heading-self-link href=#lattice aria-label="Heading self-link"></a></h2><p>Here introduce the basic functionality of the <code>Lattice</code> class using the
face center cubic as a demonstration:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;&gt;&gt;</span> <span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>numpy</span> <span style=color:#204a87;font-weight:700>as</span> <span style=color:#000>np</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;&gt;&gt;</span> <span style=color:#204a87;font-weight:700>from</span> <span style=color:#000>principia_materia.translation_group</span> <span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>Lattice</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;&gt;&gt;</span> <span style=color:#000>fcc_vec</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>0.5</span><span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>np</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>ones</span><span style=color:#000;font-weight:700>((</span><span style=color:#0000cf;font-weight:700>3</span><span style=color:#000;font-weight:700>,</span><span style=color:#0000cf;font-weight:700>3</span><span style=color:#000;font-weight:700>))</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#000>np</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>identity</span><span style=color:#000;font-weight:700>(</span><span style=color:#0000cf;font-weight:700>3</span><span style=color:#000;font-weight:700>))</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;&gt;&gt;</span> <span style=color:#000>lattice</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>Lattice</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>vec</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000>fcc_vec</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;&gt;&gt;</span> <span style=color:#000>lattice</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>vec</span>
</span></span><span style=display:flex><span><span style=color:#000>array</span><span style=color:#000;font-weight:700>([[</span><span style=color:#0000cf;font-weight:700>0.</span> <span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>0.5</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>0.5</span><span style=color:#000;font-weight:700>],</span>
</span></span><span style=display:flex><span>       <span style=color:#000;font-weight:700>[</span><span style=color:#0000cf;font-weight:700>0.5</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>0.</span> <span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>0.5</span><span style=color:#000;font-weight:700>],</span>
</span></span><span style=display:flex><span>       <span style=color:#000;font-weight:700>[</span><span style=color:#0000cf;font-weight:700>0.5</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>0.5</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>0.</span> <span style=color:#000;font-weight:700>]])</span>
</span></span></code></pre></div><p>With the above Lattice class object, we can compute various properties of the lattice.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;&gt;&gt;</span> <span style=color:#204a87>print</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;volume:&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>lattice</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>vol</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#000>volume</span><span style=color:#000;font-weight:700>:</span> <span style=color:#0000cf;font-weight:700>0.25</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;&gt;&gt;</span> <span style=color:#204a87>print</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;lengths of the lattice vectors:&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>lattice</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>abc</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#000>lengths</span> <span style=color:#000>of</span> <span style=color:#000>the</span> <span style=color:#000>lattice</span> <span style=color:#000>vectors</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>[</span><span style=color:#0000cf;font-weight:700>0.70710678</span> <span style=color:#0000cf;font-weight:700>0.70710678</span> <span style=color:#0000cf;font-weight:700>0.70710678</span><span style=color:#000;font-weight:700>]</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;&gt;&gt;</span> <span style=color:#204a87>print</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;angles between the lattice vectors:&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>lattice</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>abg</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#000>angles</span> <span style=color:#000>between</span> <span style=color:#000>the</span> <span style=color:#000>lattice</span> <span style=color:#000>vectors</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>[</span><span style=color:#0000cf;font-weight:700>60.</span> <span style=color:#0000cf;font-weight:700>60.</span> <span style=color:#0000cf;font-weight:700>60.</span><span style=color:#000;font-weight:700>]</span>
</span></span></code></pre></div><p>There is a reciprocal lattice associated with the lattice, which is also constructed in this class,
and we follow the convention \(\bm a_i\cdot \bm b_j =2\pi \delta_{ij} \), where
\(\bm a_i\) is a real space vector and \(\bm b_j\) is a reciprocal space vector.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;&gt;&gt;</span> <span style=color:#204a87>print</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>lattice</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>rvec</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>[[</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>6.28318531</span>  <span style=color:#0000cf;font-weight:700>6.28318531</span>  <span style=color:#0000cf;font-weight:700>6.28318531</span><span style=color:#000;font-weight:700>]</span>  
</span></span><span style=display:flex><span> <span style=color:#000;font-weight:700>[</span> <span style=color:#0000cf;font-weight:700>6.28318531</span> <span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>6.28318531</span>  <span style=color:#0000cf;font-weight:700>6.28318531</span><span style=color:#000;font-weight:700>]</span>  
</span></span><span style=display:flex><span> <span style=color:#000;font-weight:700>[</span> <span style=color:#0000cf;font-weight:700>6.28318531</span>  <span style=color:#0000cf;font-weight:700>6.28318531</span> <span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>6.28318531</span><span style=color:#000;font-weight:700>]]</span> 
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;&gt;&gt;</span> <span style=color:#204a87>print</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;volume of reciprocal lattice:&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>lattice</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>rvol</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#000>volume</span> <span style=color:#000>of</span> <span style=color:#000>reciprocal</span> <span style=color:#000>lattice</span><span style=color:#000;font-weight:700>:</span> <span style=color:#0000cf;font-weight:700>992.200854</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;&gt;&gt;</span> <span style=color:#204a87>print</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;lengths of the reciprocal lattice vectors:&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>lattice</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>rabc</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#000>lengths</span> <span style=color:#000>of</span> <span style=color:#000>the</span> <span style=color:#000>reciprocal</span> <span style=color:#000>lattice</span> <span style=color:#000>vectors</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>[</span><span style=color:#0000cf;font-weight:700>10.88279619</span> <span style=color:#0000cf;font-weight:700>10.88279619</span> <span style=color:#0000cf;font-weight:700>10.88279619</span><span style=color:#000;font-weight:700>]</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;&gt;&gt;</span> <span style=color:#204a87>print</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;angles between the reciprocal lattice vectors:&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>lattice</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>rabg</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#000>angles</span> <span style=color:#000>between</span> <span style=color:#000>the</span> <span style=color:#000>reciprocal</span> <span style=color:#000>lattice</span> <span style=color:#000>vectors</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>[</span><span style=color:#0000cf;font-weight:700>109.47122063</span> <span style=color:#0000cf;font-weight:700>109.47122063</span> <span style=color:#0000cf;font-weight:700>109.47122063</span><span style=color:#000;font-weight:700>]</span>
</span></span></code></pre></div><p>Additionally, the Lattice class allows us to perform various operation to a lattice, for example applying an axial strain:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;&gt;&gt;</span> <span style=color:#000>strain</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000;font-weight:700>[</span><span style=color:#0000cf;font-weight:700>0.02</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>]</span> <span style=color:#8f5902;font-style:italic># axial strain along x</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;&gt;&gt;</span> <span style=color:#000>example_lattice</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>lattice</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>copy</span><span style=color:#000;font-weight:700>()</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;&gt;&gt;</span> <span style=color:#000>example_lattice</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>axial_strain</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>strain</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;&gt;&gt;</span> <span style=color:#204a87>print</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>example_lattice</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>vec</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>[[</span><span style=color:#0000cf;font-weight:700>0.</span>   <span style=color:#0000cf;font-weight:700>0.5</span>  <span style=color:#0000cf;font-weight:700>0.5</span> <span style=color:#000;font-weight:700>]</span> 
</span></span><span style=display:flex><span> <span style=color:#000;font-weight:700>[</span><span style=color:#0000cf;font-weight:700>0.51</span> <span style=color:#0000cf;font-weight:700>0.</span>   <span style=color:#0000cf;font-weight:700>0.5</span> <span style=color:#000;font-weight:700>]</span> 
</span></span><span style=display:flex><span> <span style=color:#000;font-weight:700>[</span><span style=color:#0000cf;font-weight:700>0.51</span> <span style=color:#0000cf;font-weight:700>0.5</span>  <span style=color:#0000cf;font-weight:700>0.</span>  <span style=color:#000;font-weight:700>]]</span>
</span></span></code></pre></div><h2 id=latticeftg>LatticeFTG<a class=td-heading-self-link href=#latticeftg aria-label="Heading self-link"></a></h2><p>LatticeFTG is the class which handles finite translation groups, and the key
method of the class finds all tranlsation points (i.e. <strong>t-points</strong>) contained
within the supercell. While this result can be obtained from a simple Cartesian
product in the case of a diagonal supercell, non-diagonal supercells are more subtle.
Non-diagonal supercells are important in the context of lattice dynamic, because
it is always preferrable to work with the smallest number of irreducible derivatives which
yield a smooth interpolation, and non-diagonal supercells yield multiplicities which cannot
be obtained solely using diagonal supercells.
Therefore, it is important to have a robust algorithm to find all lattice points
within an arbitrary supercell, and our algorithm is detailed in
Appendix D in <a href=https://doi.org/10.1103/PhysRevB.100.014303>PRB 100 014303</a>.
The same algorithm can be reversed to compute the indices of the lattice points
at \(\mathcal{O}(1)\) time complexity, removing the need to create a hash
function.</p><p>Below is a simple example which is easily recognizable: a fcc lattice with a supercell
that yields the conventional cubic cell.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;&gt;&gt;</span> <span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>numpy</span> <span style=color:#204a87;font-weight:700>as</span> <span style=color:#000>np</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;&gt;&gt;</span> <span style=color:#204a87;font-weight:700>from</span> <span style=color:#000>principia_materia.translation_group</span> <span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>LatticeFTG</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;&gt;&gt;</span> <span style=color:#000>fcc_vec</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>0.5</span><span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>np</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>ones</span><span style=color:#000;font-weight:700>((</span><span style=color:#0000cf;font-weight:700>3</span><span style=color:#000;font-weight:700>,</span><span style=color:#0000cf;font-weight:700>3</span><span style=color:#000;font-weight:700>))</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#000>np</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>identity</span><span style=color:#000;font-weight:700>(</span><span style=color:#0000cf;font-weight:700>3</span><span style=color:#000;font-weight:700>))</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;&gt;&gt;</span> <span style=color:#000>S_bz</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>np</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>ones</span><span style=color:#000;font-weight:700>((</span><span style=color:#0000cf;font-weight:700>3</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>3</span><span style=color:#000;font-weight:700>))</span> <span style=color:#ce5c00;font-weight:700>-</span> <span style=color:#0000cf;font-weight:700>2</span> <span style=color:#ce5c00;font-weight:700>*</span> <span style=color:#000>np</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>identity</span><span style=color:#000;font-weight:700>(</span><span style=color:#0000cf;font-weight:700>3</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;&gt;&gt;</span> <span style=color:#000>lattice_ftg</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>LatticeFTG</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>fcc_vec</span><span style=color:#000;font-weight:700>,</span><span style=color:#000>S_bz</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;&gt;&gt;</span> <span style=color:#000>lattice_ftg</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>vec</span>
</span></span><span style=display:flex><span><span style=color:#000>array</span><span style=color:#000;font-weight:700>([[</span><span style=color:#0000cf;font-weight:700>0.</span> <span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>0.5</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>0.5</span><span style=color:#000;font-weight:700>],</span> 
</span></span><span style=display:flex><span>       <span style=color:#000;font-weight:700>[</span><span style=color:#0000cf;font-weight:700>0.5</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>0.</span> <span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>0.5</span><span style=color:#000;font-weight:700>],</span> 
</span></span><span style=display:flex><span>       <span style=color:#000;font-weight:700>[</span><span style=color:#0000cf;font-weight:700>0.5</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>0.5</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>0.</span> <span style=color:#000;font-weight:700>]])</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;&gt;&gt;</span> <span style=color:#000>lattice_ftg</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>supa</span>
</span></span><span style=display:flex><span><span style=color:#000>array</span><span style=color:#000;font-weight:700>([[</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>,</span>  <span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>,</span>  <span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>],</span> 
</span></span><span style=display:flex><span>       <span style=color:#000;font-weight:700>[</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>,</span> <span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>,</span>  <span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>],</span> 
</span></span><span style=display:flex><span>       <span style=color:#000;font-weight:700>[</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>,</span>  <span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>,</span> <span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>]])</span> 
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;&gt;&gt;</span> <span style=color:#000>lattice_ftg</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>tpoints</span>
</span></span><span style=display:flex><span><span style=color:#000>array</span><span style=color:#000;font-weight:700>([[</span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>],</span> 
</span></span><span style=display:flex><span>       <span style=color:#000;font-weight:700>[</span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>],</span> 
</span></span><span style=display:flex><span>       <span style=color:#000;font-weight:700>[</span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>],</span> 
</span></span><span style=display:flex><span>       <span style=color:#000;font-weight:700>[</span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>]])</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;&gt;&gt;</span> <span style=color:#000>lattice_ftg</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>get_index</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>lattice_ftg</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>tpoints</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#000>array</span><span style=color:#000;font-weight:700>([</span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>3</span><span style=color:#000;font-weight:700>])</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;&gt;&gt;</span> <span style=color:#000>lattice_ftg</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>supa_vec</span>
</span></span><span style=display:flex><span><span style=color:#000>array</span><span style=color:#000;font-weight:700>([[</span><span style=color:#0000cf;font-weight:700>1.</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>0.</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>0.</span><span style=color:#000;font-weight:700>],</span> 
</span></span><span style=display:flex><span>       <span style=color:#000;font-weight:700>[</span><span style=color:#0000cf;font-weight:700>0.</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>1.</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>0.</span><span style=color:#000;font-weight:700>],</span> 
</span></span><span style=display:flex><span>       <span style=color:#000;font-weight:700>[</span><span style=color:#0000cf;font-weight:700>0.</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>0.</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>1.</span><span style=color:#000;font-weight:700>]])</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;&gt;&gt;</span> <span style=color:#000>lattice_ftg</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>supa_tpoints</span>
</span></span><span style=display:flex><span><span style=color:#000>array</span><span style=color:#000;font-weight:700>([[</span> <span style=color:#0000cf;font-weight:700>0</span> <span style=color:#000;font-weight:700>,</span>  <span style=color:#0000cf;font-weight:700>0</span> <span style=color:#000;font-weight:700>,</span>  <span style=color:#0000cf;font-weight:700>0</span> <span style=color:#000;font-weight:700>],</span>
</span></span><span style=display:flex><span>       <span style=color:#000;font-weight:700>[</span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#ce5c00;font-weight:700>/</span><span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#ce5c00;font-weight:700>/</span><span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>,</span>  <span style=color:#0000cf;font-weight:700>0</span> <span style=color:#000;font-weight:700>],</span>
</span></span><span style=display:flex><span>       <span style=color:#000;font-weight:700>[</span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#ce5c00;font-weight:700>/</span><span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>,</span>  <span style=color:#0000cf;font-weight:700>0</span> <span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#ce5c00;font-weight:700>/</span><span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>],</span>
</span></span><span style=display:flex><span>       <span style=color:#000;font-weight:700>[</span> <span style=color:#0000cf;font-weight:700>0</span> <span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#ce5c00;font-weight:700>/</span><span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#ce5c00;font-weight:700>/</span><span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>]],</span> <span style=color:#000>dtype</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#204a87>object</span><span style=color:#000;font-weight:700>)</span>
</span></span></code></pre></div><h2 id=kpointsftg>KpointsFTG<a class=td-heading-self-link href=#kpointsftg aria-label="Heading self-link"></a></h2><p>We have a dedicated class for construcint k-points, though this is basically just
a trivial wrapper around LatticeFTG.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;&gt;&gt;</span> <span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>numpy</span> <span style=color:#204a87;font-weight:700>as</span> <span style=color:#000>np</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;&gt;&gt;</span> <span style=color:#204a87;font-weight:700>from</span> <span style=color:#000>principia_materia.translation_group</span> <span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>KpointsFTG</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;&gt;&gt;</span> <span style=color:#000>fcc_vec</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>0.5</span><span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>np</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>ones</span><span style=color:#000;font-weight:700>((</span><span style=color:#0000cf;font-weight:700>3</span><span style=color:#000;font-weight:700>,</span><span style=color:#0000cf;font-weight:700>3</span><span style=color:#000;font-weight:700>))</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#000>np</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>identity</span><span style=color:#000;font-weight:700>(</span><span style=color:#0000cf;font-weight:700>3</span><span style=color:#000;font-weight:700>))</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;&gt;&gt;</span> <span style=color:#000>S_bz</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>np</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>ones</span><span style=color:#000;font-weight:700>((</span><span style=color:#0000cf;font-weight:700>3</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>3</span><span style=color:#000;font-weight:700>))</span> <span style=color:#ce5c00;font-weight:700>-</span> <span style=color:#0000cf;font-weight:700>2</span> <span style=color:#ce5c00;font-weight:700>*</span> <span style=color:#000>np</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>identity</span><span style=color:#000;font-weight:700>(</span><span style=color:#0000cf;font-weight:700>3</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;&gt;&gt;</span> <span style=color:#000>qpts</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>KpointsFTG</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>vec</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000>fcc_vec</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>supa</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000>S_bz</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;&gt;&gt;</span> <span style=color:#000>qpts</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>ppoints</span>
</span></span><span style=display:flex><span><span style=color:#000>array</span><span style=color:#000;font-weight:700>([[</span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>],</span>
</span></span><span style=display:flex><span>       <span style=color:#000;font-weight:700>[</span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>],</span>
</span></span><span style=display:flex><span>       <span style=color:#000;font-weight:700>[</span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>],</span>
</span></span><span style=display:flex><span>       <span style=color:#000;font-weight:700>[</span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>]])</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;&gt;&gt;</span> <span style=color:#000>qpts</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>kpoints</span>
</span></span><span style=display:flex><span><span style=color:#000>array</span><span style=color:#000;font-weight:700>([[</span> <span style=color:#0000cf;font-weight:700>0</span> <span style=color:#000;font-weight:700>,</span>  <span style=color:#0000cf;font-weight:700>0</span> <span style=color:#000;font-weight:700>,</span>  <span style=color:#0000cf;font-weight:700>0</span> <span style=color:#000;font-weight:700>],</span>
</span></span><span style=display:flex><span>       <span style=color:#000;font-weight:700>[</span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#ce5c00;font-weight:700>/</span><span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#ce5c00;font-weight:700>/</span><span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>,</span>  <span style=color:#0000cf;font-weight:700>0</span> <span style=color:#000;font-weight:700>],</span>
</span></span><span style=display:flex><span>       <span style=color:#000;font-weight:700>[</span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#ce5c00;font-weight:700>/</span><span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>,</span>  <span style=color:#0000cf;font-weight:700>0</span> <span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#ce5c00;font-weight:700>/</span><span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>],</span>
</span></span><span style=display:flex><span>       <span style=color:#000;font-weight:700>[</span> <span style=color:#0000cf;font-weight:700>0</span> <span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#ce5c00;font-weight:700>/</span><span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#ce5c00;font-weight:700>/</span><span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>]],</span> <span style=color:#000>dtype</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#204a87>object</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;&gt;&gt;</span> <span style=color:#000>qpts</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>ppoints_to_kpoints</span><span style=color:#000;font-weight:700>(</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>...</span>      <span style=color:#000>np</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>array</span><span style=color:#000;font-weight:700>([[</span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>],</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>...</span>                <span style=color:#000;font-weight:700>[</span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>]])</span>  <span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#000>array</span><span style=color:#000;font-weight:700>([[</span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#ce5c00;font-weight:700>/</span><span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#ce5c00;font-weight:700>/</span><span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>,</span>  <span style=color:#0000cf;font-weight:700>0</span> <span style=color:#000;font-weight:700>],</span>
</span></span><span style=display:flex><span>       <span style=color:#000;font-weight:700>[</span> <span style=color:#0000cf;font-weight:700>0</span> <span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#ce5c00;font-weight:700>/</span><span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#ce5c00;font-weight:700>/</span><span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>]],</span> <span style=color:#000>dtype</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#204a87>object</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;&gt;&gt;</span> <span style=color:#000>qpts</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>kpoints_to_ppoints</span><span style=color:#000;font-weight:700>(</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>...</span>      <span style=color:#000>np</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>array</span><span style=color:#000;font-weight:700>([[</span><span style=color:#0000cf;font-weight:700>0.5</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>0.5</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>0</span>  <span style=color:#000;font-weight:700>],</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>...</span>                <span style=color:#000;font-weight:700>[</span><span style=color:#0000cf;font-weight:700>0</span>  <span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>0.5</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>0.5</span><span style=color:#000;font-weight:700>]])</span>  <span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#000>array</span><span style=color:#000;font-weight:700>([[</span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>],</span>
</span></span><span style=display:flex><span>       <span style=color:#000;font-weight:700>[</span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>]])</span>
</span></span></code></pre></div><h2 id=kpointsfsg>KpointsFSG<a class=td-heading-self-link href=#kpointsfsg aria-label="Heading self-link"></a></h2><p>Similar to KpointsFTG, the class KpointsFSG is basically a trivial wrapper around LatticeFSG,
which handles the point symmetry of the lattice. Given that the most common use cases of point
symmetry are in reciprocal space, only KpointsFSG is outlined here.
KpointsFSG derives from KpointsFTG, so it shares all the same attributes outlined above.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;&gt;&gt;</span> <span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>numpy</span> <span style=color:#204a87;font-weight:700>as</span> <span style=color:#000>np</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;&gt;&gt;</span> <span style=color:#204a87;font-weight:700>from</span> <span style=color:#000>principia_materia.translation_group</span> <span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>KpointsFSG</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;&gt;&gt;</span> <span style=color:#000>fcc_vec</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>0.5</span><span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>np</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>ones</span><span style=color:#000;font-weight:700>((</span><span style=color:#0000cf;font-weight:700>3</span><span style=color:#000;font-weight:700>,</span><span style=color:#0000cf;font-weight:700>3</span><span style=color:#000;font-weight:700>))</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#000>np</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>identity</span><span style=color:#000;font-weight:700>(</span><span style=color:#0000cf;font-weight:700>3</span><span style=color:#000;font-weight:700>))</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;&gt;&gt;</span> <span style=color:#000>S_bz</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>2</span><span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>np</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>identity</span><span style=color:#000;font-weight:700>(</span><span style=color:#0000cf;font-weight:700>3</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;&gt;&gt;</span> <span style=color:#000>qpts</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>KpointsFSG</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>vec</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000>fcc_vec</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>supa</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000>S_bz</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>pg</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#39;Oh&#39;</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;&gt;&gt;</span> <span style=color:#000>qpts</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>kpoints</span>
</span></span><span style=display:flex><span><span style=color:#000>array</span><span style=color:#000;font-weight:700>([[</span> <span style=color:#0000cf;font-weight:700>0</span> <span style=color:#000;font-weight:700>,</span>  <span style=color:#0000cf;font-weight:700>0</span> <span style=color:#000;font-weight:700>,</span>  <span style=color:#0000cf;font-weight:700>0</span> <span style=color:#000;font-weight:700>],</span>
</span></span><span style=display:flex><span>       <span style=color:#000;font-weight:700>[</span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#ce5c00;font-weight:700>/</span><span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>,</span>  <span style=color:#0000cf;font-weight:700>0</span> <span style=color:#000;font-weight:700>,</span>  <span style=color:#0000cf;font-weight:700>0</span> <span style=color:#000;font-weight:700>],</span>
</span></span><span style=display:flex><span>       <span style=color:#000;font-weight:700>[</span> <span style=color:#0000cf;font-weight:700>0</span> <span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#ce5c00;font-weight:700>/</span><span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>,</span>  <span style=color:#0000cf;font-weight:700>0</span> <span style=color:#000;font-weight:700>],</span>
</span></span><span style=display:flex><span>       <span style=color:#000;font-weight:700>[</span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#ce5c00;font-weight:700>/</span><span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#ce5c00;font-weight:700>/</span><span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>,</span>  <span style=color:#0000cf;font-weight:700>0</span> <span style=color:#000;font-weight:700>],</span>
</span></span><span style=display:flex><span>       <span style=color:#000;font-weight:700>[</span> <span style=color:#0000cf;font-weight:700>0</span> <span style=color:#000;font-weight:700>,</span>  <span style=color:#0000cf;font-weight:700>0</span> <span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#ce5c00;font-weight:700>/</span><span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>],</span>
</span></span><span style=display:flex><span>       <span style=color:#000;font-weight:700>[</span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#ce5c00;font-weight:700>/</span><span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>,</span>  <span style=color:#0000cf;font-weight:700>0</span> <span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#ce5c00;font-weight:700>/</span><span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>],</span>
</span></span><span style=display:flex><span>       <span style=color:#000;font-weight:700>[</span> <span style=color:#0000cf;font-weight:700>0</span> <span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#ce5c00;font-weight:700>/</span><span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#ce5c00;font-weight:700>/</span><span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>],</span>
</span></span><span style=display:flex><span>       <span style=color:#000;font-weight:700>[</span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#ce5c00;font-weight:700>/</span><span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#ce5c00;font-weight:700>/</span><span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#ce5c00;font-weight:700>/</span><span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>]],</span> <span style=color:#000>dtype</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#204a87>object</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;&gt;&gt;</span> <span style=color:#000>qpts</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>irr_kpoints</span>
</span></span><span style=display:flex><span><span style=color:#000>array</span><span style=color:#000;font-weight:700>([[</span> <span style=color:#0000cf;font-weight:700>0</span> <span style=color:#000;font-weight:700>,</span>  <span style=color:#0000cf;font-weight:700>0</span> <span style=color:#000;font-weight:700>,</span>  <span style=color:#0000cf;font-weight:700>0</span> <span style=color:#000;font-weight:700>],</span>
</span></span><span style=display:flex><span>       <span style=color:#000;font-weight:700>[</span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#ce5c00;font-weight:700>/</span><span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>,</span>  <span style=color:#0000cf;font-weight:700>0</span> <span style=color:#000;font-weight:700>,</span>  <span style=color:#0000cf;font-weight:700>0</span> <span style=color:#000;font-weight:700>],</span>
</span></span><span style=display:flex><span>       <span style=color:#000;font-weight:700>[</span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#ce5c00;font-weight:700>/</span><span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#ce5c00;font-weight:700>/</span><span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>,</span>  <span style=color:#0000cf;font-weight:700>0</span> <span style=color:#000;font-weight:700>]],</span> <span style=color:#000>dtype</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#204a87>object</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;&gt;&gt;</span> <span style=color:#000>qpts</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>irr_ppoints</span>
</span></span><span style=display:flex><span><span style=color:#000>array</span><span style=color:#000;font-weight:700>([[</span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>],</span>
</span></span><span style=display:flex><span>       <span style=color:#000;font-weight:700>[</span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>],</span>
</span></span><span style=display:flex><span>       <span style=color:#000;font-weight:700>[</span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>]])</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;&gt;&gt;</span> <span style=color:#000>qpts</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>N_irr</span>
</span></span><span style=display:flex><span><span style=color:#0000cf;font-weight:700>3</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;&gt;&gt;</span> <span style=color:#000>qpts</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>irr_indexes</span>
</span></span><span style=display:flex><span><span style=color:#000>array</span><span style=color:#000;font-weight:700>([</span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>3</span><span style=color:#000;font-weight:700>])</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;&gt;&gt;</span> <span style=color:#000>qpts</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>indexes_map_irr_index</span>
</span></span><span style=display:flex><span><span style=color:#000>array</span><span style=color:#000;font-weight:700>([</span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>3</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>3</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>3</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>])</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;&gt;&gt;</span> <span style=color:#000>qpts</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>indexes_map_irr_order</span>
</span></span><span style=display:flex><span><span style=color:#000>array</span><span style=color:#000;font-weight:700>([</span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>])</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;&gt;&gt;</span> <span style=color:#000>qpts</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>stars</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>[[</span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>],</span> <span style=color:#000;font-weight:700>[</span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>4</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>7</span><span style=color:#000;font-weight:700>],</span> <span style=color:#000;font-weight:700>[</span><span style=color:#0000cf;font-weight:700>3</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>5</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>6</span><span style=color:#000;font-weight:700>]]</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;&gt;&gt;</span> <span style=color:#000>qpts</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>little_groups</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#39;Oh&#39;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#39;D3d&#39;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#39;D4h&#39;</span><span style=color:#000;font-weight:700>]</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;&gt;&gt;</span> <span style=color:#000>qpts</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>kpoint_type</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#39;real&#39;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#39;real&#39;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#39;real&#39;</span><span style=color:#000;font-weight:700>]</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;&gt;&gt;</span> <span style=color:#8f5902;font-style:italic># operations that yield 4th point from irr counterpart</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;&gt;&gt;</span> <span style=color:#000>qpts</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>indexes_map_irr_ops</span><span style=color:#000;font-weight:700>[</span><span style=color:#0000cf;font-weight:700>4</span><span style=color:#000;font-weight:700>]</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#39;c3be&#39;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#39;ci3de&#39;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#39;c2y&#39;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#39;c4x&#39;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#39;c4z&#39;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#39;c2d&#39;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#39;Ic3be&#39;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#39;Ici3de&#39;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#39;Ic2y&#39;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#39;Ic4x&#39;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#39;Ic4z&#39;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#39;Ic2d&#39;</span><span style=color:#000;font-weight:700>]</span>
</span></span></code></pre></div><h2 id=qpointsn>QpointsN<a class=td-heading-self-link href=#qpointsn aria-label="Heading self-link"></a></h2><p>Next, we can use the above information to find irreducible \(Q\)-points.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;&gt;&gt;</span> <span style=color:#000>qpointsn</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>QpointsN</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>vec</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000>lattice_vectors</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>supa</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000>supa</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>order</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#0000cf;font-weight:700>3</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>pg</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000>pg</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;&gt;&gt;</span> <span style=color:#000>qpointsn</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>find_irreducible_Qpoints</span><span style=color:#000;font-weight:700>()</span>
</span></span><span style=display:flex><span><span style=color:#000>array</span><span style=color:#000;font-weight:700>([[[</span><span style=color:#000>Fraction</span><span style=color:#000;font-weight:700>(</span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>),</span> <span style=color:#000>Fraction</span><span style=color:#000;font-weight:700>(</span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>),</span> <span style=color:#000>Fraction</span><span style=color:#000;font-weight:700>(</span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>)],</span>                
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>[</span><span style=color:#000>Fraction</span><span style=color:#000;font-weight:700>(</span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>),</span> <span style=color:#000>Fraction</span><span style=color:#000;font-weight:700>(</span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>),</span> <span style=color:#000>Fraction</span><span style=color:#000;font-weight:700>(</span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>)],</span>                
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>[</span><span style=color:#000>Fraction</span><span style=color:#000;font-weight:700>(</span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>),</span> <span style=color:#000>Fraction</span><span style=color:#000;font-weight:700>(</span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>),</span> <span style=color:#000>Fraction</span><span style=color:#000;font-weight:700>(</span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>)]],</span>               
</span></span><span style=display:flex><span>        <span style=color:#ce5c00;font-weight:700>...</span><span style=color:#000;font-weight:700>,</span>                                                             
</span></span><span style=display:flex><span>       <span style=color:#000;font-weight:700>[[</span><span style=color:#000>Fraction</span><span style=color:#000;font-weight:700>(</span><span style=color:#0000cf;font-weight:700>3</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>4</span><span style=color:#000;font-weight:700>),</span> <span style=color:#000>Fraction</span><span style=color:#000;font-weight:700>(</span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>4</span><span style=color:#000;font-weight:700>),</span> <span style=color:#000>Fraction</span><span style=color:#000;font-weight:700>(</span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>)],</span>                
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>[</span><span style=color:#000>Fraction</span><span style=color:#000;font-weight:700>(</span><span style=color:#0000cf;font-weight:700>3</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>4</span><span style=color:#000;font-weight:700>),</span> <span style=color:#000>Fraction</span><span style=color:#000;font-weight:700>(</span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>4</span><span style=color:#000;font-weight:700>),</span> <span style=color:#000>Fraction</span><span style=color:#000;font-weight:700>(</span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>)],</span>                
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>[</span><span style=color:#000>Fraction</span><span style=color:#000;font-weight:700>(</span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>),</span> <span style=color:#000>Fraction</span><span style=color:#000;font-weight:700>(</span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>),</span> <span style=color:#000>Fraction</span><span style=color:#000;font-weight:700>(</span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>)]]],</span> <span style=color:#000>dtype</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#204a87>object</span><span style=color:#000;font-weight:700>)</span>
</span></span></code></pre></div><h2 id=get_minimum_supercell>get_minimum_supercell<a class=td-heading-self-link href=#get_minimum_supercell aria-label="Heading self-link"></a></h2><p>Algorithm to find the minimum supercell for a given list of \(\textbf{q}\)-points</p><p>The minimum supercell multiplicity is derived in the paper.
Here using the implemented function, we find that for the \(\textbf{q}\)-point
\(\textbf{q}=\left(\frac{1}{4}, \frac{3}{4}, 0\right)\) the supercell of the minimum multiplicity is:</p><p>$$
\hat{S}_{\textbf{q}} =
\begin{bmatrix}
1 & 1 & 0 \\
0 & 4 & 0 \\
0 & 0 & 1
\end{bmatrix}
$$</p><p>, and for the \(Q\)-point
\(Q=\left[\left(\frac{1}{4}, \frac{3}{4}, 0\right), \left(\frac{1}{4}, \frac{1}{2}, 0\right), \left(\frac{3}{4}, \frac{1}{4}, \frac{1}{2}\right)\right]\)
the supercell of the minimum multiplicity is:</p><p>$$
\hat{S}_{Q} = \begin{bmatrix}
4 & 0 & 0 \\
0 & 4 & 0 \\
0 & 0 & 2
\end{bmatrix}
$$</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;&gt;&gt;</span> <span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>numpy</span> <span style=color:#204a87;font-weight:700>as</span> <span style=color:#000>np</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;&gt;&gt;</span> <span style=color:#204a87;font-weight:700>from</span> <span style=color:#000>principia_materia.translation_group</span> <span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>get_minimum_supercell</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;&gt;&gt;</span> <span style=color:#204a87;font-weight:700>from</span> <span style=color:#000>principia_materia.io_interface</span> <span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>parse_array</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;&gt;&gt;</span> <span style=color:#204a87;font-weight:700>from</span> <span style=color:#000>principia_materia.mathematics</span> <span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>Fraction</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;&gt;&gt;</span> <span style=color:#000>Qpoint</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>parse_array</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;&#34;&#34;</span><span style=color:#4e9a06>\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span><span style=color:#4e9a06>...     1/4 3/4 0
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>... &#34;&#34;&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>dtype</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000>Fraction</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;&gt;&gt;</span> <span style=color:#000>Qpoint</span>
</span></span><span style=display:flex><span><span style=color:#000>array</span><span style=color:#000;font-weight:700>([</span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#ce5c00;font-weight:700>/</span><span style=color:#0000cf;font-weight:700>4</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>3</span><span style=color:#ce5c00;font-weight:700>/</span><span style=color:#0000cf;font-weight:700>4</span><span style=color:#000;font-weight:700>,</span>  <span style=color:#0000cf;font-weight:700>0</span> <span style=color:#000;font-weight:700>],</span> <span style=color:#000>dtype</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#204a87>object</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;&gt;&gt;</span> <span style=color:#000>get_minimum_supercell</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>Qpoint</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#000>array</span><span style=color:#000;font-weight:700>([[</span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>],</span> 
</span></span><span style=display:flex><span>       <span style=color:#000;font-weight:700>[</span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>4</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>],</span> 
</span></span><span style=display:flex><span>       <span style=color:#000;font-weight:700>[</span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>]])</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;&gt;&gt;</span> <span style=color:#000>Qpoint</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>parse_array</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;&#34;&#34;</span><span style=color:#4e9a06>\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span><span style=color:#4e9a06>...     1/4 3/4 0
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>...     1/4 1/2 0
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>...     3/4 1/4 1/2
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>... &#34;&#34;&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>dtype</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000>Fraction</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;&gt;&gt;</span> <span style=color:#000>Qpoint</span>
</span></span><span style=display:flex><span><span style=color:#000>array</span><span style=color:#000;font-weight:700>([[</span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#ce5c00;font-weight:700>/</span><span style=color:#0000cf;font-weight:700>4</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>3</span><span style=color:#ce5c00;font-weight:700>/</span><span style=color:#0000cf;font-weight:700>4</span><span style=color:#000;font-weight:700>,</span>  <span style=color:#0000cf;font-weight:700>0</span> <span style=color:#000;font-weight:700>],</span>
</span></span><span style=display:flex><span>       <span style=color:#000;font-weight:700>[</span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#ce5c00;font-weight:700>/</span><span style=color:#0000cf;font-weight:700>4</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#ce5c00;font-weight:700>/</span><span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>,</span>  <span style=color:#0000cf;font-weight:700>0</span> <span style=color:#000;font-weight:700>],</span>
</span></span><span style=display:flex><span>       <span style=color:#000;font-weight:700>[</span><span style=color:#0000cf;font-weight:700>3</span><span style=color:#ce5c00;font-weight:700>/</span><span style=color:#0000cf;font-weight:700>4</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#ce5c00;font-weight:700>/</span><span style=color:#0000cf;font-weight:700>4</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#ce5c00;font-weight:700>/</span><span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>]],</span> <span style=color:#000>dtype</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#204a87>object</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;&gt;&gt;</span> <span style=color:#000>get_minimum_supercell</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>Qpoint</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#000>array</span><span style=color:#000;font-weight:700>([[</span><span style=color:#0000cf;font-weight:700>4</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>],</span> 
</span></span><span style=display:flex><span>       <span style=color:#000;font-weight:700>[</span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>4</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>],</span> 
</span></span><span style=display:flex><span>       <span style=color:#000;font-weight:700>[</span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>]])</span>
</span></span></code></pre></div></div><div class=td-content style=page-break-before:always><h1 id=pg-d952ee4b4c22b2d0b4aa10e5598ea027>5.2 - Symmetry</h1><div class=lead>The symmetry module contains code related to point and space group symmetry.</div><p>Here we encode all information about the crystallographic point groups. In the near future, we will add space
group information here as well.</p><h2 id=cornwell_group_matrices>Cornwell_group_matrices<a class=td-heading-self-link href=#cornwell_group_matrices aria-label="Heading self-link"></a></h2><h2 id=cornwell_point_group>Cornwell_point_group<a class=td-heading-self-link href=#cornwell_point_group aria-label="Heading self-link"></a></h2><h2 id=pointgroup>PointGroup<a class=td-heading-self-link href=#pointgroup aria-label="Heading self-link"></a></h2><h2 id=get_little_group>get_little_group<a class=td-heading-self-link href=#get_little_group aria-label="Heading self-link"></a></h2></div><div class=td-content style=page-break-before:always><h1 id=pg-5ffb1c88cdc2294a12d69301e31832b9>5.3 - Representation</h1><div class=lead>Build representation of group and decompose into irreducible representations.</div><p>This module contains all classes relevant to building a representation of a group,
finding the composition in terms of irreducible representations, and building irreducible
vectors.</p><h2 id=baserepresentation>BaseRepresentation<a class=td-heading-self-link href=#baserepresentation aria-label="Heading self-link"></a></h2><h2 id=charmblochrep>CharmBlochRep<a class=td-heading-self-link href=#charmblochrep aria-label="Heading self-link"></a></h2><h2 id=shiftmode>ShiftMode<a class=td-heading-self-link href=#shiftmode aria-label="Heading self-link"></a></h2><h2 id=clusterrep>ClusterRep<a class=td-heading-self-link href=#clusterrep aria-label="Heading self-link"></a></h2><h2 id=dispclusterrep>DispClusterRep<a class=td-heading-self-link href=#dispclusterrep aria-label="Heading self-link"></a></h2><h2 id=singletensorrep>SingleTensorRep<a class=td-heading-self-link href=#singletensorrep aria-label="Heading self-link"></a></h2><h2 id=directproduct>DirectProduct<a class=td-heading-self-link href=#directproduct aria-label="Heading self-link"></a></h2><h2 id=symmetricdirectproduct>SymmetricDirectProduct<a class=td-heading-self-link href=#symmetricdirectproduct aria-label="Heading self-link"></a></h2><h2 id=starcharmblochrep-and-stars>StarCharmBlochRep and Stars<a class=td-heading-self-link href=#starcharmblochrep-and-stars aria-label="Heading self-link"></a></h2><h2 id=productofqirreps>ProductofQIrreps<a class=td-heading-self-link href=#productofqirreps aria-label="Heading self-link"></a></h2><h2 id=symmetricproductofqirreps>SymmetricProductofQIrreps<a class=td-heading-self-link href=#symmetricproductofqirreps aria-label="Heading self-link"></a></h2><h2 id=qstarrep>QStarRep<a class=td-heading-self-link href=#qstarrep aria-label="Heading self-link"></a></h2><h2 id=symmetricqstarrep>SymmetricQStarRep<a class=td-heading-self-link href=#symmetricqstarrep aria-label="Heading self-link"></a></h2></div><div class=td-content style=page-break-before:always><h1 id=pg-c773bcf6d74459c11261f79f021e1510>5.4 - Finite Difference</h1><div class=lead>This module sets up arbitrary order finite difference calculations for an arbitrary number of variables.</div><p>Finite difference is used to compute phonons and phonon interactions in PM, and this module isolates
all the tasks associated with performing finite difference. Here we give some examples to illustrate
the key features.</p><p>Let us consider a potential with three variables, labeled 0, 1, 2, and set up all derivatives
to second order.
Begin by instantiating the class:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;&gt;&gt;</span> <span style=color:#204a87;font-weight:700>from</span> <span style=color:#000>principia_materia.finite_difference.finite_difference_np</span> <span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>FiniteDifferenceNP</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;&gt;&gt;</span> <span style=color:#000>fd</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000>FiniteDifferenceNP</span><span style=color:#000;font-weight:700>()</span>
</span></span></code></pre></div><p>Set all the derivatives to be evaluated:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;&gt;&gt;</span> <span style=color:#000>fd</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>set_deriv</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>varset</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000;font-weight:700>[[</span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>],[</span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>],[</span><span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>],[</span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>,</span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>],[</span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>,</span><span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>],[</span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>,</span><span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>]],</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>...</span>              <span style=color:#000>ordset</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000;font-weight:700>[[</span><span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>],[</span><span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>],[</span><span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>],[</span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>,</span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>],[</span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>,</span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>],[</span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>,</span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>]])</span>
</span></span></code></pre></div><p>Set the deltas to be the same for all variables and setup the finite
difference amplitudes:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;&gt;&gt;</span> <span style=color:#000>fd</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>set_delta_global</span><span style=color:#000;font-weight:700>([</span><span style=color:#0000cf;font-weight:700>0.01</span><span style=color:#000;font-weight:700>,</span><span style=color:#0000cf;font-weight:700>0.02</span><span style=color:#000;font-weight:700>])</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;&gt;&gt;</span> <span style=color:#000>fd</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>setup_amplitude</span><span style=color:#000;font-weight:700>()</span>
</span></span></code></pre></div><p>We now have all the information we need to perform finite difference. For example, all amplitudes associated with a given set of variables is retrieved as:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;&gt;&gt;</span> <span style=color:#204a87>print</span> <span style=color:#000;font-weight:700>(</span><span style=color:#000>fd</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>get_var_amplitude</span><span style=color:#000;font-weight:700>([</span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>,</span><span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>]))</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>[[</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>0.02</span> <span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>0.02</span><span style=color:#000;font-weight:700>]</span>
</span></span><span style=display:flex><span> <span style=color:#000;font-weight:700>[</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>0.02</span>  <span style=color:#0000cf;font-weight:700>0.02</span><span style=color:#000;font-weight:700>]</span>
</span></span><span style=display:flex><span> <span style=color:#000;font-weight:700>[</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>0.01</span> <span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>0.01</span><span style=color:#000;font-weight:700>]</span>
</span></span><span style=display:flex><span> <span style=color:#000;font-weight:700>[</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>0.01</span>  <span style=color:#0000cf;font-weight:700>0.01</span><span style=color:#000;font-weight:700>]</span>
</span></span><span style=display:flex><span> <span style=color:#000;font-weight:700>[</span> <span style=color:#0000cf;font-weight:700>0.01</span> <span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>0.01</span><span style=color:#000;font-weight:700>]</span>
</span></span><span style=display:flex><span> <span style=color:#000;font-weight:700>[</span> <span style=color:#0000cf;font-weight:700>0.01</span>  <span style=color:#0000cf;font-weight:700>0.01</span><span style=color:#000;font-weight:700>]</span>
</span></span><span style=display:flex><span> <span style=color:#000;font-weight:700>[</span> <span style=color:#0000cf;font-weight:700>0.02</span> <span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>0.02</span><span style=color:#000;font-weight:700>]</span>
</span></span><span style=display:flex><span> <span style=color:#000;font-weight:700>[</span> <span style=color:#0000cf;font-weight:700>0.02</span>  <span style=color:#0000cf;font-weight:700>0.02</span><span style=color:#000;font-weight:700>]]</span>
</span></span></code></pre></div><p>In more complicated scenarios, the same amplitudes would appear multiple times, but this class
accounts for that when making a final list of amplitudes.
Take the following example containing second and fourth derivatives:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;&gt;&gt;</span> <span style=color:#000>fd</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>set_deriv</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>varset</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000;font-weight:700>[[</span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>,</span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>],[</span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>,</span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>]],</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>...</span>              <span style=color:#000>ordset</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000;font-weight:700>[[</span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>,</span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>],[</span><span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>,</span><span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>]])</span>
</span></span></code></pre></div><p>Inspecting the list of amplitudes for variable <code>[0,1]</code>, we see:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;&gt;&gt;</span> <span style=color:#204a87>print</span> <span style=color:#000;font-weight:700>(</span><span style=color:#000>fd</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>get_var_amplitude</span><span style=color:#000;font-weight:700>([</span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>,</span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>]))</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>[[</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>0.02</span> <span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>0.02</span><span style=color:#000;font-weight:700>]</span>
</span></span><span style=display:flex><span> <span style=color:#000;font-weight:700>[</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>0.02</span>  <span style=color:#0000cf;font-weight:700>0.02</span><span style=color:#000;font-weight:700>]</span>
</span></span><span style=display:flex><span> <span style=color:#000;font-weight:700>[</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>0.01</span> <span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>0.01</span><span style=color:#000;font-weight:700>]</span>
</span></span><span style=display:flex><span> <span style=color:#000;font-weight:700>[</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>0.01</span>  <span style=color:#0000cf;font-weight:700>0.01</span><span style=color:#000;font-weight:700>]</span>
</span></span><span style=display:flex><span> <span style=color:#000;font-weight:700>[</span> <span style=color:#0000cf;font-weight:700>0.01</span> <span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>0.01</span><span style=color:#000;font-weight:700>]</span>
</span></span><span style=display:flex><span> <span style=color:#000;font-weight:700>[</span> <span style=color:#0000cf;font-weight:700>0.01</span>  <span style=color:#0000cf;font-weight:700>0.01</span><span style=color:#000;font-weight:700>]</span>
</span></span><span style=display:flex><span> <span style=color:#000;font-weight:700>[</span> <span style=color:#0000cf;font-weight:700>0.02</span> <span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>0.02</span><span style=color:#000;font-weight:700>]</span>
</span></span><span style=display:flex><span> <span style=color:#000;font-weight:700>[</span> <span style=color:#0000cf;font-weight:700>0.02</span>  <span style=color:#0000cf;font-weight:700>0.02</span><span style=color:#000;font-weight:700>]</span>
</span></span><span style=display:flex><span> <span style=color:#000;font-weight:700>[</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>0.04</span> <span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>0.04</span><span style=color:#000;font-weight:700>]</span>
</span></span><span style=display:flex><span> <span style=color:#000;font-weight:700>[</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>0.04</span>  <span style=color:#0000cf;font-weight:700>0.04</span><span style=color:#000;font-weight:700>]</span>
</span></span><span style=display:flex><span> <span style=color:#000;font-weight:700>[</span> <span style=color:#0000cf;font-weight:700>0.04</span> <span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>0.04</span><span style=color:#000;font-weight:700>]</span>
</span></span><span style=display:flex><span> <span style=color:#000;font-weight:700>[</span> <span style=color:#0000cf;font-weight:700>0.04</span>  <span style=color:#0000cf;font-weight:700>0.04</span><span style=color:#000;font-weight:700>]]</span>
</span></span></code></pre></div><p>The same amplitudes are used for both the second and fourth derivatives, and
the class is aware of this. Additionally, the fourth
derivatives will need cases where one amplitude is zero, which do not appear.
In this case, the class creates a new variable sets <code>[0]</code> and <code>[1]</code> that contain
these amplitudes. For example,</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;&gt;&gt;</span> <span style=color:#204a87>print</span> <span style=color:#000;font-weight:700>(</span><span style=color:#000>fd</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>get_var_amplitude</span><span style=color:#000;font-weight:700>([</span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>]))</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>[[</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>0.04</span><span style=color:#000;font-weight:700>]</span>
</span></span><span style=display:flex><span> <span style=color:#000;font-weight:700>[</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>0.02</span><span style=color:#000;font-weight:700>]</span>
</span></span><span style=display:flex><span> <span style=color:#000;font-weight:700>[</span> <span style=color:#0000cf;font-weight:700>0.02</span><span style=color:#000;font-weight:700>]</span>
</span></span><span style=display:flex><span> <span style=color:#000;font-weight:700>[</span> <span style=color:#0000cf;font-weight:700>0.04</span><span style=color:#000;font-weight:700>]]</span>
</span></span></code></pre></div></div><div class=td-content style=page-break-before:always><h1 id=pg-188436dc90e1e3110a757e1b8e1b2abe>6 - Data Management</h1><div class=lead>How PM handles data that it intakes and generates.</div><p>PM deals with varied data sets, some of which is read in from other sources and some of which is generated.</p></div><div class=td-content><h1 id=pg-7c139c61a1c91f89d3a98de6c680e5ff>6.1 - Data Wrapper</h1><div class=lead>PM uses DataWrapper for enforcing the type of input data and the convention for output data.</div><p>Like many python-based application, PM will need to take input data from the command line
and YAML input files. A mechanism is needed to enforce the data type of the input data,
and possibly do some preprocessing of the data. Additionally, data will needed to be output
in various formats, and some postprocessing of the data may be needed when creating output.
The DataWrapper class is one means that PM uses to handle these tasks. Here we illustrate
the basic usage of DataWrapper.</p></div><div class=td-content style=page-break-before:always><h1 id=pg-b6a6003ea6b9887353c99c898271fbad>6.2 - Database</h1><div class=lead>PM uses a sqlite database to store information related to first-principles calculations.</div></div><div class=td-content style=page-break-before:always><h1 id=pg-830f5c42d2c29952494398c4c3770c95>6.3 - hdf5</h1><div class=lead>PM uses hdf files to store irreducible derivatives, force tensors, etc.</div></div><div class=td-content style=page-break-before:always><h1 id=pg-52225ffd57b6b5e354b3c6d0ddb4012e>7 - Unit Testing</h1><div class=lead>Unit testing PM.</div><p>Here we document how unit testing is performed for PM, and provide an overview of what sort of tests are performed.
Unit tests for PM are stored in a separate repository called <a href=https://github.com/marianettigroup/principia-materia-tests>principia-materia-tests</a>.</p><p>PM performs unit testing with <a href=https://docs.pytest.org/en/7.2.x/contents.html>Pytest</a>, which is a standard framework for unit testing within python. All unit tests may be run by going into the repo, installing the required dependencies, and executing <code>pytest</code>.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>git clone git@github.com:marianettigroup/principia-materia-tests.git
</span></span><span style=display:flex><span><span style=color:#204a87>cd</span> principia-materia-test
</span></span><span style=display:flex><span>pip install requirements.txt
</span></span><span style=display:flex><span>pytest
</span></span></code></pre></div><p>An individual test can be run by changing into a directory and running pytest on a specific test.
For example,</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#204a87>cd</span> tests/translation_group
</span></span><span style=display:flex><span>pytest test_translation_group.py
</span></span></code></pre></div></div><div class=td-content style=page-break-before:always><h1 id=pg-043610093194cf60e3758f9f695c73cb>8 - API References</h1><div class=lead>API References for Principia Materia package</div><h1 id=principia_materia-package>principia_materia package<a class=td-heading-self-link href=#principia_materia-package aria-label="Heading self-link"></a></h1><ul><li><p><a href=/docs/references/principia_materia.translation_group.html>principia_materia.translation_group package</a></p><ul><li><p><a href=/docs/references/principia_materia.translation_group.html#submodules>Submodules</a></p><ul><li><p><a href=/docs/references/principia_materia.translation_group.cluster.html>principia_materia.translation_group.cluster module</a></p><ul><li><p><a href=/docs/references/principia_materia.translation_group.cluster.html#principia_materia.translation_group.cluster.Cluster><code>Cluster</code></a></p></li><li><p><a href=/docs/references/principia_materia.translation_group.cluster.html#principia_materia.translation_group.cluster.get_cluster_io_wrapper><code>get_cluster_io_wrapper()</code></a></p></li></ul></li><li><p><a href=/docs/references/principia_materia.translation_group.crystal.html>principia_materia.translation_group.crystal module</a></p><ul><li><p><a href=/docs/references/principia_materia.translation_group.crystal.html#principia_materia.translation_group.crystal.Crystal><code>Crystal</code></a></p></li><li><p><a href=/docs/references/principia_materia.translation_group.crystal.html#principia_materia.translation_group.crystal.get_crystal_io_wrapper><code>get_crystal_io_wrapper()</code></a></p></li></ul></li><li><p><a href=/docs/references/principia_materia.translation_group.crystal_ftg.html>principia_materia.translation_group.crystal_ftg module</a></p><ul><li><p><a href=/docs/references/principia_materia.translation_group.crystal_ftg.html#principia_materia.translation_group.crystal_ftg.CrystalFTG><code>CrystalFTG</code></a></p></li><li><p><a href=/docs/references/principia_materia.translation_group.crystal_ftg.html#principia_materia.translation_group.crystal_ftg.get_crystal_ftg_io_wrapper><code>get_crystal_ftg_io_wrapper()</code></a></p></li></ul></li><li><p><a href=/docs/references/principia_materia.translation_group.kpoints.html>principia_materia.translation_group.kpoints module</a></p><ul><li><p><a href=/docs/references/principia_materia.translation_group.kpoints.html#principia_materia.translation_group.kpoints.Kpoints><code>Kpoints</code></a></p></li><li><p><a href=/docs/references/principia_materia.translation_group.kpoints.html#principia_materia.translation_group.kpoints.get_kpoints_io_wrapper><code>get_kpoints_io_wrapper()</code></a></p></li></ul></li><li><p><a href=/docs/references/principia_materia.translation_group.lattice.html>principia_materia.translation_group.lattice module</a></p><ul><li><p><a href=/docs/references/principia_materia.translation_group.lattice.html#principia_materia.translation_group.lattice.Lattice><code>Lattice</code></a></p></li><li><p><a href=/docs/references/principia_materia.translation_group.lattice.html#principia_materia.translation_group.lattice.get_lattice_io_wrapper><code>get_lattice_io_wrapper()</code></a></p></li></ul></li><li><p><a href=/docs/references/principia_materia.translation_group.lattice_ftg.html>principia_materia.translation_group.lattice_ftg module</a></p><ul><li><p><a href=/docs/references/principia_materia.translation_group.lattice_ftg.html#principia_materia.translation_group.lattice_ftg.LatticeFTG><code>LatticeFTG</code></a></p></li><li><p><a href=/docs/references/principia_materia.translation_group.lattice_ftg.html#principia_materia.translation_group.lattice_ftg.get_lattice_ftg_io_wrapper><code>get_lattice_ftg_io_wrapper()</code></a></p></li><li><p><a href=/docs/references/principia_materia.translation_group.lattice_ftg.html#principia_materia.translation_group.lattice_ftg.get_lattice_points><code>get_lattice_points()</code></a></p></li></ul></li><li><p><a href=/docs/references/principia_materia.translation_group.minimum_supercell.html>principia_materia.translation_group.minimum_supercell module</a></p><ul><li><a href=/docs/references/principia_materia.translation_group.minimum_supercell.html#principia_materia.translation_group.minimum_supercell.get_minimum_supercell><code>get_minimum_supercell()</code></a></li></ul></li><li><p><a href=/docs/references/principia_materia.translation_group.qpoints_n.html>principia_materia.translation_group.qpoints_n module</a></p><ul><li><p><a href=/docs/references/principia_materia.translation_group.qpoints_n.html#principia_materia.translation_group.qpoints_n.QpointsN><code>QpointsN</code></a></p></li><li><p><a href=/docs/references/principia_materia.translation_group.qpoints_n.html#principia_materia.translation_group.qpoints_n.QpointsPerm><code>QpointsPerm</code></a></p></li><li><p><a href=/docs/references/principia_materia.translation_group.qpoints_n.html#principia_materia.translation_group.qpoints_n.get_QpointsN_io_wrapper><code>get_QpointsN_io_wrapper()</code></a></p></li></ul></li><li><p><a href=/docs/references/principia_materia.translation_group.wigner_seitz.html>principia_materia.translation_group.wigner_seitz module</a></p><ul><li><a href=/docs/references/principia_materia.translation_group.wigner_seitz.html#principia_materia.translation_group.wigner_seitz.WignerSeitz><code>WignerSeitz</code></a></li></ul></li></ul></li><li><p><a href=/docs/references/principia_materia.translation_group.html#module-contents>Module contents</a></p><ul><li><p><a href=/docs/references/principia_materia.translation_group.html#principia_materia.translation_group.fit_in_supercell><code>fit_in_supercell()</code></a></p></li><li><p><a href=/docs/references/principia_materia.translation_group.html#principia_materia.translation_group.get_structure><code>get_structure()</code></a></p></li><li><p><a href=/docs/references/principia_materia.translation_group.html#principia_materia.translation_group.register_structure_datawrapper_type><code>register_structure_datawrapper_type()</code></a></p></li><li><p><a href=/docs/references/principia_materia.translation_group.html#principia_materia.translation_group.register_structure_hdf5wrapper_type><code>register_structure_hdf5wrapper_type()</code></a></p></li><li><p><a href=/docs/references/principia_materia.translation_group.html#principia_materia.translation_group.save_structure><code>save_structure()</code></a></p></li></ul></li></ul></li><li><p><a href=/docs/references/principia_materia.representation.html>principia_materia.representation package</a></p><ul><li><p><a href=/docs/references/principia_materia.representation.html#submodules>Submodules</a></p><ul><li><p><a href=/docs/references/principia_materia.representation.base_representation.html>principia_materia.representation.base_representation module</a></p><ul><li><p><a href=/docs/references/principia_materia.representation.base_representation.html#principia_materia.representation.base_representation.BaseRepresentation><code>BaseRepresentation</code></a></p></li><li><p><a href=/docs/references/principia_materia.representation.base_representation.html#principia_materia.representation.base_representation.kronecker_product><code>kronecker_product()</code></a></p></li></ul></li><li><p><a href=/docs/references/principia_materia.representation.charm_bloch_rep.html>principia_materia.representation.charm_bloch_rep module</a></p><ul><li><a href=/docs/references/principia_materia.representation.charm_bloch_rep.html#principia_materia.representation.charm_bloch_rep.CharmBlochRep><code>CharmBlochRep</code></a></li></ul></li><li><p><a href=/docs/references/principia_materia.representation.cluster_rep.html>principia_materia.representation.cluster_rep module</a></p><ul><li><a href=/docs/references/principia_materia.representation.cluster_rep.html#principia_materia.representation.cluster_rep.ClusterRep><code>ClusterRep</code></a></li></ul></li><li><p><a href=/docs/references/principia_materia.representation.direct_product.html>principia_materia.representation.direct_product module</a></p><ul><li><p><a href=/docs/references/principia_materia.representation.direct_product.html#principia_materia.representation.direct_product.DirectProduct><code>DirectProduct</code></a></p></li><li><p><a href=/docs/references/principia_materia.representation.direct_product.html#principia_materia.representation.direct_product.get_irrep_name><code>get_irrep_name()</code></a></p></li></ul></li><li><p><a href=/docs/references/principia_materia.representation.disp_cluster_rep.html>principia_materia.representation.disp_cluster_rep module</a></p><ul><li><a href=/docs/references/principia_materia.representation.disp_cluster_rep.html#principia_materia.representation.disp_cluster_rep.DispClusterRep><code>DispClusterRep</code></a></li></ul></li><li><p><a href=/docs/references/principia_materia.representation.qstar_rep.html>principia_materia.representation.qstar_rep module</a></p><ul><li><p><a href=/docs/references/principia_materia.representation.qstar_rep.html#principia_materia.representation.qstar_rep.QStarRep><code>QStarRep</code></a></p></li><li><p><a href=/docs/references/principia_materia.representation.qstar_rep.html#principia_materia.representation.qstar_rep.SymmetricQStarRep><code>SymmetricQStarRep</code></a></p></li></ul></li><li><p><a href=/docs/references/principia_materia.representation.shift_mode.html>principia_materia.representation.shift_mode module</a></p><ul><li><a href=/docs/references/principia_materia.representation.shift_mode.html#principia_materia.representation.shift_mode.ShiftMode><code>ShiftMode</code></a></li></ul></li><li><p><a href=/docs/references/principia_materia.representation.single_tensor_rep.html>principia_materia.representation.single_tensor_rep module</a></p><ul><li><a href=/docs/references/principia_materia.representation.single_tensor_rep.html#principia_materia.representation.single_tensor_rep.SingleTensorRep><code>SingleTensorRep</code></a></li></ul></li><li><p><a href=/docs/references/principia_materia.representation.symmetric_direct_product.html>principia_materia.representation.symmetric_direct_product module</a></p><ul><li><a href=/docs/references/principia_materia.representation.symmetric_direct_product.html#principia_materia.representation.symmetric_direct_product.SymmetricDirectProduct><code>SymmetricDirectProduct</code></a></li></ul></li></ul></li><li><p><a href=/docs/references/principia_materia.representation.html#module-contents>Module contents</a></p></li></ul></li><li><p><a href=/docs/references/principia_materia.hamiltonian.html>principia_materia.hamiltonian package</a></p><ul><li><p><a href=/docs/references/principia_materia.hamiltonian.html#submodules>Submodules</a></p><ul><li><p><a href=/docs/references/principia_materia.hamiltonian.electron_hamiltonian.html>principia_materia.hamiltonian.electron_hamiltonian module</a></p><ul><li><a href=/docs/references/principia_materia.hamiltonian.electron_hamiltonian.html#principia_materia.hamiltonian.electron_hamiltonian.ElectronHamiltonian><code>ElectronHamiltonian</code></a></li></ul></li><li><p><a href=/docs/references/principia_materia.hamiltonian.hamiltonian.html>principia_materia.hamiltonian.hamiltonian module</a></p><ul><li><a href=/docs/references/principia_materia.hamiltonian.hamiltonian.html#principia_materia.hamiltonian.hamiltonian.Hamiltonian><code>Hamiltonian</code></a></li></ul></li><li><p><a href=/docs/references/principia_materia.hamiltonian.model_hamiltonian.html>principia_materia.hamiltonian.model_hamiltonian module</a></p><ul><li><p><a href=/docs/references/principia_materia.hamiltonian.model_hamiltonian.html#principia_materia.hamiltonian.model_hamiltonian.ModelHamiltonian><code>ModelHamiltonian</code></a></p></li><li><p><a href=/docs/references/principia_materia.hamiltonian.model_hamiltonian.html#principia_materia.hamiltonian.model_hamiltonian.format_hamiltonian_to_yaml><code>format_hamiltonian_to_yaml()</code></a></p></li><li><p><a href=/docs/references/principia_materia.hamiltonian.model_hamiltonian.html#principia_materia.hamiltonian.model_hamiltonian.get_ModelHamiltonian_hdf5_wrapper><code>get_ModelHamiltonian_hdf5_wrapper()</code></a></p></li><li><p><a href=/docs/references/principia_materia.hamiltonian.model_hamiltonian.html#principia_materia.hamiltonian.model_hamiltonian.get_ModelHamiltonian_yaml_wrapper><code>get_ModelHamiltonian_yaml_wrapper()</code></a></p></li><li><p><a href=/docs/references/principia_materia.hamiltonian.model_hamiltonian.html#principia_materia.hamiltonian.model_hamiltonian.get_modelhamiltonian_from_hdf5><code>get_modelhamiltonian_from_hdf5()</code></a></p></li><li><p><a href=/docs/references/principia_materia.hamiltonian.model_hamiltonian.html#principia_materia.hamiltonian.model_hamiltonian.get_modelhamiltonian_from_yaml><code>get_modelhamiltonian_from_yaml()</code></a></p></li><li><p><a href=/docs/references/principia_materia.hamiltonian.model_hamiltonian.html#principia_materia.hamiltonian.model_hamiltonian.load_hamiltonian><code>load_hamiltonian()</code></a></p></li><li><p><a href=/docs/references/principia_materia.hamiltonian.model_hamiltonian.html#principia_materia.hamiltonian.model_hamiltonian.save_modelhamiltonian_to_hdf5><code>save_modelhamiltonian_to_hdf5()</code></a></p></li><li><p><a href=/docs/references/principia_materia.hamiltonian.model_hamiltonian.html#principia_materia.hamiltonian.model_hamiltonian.save_modelhamiltonian_to_yaml><code>save_modelhamiltonian_to_yaml()</code></a></p></li></ul></li><li><p><a href=/docs/references/principia_materia.hamiltonian.phonon_hamiltonian.html>principia_materia.hamiltonian.phonon_hamiltonian module</a></p><ul><li><a href=/docs/references/principia_materia.hamiltonian.phonon_hamiltonian.html#principia_materia.hamiltonian.phonon_hamiltonian.PhononHamiltonian><code>PhononHamiltonian</code></a></li></ul></li></ul></li><li><p><a href=/docs/references/principia_materia.hamiltonian.html#module-contents>Module contents</a></p></li></ul></li><li><p><a href=/docs/references/principia_materia.io_interface.html>principia_materia.io_interface package</a></p><ul><li><p><a href=/docs/references/principia_materia.io_interface.html#submodules>Submodules</a></p><ul><li><p><a href=/docs/references/principia_materia.io_interface.array_io.html>principia_materia.io_interface.array_io module</a></p></li><li><p><a href=/docs/references/principia_materia.io_interface.base_data_wrapper.html>principia_materia.io_interface.base_data_wrapper module</a></p><ul><li><a href=/docs/references/principia_materia.io_interface.base_data_wrapper.html#principia_materia.io_interface.base_data_wrapper.BaseDataWrapper><code>BaseDataWrapper</code></a></li></ul></li><li><p><a href=/docs/references/principia_materia.io_interface.compute_job.html>principia_materia.io_interface.compute_job module</a></p><ul><li><a href=/docs/references/principia_materia.io_interface.compute_job.html#principia_materia.io_interface.compute_job.ComputeJob><code>ComputeJob</code></a></li></ul></li><li><p><a href=/docs/references/principia_materia.io_interface.compute_job_series.html>principia_materia.io_interface.compute_job_series module</a></p><ul><li><a href=/docs/references/principia_materia.io_interface.compute_job_series.html#principia_materia.io_interface.compute_job_series.ComputeJobSeries><code>ComputeJobSeries</code></a></li></ul></li><li><p><a href=/docs/references/principia_materia.io_interface.data_wrapper.html>principia_materia.io_interface.data_wrapper module</a></p><ul><li><a href=/docs/references/principia_materia.io_interface.data_wrapper.html#principia_materia.io_interface.data_wrapper.DataWrapper><code>DataWrapper</code></a></li></ul></li><li><p><a href=/docs/references/principia_materia.io_interface.hdf5_wrapper.html>principia_materia.io_interface.hdf5_wrapper module</a></p><ul><li><a href=/docs/references/principia_materia.io_interface.hdf5_wrapper.html#principia_materia.io_interface.hdf5_wrapper.HDF5Wrapper><code>HDF5Wrapper</code></a></li></ul></li><li><p><a href=/docs/references/principia_materia.io_interface.jobs_db.html>principia_materia.io_interface.jobs_db module</a></p><ul><li><a href=/docs/references/principia_materia.io_interface.jobs_db.html#principia_materia.io_interface.jobs_db.JobsDB><code>JobsDB</code></a></li></ul></li><li><p><a href=/docs/references/principia_materia.io_interface.qpoints_io.html>principia_materia.io_interface.qpoints_io module</a></p><ul><li><p><a href=/docs/references/principia_materia.io_interface.qpoints_io.html#principia_materia.io_interface.qpoints_io.array_to_list><code>array_to_list()</code></a></p></li><li><p><a href=/docs/references/principia_materia.io_interface.qpoints_io.html#principia_materia.io_interface.qpoints_io.array_to_tuple><code>array_to_tuple()</code></a></p></li></ul></li><li><p><a href=/docs/references/principia_materia.io_interface.vasp.html>principia_materia.io_interface.vasp module</a></p><ul><li><p><a href=/docs/references/principia_materia.io_interface.vasp.html#principia_materia.io_interface.vasp.parse_poscar><code>parse_poscar()</code></a></p></li><li><p><a href=/docs/references/principia_materia.io_interface.vasp.html#principia_materia.io_interface.vasp.write_poscar><code>write_poscar()</code></a></p></li></ul></li><li><p><a href=/docs/references/principia_materia.io_interface.yaml_dump.html>principia_materia.io_interface.yaml_dump module</a></p><ul><li><a href=/docs/references/principia_materia.io_interface.yaml_dump.html#principia_materia.io_interface.yaml_dump.yaml_dumps><code>yaml_dumps()</code></a></li></ul></li></ul></li><li><p><a href=/docs/references/principia_materia.io_interface.html#module-contents>Module contents</a></p><ul><li><p><a href=/docs/references/principia_materia.io_interface.html#principia_materia.io_interface.format_tensor><code>format_tensor()</code></a></p></li><li><p><a href=/docs/references/principia_materia.io_interface.html#principia_materia.io_interface.get_compute_engine_map><code>get_compute_engine_map()</code></a></p></li><li><p><a href=/docs/references/principia_materia.io_interface.html#principia_materia.io_interface.indent><code>indent()</code></a></p></li><li><p><a href=/docs/references/principia_materia.io_interface.html#principia_materia.io_interface.jobs_series_to_jobs_db><code>jobs_series_to_jobs_db()</code></a></p></li><li><p><a href=/docs/references/principia_materia.io_interface.html#principia_materia.io_interface.tuple_to_str><code>tuple_to_str()</code></a></p></li></ul></li></ul></li><li><p><a href=/docs/references/principia_materia.mathematics.html>principia_materia.mathematics package</a></p><ul><li><p><a href=/docs/references/principia_materia.mathematics.html#submodules>Submodules</a></p><ul><li><p><a href=/docs/references/principia_materia.mathematics.array_utils.html>principia_materia.mathematics.array_utils module</a></p><ul><li><p><a href=/docs/references/principia_materia.mathematics.array_utils.html#principia_materia.mathematics.array_utils.array_in_2darray><code>array_in_2darray()</code></a></p></li><li><p><a href=/docs/references/principia_materia.mathematics.array_utils.html#principia_materia.mathematics.array_utils.index_array_in_array><code>index_array_in_array()</code></a></p></li></ul></li><li><p><a href=/docs/references/principia_materia.mathematics.core_math.html>principia_materia.mathematics.core_math module</a></p><ul><li><p><a href=/docs/references/principia_materia.mathematics.core_math.html#principia_materia.mathematics.core_math.gaussian><code>gaussian()</code></a></p></li><li><p><a href=/docs/references/principia_materia.mathematics.core_math.html#principia_materia.mathematics.core_math.gs_orthog><code>gs_orthog()</code></a></p></li></ul></li><li><p><a href=/docs/references/principia_materia.mathematics.errortail.html>principia_materia.mathematics.errortail module</a></p><ul><li><p><a href=/docs/references/principia_materia.mathematics.errortail.html#principia_materia.mathematics.errortail.fit_errortail><code>fit_errortail()</code></a></p></li><li><p><a href=/docs/references/principia_materia.mathematics.errortail.html#principia_materia.mathematics.errortail.generate_picks><code>generate_picks()</code></a></p></li><li><p><a href=/docs/references/principia_materia.mathematics.errortail.html#principia_materia.mathematics.errortail.get_errortail><code>get_errortail()</code></a></p></li><li><p><a href=/docs/references/principia_materia.mathematics.errortail.html#principia_materia.mathematics.errortail.get_errortail_yaml_wrapper><code>get_errortail_yaml_wrapper()</code></a></p></li><li><p><a href=/docs/references/principia_materia.mathematics.errortail.html#principia_materia.mathematics.errortail.least_square><code>least_square()</code></a></p></li><li><p><a href=/docs/references/principia_materia.mathematics.errortail.html#principia_materia.mathematics.errortail.penalty_linear_mse><code>penalty_linear_mse()</code></a></p></li><li><p><a href=/docs/references/principia_materia.mathematics.errortail.html#principia_materia.mathematics.errortail.penalty_sqrt_mse><code>penalty_sqrt_mse()</code></a></p></li><li><p><a href=/docs/references/principia_materia.mathematics.errortail.html#principia_materia.mathematics.errortail.penalty_square_mse><code>penalty_square_mse()</code></a></p></li></ul></li><li><p><a href=/docs/references/principia_materia.mathematics.finite_difference.html>principia_materia.mathematics.finite_difference module</a></p><ul><li><a href=/docs/references/principia_materia.mathematics.finite_difference.html#principia_materia.mathematics.finite_difference.FiniteDifference><code>FiniteDifference</code></a></li></ul></li><li><p><a href=/docs/references/principia_materia.mathematics.fourier_transform.html>principia_materia.mathematics.fourier_transform module</a></p><ul><li><p><a href=/docs/references/principia_materia.mathematics.fourier_transform.html#principia_materia.mathematics.fourier_transform.backward_fourier_transform><code>backward_fourier_transform()</code></a></p></li><li><p><a href=/docs/references/principia_materia.mathematics.fourier_transform.html#principia_materia.mathematics.fourier_transform.forward_fourier_transform><code>forward_fourier_transform()</code></a></p></li></ul></li><li><p><a href=/docs/references/principia_materia.mathematics.new_fraction.html>principia_materia.mathematics.new_fraction module</a></p><ul><li><a href=/docs/references/principia_materia.mathematics.new_fraction.html#principia_materia.mathematics.new_fraction.Fraction><code>Fraction</code></a></li></ul></li><li><p><a href=/docs/references/principia_materia.mathematics.smith_normal_form.html>principia_materia.mathematics.smith_normal_form module</a></p><ul><li><p><a href=/docs/references/principia_materia.mathematics.smith_normal_form.html#principia_materia.mathematics.smith_normal_form.DiagonalForm><code>DiagonalForm()</code></a></p></li><li><p><a href=/docs/references/principia_materia.mathematics.smith_normal_form.html#principia_materia.mathematics.smith_normal_form.HermiteNormalForm_AU><code>HermiteNormalForm_AU()</code></a></p></li><li><p><a href=/docs/references/principia_materia.mathematics.smith_normal_form.html#principia_materia.mathematics.smith_normal_form.HermiteNormalForm_UA><code>HermiteNormalForm_UA()</code></a></p></li><li><p><a href=/docs/references/principia_materia.mathematics.smith_normal_form.html#principia_materia.mathematics.smith_normal_form.SmithNormalForm><code>SmithNormalForm()</code></a></p></li></ul></li><li><p><a href=/docs/references/principia_materia.mathematics.tensor_utils.html>principia_materia.mathematics.tensor_utils module</a></p><ul><li><p><a href=/docs/references/principia_materia.mathematics.tensor_utils.html#principia_materia.mathematics.tensor_utils.find_linearly_independent_vectors><code>find_linearly_independent_vectors()</code></a></p></li><li><p><a href=/docs/references/principia_materia.mathematics.tensor_utils.html#principia_materia.mathematics.tensor_utils.find_most_linearly_independent_rows><code>find_most_linearly_independent_rows()</code></a></p></li><li><p><a href=/docs/references/principia_materia.mathematics.tensor_utils.html#principia_materia.mathematics.tensor_utils.rotate_tensor><code>rotate_tensor()</code></a></p></li></ul></li></ul></li><li><p><a href=/docs/references/principia_materia.mathematics.html#module-contents>Module contents</a></p><ul><li><a href=/docs/references/principia_materia.mathematics.html#principia_materia.mathematics.int_det><code>int_det()</code></a></li></ul></li></ul></li><li><p><a href=/docs/references/principia_materia.phonon_id.html>principia_materia.phonon_id package</a></p><ul><li><p><a href=/docs/references/principia_materia.phonon_id.html#submodules>Submodules</a></p><ul><li><p><a href=/docs/references/principia_materia.phonon_id.analytic_dynamic_tensor.html>principia_materia.phonon_id.analytic_dynamic_tensor module</a></p><ul><li><p><a href=/docs/references/principia_materia.phonon_id.analytic_dynamic_tensor.html#principia_materia.phonon_id.analytic_dynamic_tensor.AnalyticDynamicTensor><code>AnalyticDynamicTensor</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.analytic_dynamic_tensor.html#principia_materia.phonon_id.analytic_dynamic_tensor.get_AnalyticDynamicTensor_hdf5_wrapper><code>get_AnalyticDynamicTensor_hdf5_wrapper()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.analytic_dynamic_tensor.html#principia_materia.phonon_id.analytic_dynamic_tensor.get_IrreducibleDerivatives_hdf5_wrapper><code>get_IrreducibleDerivatives_hdf5_wrapper()</code></a></p></li></ul></li><li><p><a href=/docs/references/principia_materia.phonon_id.analytic_strain_tensor.html>principia_materia.phonon_id.analytic_strain_tensor module</a></p><ul><li><a href=/docs/references/principia_materia.phonon_id.analytic_strain_tensor.html#principia_materia.phonon_id.analytic_strain_tensor.AnalyticStrainTensor><code>AnalyticStrainTensor</code></a></li></ul></li><li><p><a href=/docs/references/principia_materia.phonon_id.analytic_tensors.html>principia_materia.phonon_id.analytic_tensors module</a></p><ul><li><p><a href=/docs/references/principia_materia.phonon_id.analytic_tensors.html#principia_materia.phonon_id.analytic_tensors.AnalyticTensors><code>AnalyticTensors</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.analytic_tensors.html#principia_materia.phonon_id.analytic_tensors.get_AnalyticTensors_from_hdf5><code>get_AnalyticTensors_from_hdf5()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.analytic_tensors.html#principia_materia.phonon_id.analytic_tensors.get_AnalyticTensors_hdf5_wrapper><code>get_AnalyticTensors_hdf5_wrapper()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.analytic_tensors.html#principia_materia.phonon_id.analytic_tensors.save_AnalyticTensors_to_hdf5><code>save_AnalyticTensors_to_hdf5()</code></a></p></li></ul></li><li><p><a href=/docs/references/principia_materia.phonon_id.anharmonic_interpolation.html>principia_materia.phonon_id.anharmonic_interpolation module</a></p><ul><li><p><a href=/docs/references/principia_materia.phonon_id.anharmonic_interpolation.html#principia_materia.phonon_id.anharmonic_interpolation.AnharmincInterpolation><code>AnharmincInterpolation</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.anharmonic_interpolation.html#principia_materia.phonon_id.anharmonic_interpolation.mode_heat_capacuty><code>mode_heat_capacuty()</code></a></p></li></ul></li><li><p><a href=/docs/references/principia_materia.phonon_id.bid.html>principia_materia.phonon_id.bid module</a></p><ul><li><p><a href=/docs/references/principia_materia.phonon_id.bid.html#principia_materia.phonon_id.bid.BID><code>BID</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.bid.html#principia_materia.phonon_id.bid.DisplacementGenerator><code>DisplacementGenerator</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.bid.html#principia_materia.phonon_id.bid.RandomDisplacementGenerator><code>RandomDisplacementGenerator</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.bid.html#principia_materia.phonon_id.bid.format_measurement_label><code>format_measurement_label()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.bid.html#principia_materia.phonon_id.bid.get_BID_from_hdf5><code>get_BID_from_hdf5()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.bid.html#principia_materia.phonon_id.bid.get_BID_hdf5_wrapper><code>get_BID_hdf5_wrapper()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.bid.html#principia_materia.phonon_id.bid.save_BID_to_hdf5><code>save_BID_to_hdf5()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.bid.html#principia_materia.phonon_id.bid.save_bid_errortails><code>save_bid_errortails()</code></a></p></li></ul></li><li><p><a href=/docs/references/principia_materia.phonon_id.chainrule_derivatives.html>principia_materia.phonon_id.chainrule_derivatives module</a></p><ul><li><p><a href=/docs/references/principia_materia.phonon_id.chainrule_derivatives.html#principia_materia.phonon_id.chainrule_derivatives.ChainruleDerivatives><code>ChainruleDerivatives</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.chainrule_derivatives.html#principia_materia.phonon_id.chainrule_derivatives.get_ChainruleDerivatives_from_hdf5><code>get_ChainruleDerivatives_from_hdf5()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.chainrule_derivatives.html#principia_materia.phonon_id.chainrule_derivatives.get_ChainruleDerivatives_hdf5_wrapper><code>get_ChainruleDerivatives_hdf5_wrapper()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.chainrule_derivatives.html#principia_materia.phonon_id.chainrule_derivatives.save_ChainruleDerivatives_to_hdf5><code>save_ChainruleDerivatives_to_hdf5()</code></a></p></li></ul></li><li><p><a href=/docs/references/principia_materia.phonon_id.conductivity.html>principia_materia.phonon_id.conductivity module</a></p><ul><li><p><a href=/docs/references/principia_materia.phonon_id.conductivity.html#principia_materia.phonon_id.conductivity.Conductivity><code>Conductivity</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.conductivity.html#principia_materia.phonon_id.conductivity.bedist><code>bedist()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.conductivity.html#principia_materia.phonon_id.conductivity.reciprocal><code>reciprocal()</code></a></p></li></ul></li><li><p><a href=/docs/references/principia_materia.phonon_id.dipole_dipole.html>principia_materia.phonon_id.dipole_dipole module</a></p><ul><li><p><a href=/docs/references/principia_materia.phonon_id.dipole_dipole.html#principia_materia.phonon_id.dipole_dipole.DipoleDipole><code>DipoleDipole</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.dipole_dipole.html#principia_materia.phonon_id.dipole_dipole.get_DipoleDipole_from_yaml><code>get_DipoleDipole_from_yaml()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.dipole_dipole.html#principia_materia.phonon_id.dipole_dipole.get_dipole_dataset_yaml_wrapper><code>get_dipole_dataset_yaml_wrapper()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.dipole_dipole.html#principia_materia.phonon_id.dipole_dipole.save_DipoleDipole_to_yaml><code>save_DipoleDipole_to_yaml()</code></a></p></li></ul></li><li><p><a href=/docs/references/principia_materia.phonon_id.dynamic_tensors.html>principia_materia.phonon_id.dynamic_tensors module</a></p><ul><li><p><a href=/docs/references/principia_materia.phonon_id.dynamic_tensors.html#principia_materia.phonon_id.dynamic_tensors.DynamicTensors><code>DynamicTensors</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.dynamic_tensors.html#principia_materia.phonon_id.dynamic_tensors.get_DynamicTensors_from_hdf5><code>get_DynamicTensors_from_hdf5()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.dynamic_tensors.html#principia_materia.phonon_id.dynamic_tensors.get_DynamicTensors_hdf5_wrapper><code>get_DynamicTensors_hdf5_wrapper()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.dynamic_tensors.html#principia_materia.phonon_id.dynamic_tensors.save_DynamicTensors_to_hdf5><code>save_DynamicTensors_to_hdf5()</code></a></p></li></ul></li><li><p><a href=/docs/references/principia_materia.phonon_id.fd_series.html>principia_materia.phonon_id.fd_series module</a></p><ul><li><p><a href=/docs/references/principia_materia.phonon_id.fd_series.html#principia_materia.phonon_id.fd_series.FDSeries><code>FDSeries</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.fd_series.html#principia_materia.phonon_id.fd_series.format_delta_dirname><code>format_delta_dirname()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.fd_series.html#principia_materia.phonon_id.fd_series.get_FDSeries_from_hdf5><code>get_FDSeries_from_hdf5()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.fd_series.html#principia_materia.phonon_id.fd_series.get_FDSeries_hdf5_wrapper><code>get_FDSeries_hdf5_wrapper()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.fd_series.html#principia_materia.phonon_id.fd_series.get_FDSeries_results_hdf5_wrapper><code>get_FDSeries_results_hdf5_wrapper()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.fd_series.html#principia_materia.phonon_id.fd_series.save_FDSeries_results_to_hdf5><code>save_FDSeries_results_to_hdf5()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.fd_series.html#principia_materia.phonon_id.fd_series.save_FDSeries_to_hdf5><code>save_FDSeries_to_hdf5()</code></a></p></li></ul></li><li><p><a href=/docs/references/principia_materia.phonon_id.finite_displacements.html>principia_materia.phonon_id.finite_displacements module</a></p><ul><li><p><a href=/docs/references/principia_materia.phonon_id.finite_displacements.html#principia_materia.phonon_id.finite_displacements.FiniteDisplacements><code>FiniteDisplacements</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.finite_displacements.html#principia_materia.phonon_id.finite_displacements.get_FD_from_configuration><code>get_FD_from_configuration()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.finite_displacements.html#principia_materia.phonon_id.finite_displacements.get_fd_config_hdf5_wrapper><code>get_fd_config_hdf5_wrapper()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.finite_displacements.html#principia_materia.phonon_id.finite_displacements.get_fd_config_yaml_wrapper><code>get_fd_config_yaml_wrapper()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.finite_displacements.html#principia_materia.phonon_id.finite_displacements.get_fd_results_hdf5_wrapper><code>get_fd_results_hdf5_wrapper()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.finite_displacements.html#principia_materia.phonon_id.finite_displacements.get_fd_results_yaml_wrapper><code>get_fd_results_yaml_wrapper()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.finite_displacements.html#principia_materia.phonon_id.finite_displacements.save_FD_config_to_hdf5><code>save_FD_config_to_hdf5()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.finite_displacements.html#principia_materia.phonon_id.finite_displacements.save_FD_config_to_yaml><code>save_FD_config_to_yaml()</code></a></p></li></ul></li><li><p><a href=/docs/references/principia_materia.phonon_id.fourier_interpolation.html>principia_materia.phonon_id.fourier_interpolation module</a></p><ul><li><p><a href=/docs/references/principia_materia.phonon_id.fourier_interpolation.html#principia_materia.phonon_id.fourier_interpolation.FourierInterpolation><code>FourierInterpolation</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.fourier_interpolation.html#principia_materia.phonon_id.fourier_interpolation.get_FourierInterpolation_from_hdf5><code>get_FourierInterpolation_from_hdf5()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.fourier_interpolation.html#principia_materia.phonon_id.fourier_interpolation.get_FourierInterpolation_hdf5_wrapper><code>get_FourierInterpolation_hdf5_wrapper()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.fourier_interpolation.html#principia_materia.phonon_id.fourier_interpolation.save_FourierInterpolation_to_hdf5><code>save_FourierInterpolation_to_hdf5()</code></a></p></li></ul></li><li><p><a href=/docs/references/principia_materia.phonon_id.frozen_phonons.html>principia_materia.phonon_id.frozen_phonons module</a></p><ul><li><p><a href=/docs/references/principia_materia.phonon_id.frozen_phonons.html#principia_materia.phonon_id.frozen_phonons.FrozenPhonons><code>FrozenPhonons</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.frozen_phonons.html#principia_materia.phonon_id.frozen_phonons.LoneQ_FP><code>LoneQ_FP</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.frozen_phonons.html#principia_materia.phonon_id.frozen_phonons.find_realspace_displacements><code>find_realspace_displacements()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.frozen_phonons.html#principia_materia.phonon_id.frozen_phonons.find_unique><code>find_unique()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.frozen_phonons.html#principia_materia.phonon_id.frozen_phonons.format_irrep_instances><code>format_irrep_instances()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.frozen_phonons.html#principia_materia.phonon_id.frozen_phonons.format_measurement_label><code>format_measurement_label()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.frozen_phonons.html#principia_materia.phonon_id.frozen_phonons.get_FrozenPhonons_hdf5_wrapper><code>get_FrozenPhonons_hdf5_wrapper()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.frozen_phonons.html#principia_materia.phonon_id.frozen_phonons.get_LoneQ_from_hdf5><code>get_LoneQ_from_hdf5()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.frozen_phonons.html#principia_materia.phonon_id.frozen_phonons.get_dynamic_tensor_wrapper><code>get_dynamic_tensor_wrapper()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.frozen_phonons.html#principia_materia.phonon_id.frozen_phonons.is_qpoint_real><code>is_qpoint_real()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.frozen_phonons.html#principia_materia.phonon_id.frozen_phonons.load_fp_errortails><code>load_fp_errortails()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.frozen_phonons.html#principia_materia.phonon_id.frozen_phonons.make_displacement_identifier><code>make_displacement_identifier()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.frozen_phonons.html#principia_materia.phonon_id.frozen_phonons.save_LoneQ_to_hdf5><code>save_LoneQ_to_hdf5()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.frozen_phonons.html#principia_materia.phonon_id.frozen_phonons.save_dynamic_tensor_to_hdf5><code>save_dynamic_tensor_to_hdf5()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.frozen_phonons.html#principia_materia.phonon_id.frozen_phonons.save_fp_errortails><code>save_fp_errortails()</code></a></p></li></ul></li><li><p><a href=/docs/references/principia_materia.phonon_id.hsbid.html>principia_materia.phonon_id.hsbid module</a></p><ul><li><p><a href=/docs/references/principia_materia.phonon_id.hsbid.html#principia_materia.phonon_id.hsbid.HSBID><code>HSBID</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.hsbid.html#principia_materia.phonon_id.hsbid.find_hierarchical_supercells><code>find_hierarchical_supercells()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.hsbid.html#principia_materia.phonon_id.hsbid.format_supa_dirname><code>format_supa_dirname()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.hsbid.html#principia_materia.phonon_id.hsbid.get_HSBID_from_hdf5><code>get_HSBID_from_hdf5()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.hsbid.html#principia_materia.phonon_id.hsbid.get_HSBID_hdf5_wrapper><code>get_HSBID_hdf5_wrapper()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.hsbid.html#principia_materia.phonon_id.hsbid.save_HSBID_to_hdf5><code>save_HSBID_to_hdf5()</code></a></p></li></ul></li><li><p><a href=/docs/references/principia_materia.phonon_id.lid.html>principia_materia.phonon_id.lid module</a></p><ul><li><p><a href=/docs/references/principia_materia.phonon_id.lid.html#principia_materia.phonon_id.lid.LoneID_FP><code>LoneID_FP</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.lid.html#principia_materia.phonon_id.lid.get_LoneID_from_hdf5><code>get_LoneID_from_hdf5()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.lid.html#principia_materia.phonon_id.lid.get_LoneID_hdf5_wrapper><code>get_LoneID_hdf5_wrapper()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.lid.html#principia_materia.phonon_id.lid.save_LoneID_to_hdf5><code>save_LoneID_to_hdf5()</code></a></p></li></ul></li><li><p><a href=/docs/references/principia_materia.phonon_id.lid_mesh.html>principia_materia.phonon_id.lid_mesh module</a></p><ul><li><p><a href=/docs/references/principia_materia.phonon_id.lid_mesh.html#principia_materia.phonon_id.lid_mesh.LIDMesh><code>LIDMesh</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.lid_mesh.html#principia_materia.phonon_id.lid_mesh.get_LIDMesh_config_wrapper><code>get_LIDMesh_config_wrapper()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.lid_mesh.html#principia_materia.phonon_id.lid_mesh.get_LIDMesh_from_hdf5><code>get_LIDMesh_from_hdf5()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.lid_mesh.html#principia_materia.phonon_id.lid_mesh.get_LIDMesh_from_yaml><code>get_LIDMesh_from_yaml()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.lid_mesh.html#principia_materia.phonon_id.lid_mesh.get_LIDMesh_hdf5_wrapper><code>get_LIDMesh_hdf5_wrapper()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.lid_mesh.html#principia_materia.phonon_id.lid_mesh.save_LIDMesh_to_hdf5><code>save_LIDMesh_to_hdf5()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.lid_mesh.html#principia_materia.phonon_id.lid_mesh.save_LIDMesh_to_yaml><code>save_LIDMesh_to_yaml()</code></a></p></li></ul></li><li><p><a href=/docs/references/principia_materia.phonon_id.little_group_adt.html>principia_materia.phonon_id.little_group_adt module</a></p><ul><li><p><a href=/docs/references/principia_materia.phonon_id.little_group_adt.html#principia_materia.phonon_id.little_group_adt.LittleGroupADT><code>LittleGroupADT</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.little_group_adt.html#principia_materia.phonon_id.little_group_adt.get_LittleGroupADT_from_hdf5><code>get_LittleGroupADT_from_hdf5()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.little_group_adt.html#principia_materia.phonon_id.little_group_adt.inverse_qpoint><code>inverse_qpoint()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.little_group_adt.html#principia_materia.phonon_id.little_group_adt.save_LittleGroupADT_to_hdf5><code>save_LittleGroupADT_to_hdf5()</code></a></p></li></ul></li><li><p><a href=/docs/references/principia_materia.phonon_id.phonon_db.html>principia_materia.phonon_id.phonon_db module</a></p><ul><li><p><a href=/docs/references/principia_materia.phonon_id.phonon_db.html#principia_materia.phonon_id.phonon_db.create_BID_table><code>create_BID_table()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.phonon_db.html#principia_materia.phonon_id.phonon_db.create_LID_table><code>create_LID_table()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.phonon_db.html#principia_materia.phonon_id.phonon_db.create_metadata_table><code>create_metadata_table()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.phonon_db.html#principia_materia.phonon_id.phonon_db.create_strain_table><code>create_strain_table()</code></a></p></li></ul></li><li><p><a href=/docs/references/principia_materia.phonon_id.phonon_report_util.html>principia_materia.phonon_id.phonon_report_util module</a></p><ul><li><p><a href=/docs/references/principia_materia.phonon_id.phonon_report_util.html#principia_materia.phonon_id.phonon_report_util.summarize_bid><code>summarize_bid()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.phonon_report_util.html#principia_materia.phonon_id.phonon_report_util.summarize_hsbid><code>summarize_hsbid()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.phonon_report_util.html#principia_materia.phonon_id.phonon_report_util.summarize_lid><code>summarize_lid()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.phonon_report_util.html#principia_materia.phonon_id.phonon_report_util.summarize_lid_mesh><code>summarize_lid_mesh()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.phonon_report_util.html#principia_materia.phonon_id.phonon_report_util.summarize_structure><code>summarize_structure()</code></a></p></li></ul></li><li><p><a href=/docs/references/principia_materia.phonon_id.phonon_tools.html>principia_materia.phonon_id.phonon_tools module</a></p><ul><li><p><a href=/docs/references/principia_materia.phonon_id.phonon_tools.html#principia_materia.phonon_id.phonon_tools.adjust_eigenvectors_subspace><code>adjust_eigenvectors_subspace()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.phonon_tools.html#principia_materia.phonon_id.phonon_tools.compute_eigenvalues><code>compute_eigenvalues()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.phonon_tools.html#principia_materia.phonon_id.phonon_tools.compute_phonon_frequencies_from_eigenvalues><code>compute_phonon_frequencies_from_eigenvalues()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.phonon_tools.html#principia_materia.phonon_id.phonon_tools.compute_phonons><code>compute_phonons()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.phonon_tools.html#principia_materia.phonon_id.phonon_tools.find_degenerate_frequencies><code>find_degenerate_frequencies()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.phonon_tools.html#principia_materia.phonon_id.phonon_tools.get_mass_matrix><code>get_mass_matrix()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.phonon_tools.html#principia_materia.phonon_id.phonon_tools.multiply_mass_matrix><code>multiply_mass_matrix()</code></a></p></li></ul></li><li><p><a href=/docs/references/principia_materia.phonon_id.strained_finite_displacements.html>principia_materia.phonon_id.strained_finite_displacements module</a></p><ul><li><p><a href=/docs/references/principia_materia.phonon_id.strained_finite_displacements.html#principia_materia.phonon_id.strained_finite_displacements.StrainedFiniteDisplacements><code>StrainedFiniteDisplacements</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.strained_finite_displacements.html#principia_materia.phonon_id.strained_finite_displacements.get_StrainedFD_from_configuration><code>get_StrainedFD_from_configuration()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.strained_finite_displacements.html#principia_materia.phonon_id.strained_finite_displacements.get_strain_fd_config_hdf5_wrapper><code>get_strain_fd_config_hdf5_wrapper()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.strained_finite_displacements.html#principia_materia.phonon_id.strained_finite_displacements.get_strain_fd_config_yaml_wrapper><code>get_strain_fd_config_yaml_wrapper()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.strained_finite_displacements.html#principia_materia.phonon_id.strained_finite_displacements.save_StrainedFD_config_to_hdf5><code>save_StrainedFD_config_to_hdf5()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.strained_finite_displacements.html#principia_materia.phonon_id.strained_finite_displacements.save_StrainedFD_config_to_yaml><code>save_StrainedFD_config_to_yaml()</code></a></p></li></ul></li></ul></li><li><p><a href=/docs/references/principia_materia.phonon_id.html#module-contents>Module contents</a></p></li></ul></li><li><p><a href=/docs/references/principia_materia.plotting.html>principia_materia.plotting package</a></p><ul><li><p><a href=/docs/references/principia_materia.plotting.html#submodules>Submodules</a></p><ul><li><p><a href=/docs/references/principia_materia.plotting.kpath.html>principia_materia.plotting.kpath module</a></p><ul><li><a href=/docs/references/principia_materia.plotting.kpath.html#principia_materia.plotting.kpath.KPath><code>KPath</code></a></li></ul></li><li><p><a href=/docs/references/principia_materia.plotting.plot_band.html>principia_materia.plotting.plot_band module</a></p><ul><li><p><a href=/docs/references/principia_materia.plotting.plot_band.html#principia_materia.plotting.plot_band.get_band_plot_config_wrapper><code>get_band_plot_config_wrapper()</code></a></p></li><li><p><a href=/docs/references/principia_materia.plotting.plot_band.html#principia_materia.plotting.plot_band.main><code>main()</code></a></p></li><li><p><a href=/docs/references/principia_materia.plotting.plot_band.html#principia_materia.plotting.plot_band.plot_band><code>plot_band()</code></a></p></li></ul></li><li><p><a href=/docs/references/principia_materia.plotting.plot_errortail.html>principia_materia.plotting.plot_errortail module</a></p><ul><li><p><a href=/docs/references/principia_materia.plotting.plot_errortail.html#principia_materia.plotting.plot_errortail.main><code>main()</code></a></p></li><li><p><a href=/docs/references/principia_materia.plotting.plot_errortail.html#principia_materia.plotting.plot_errortail.plot_errortail><code>plot_errortail()</code></a></p></li></ul></li></ul></li><li><p><a href=/docs/references/principia_materia.plotting.html#module-contents>Module contents</a></p></li></ul></li><li><p><a href=/docs/references/principia_materia.symmetry.html>principia_materia.symmetry package</a></p><ul><li><p><a href=/docs/references/principia_materia.symmetry.html#submodules>Submodules</a></p><ul><li><p><a href=/docs/references/principia_materia.symmetry.cornwell_data.html>principia_materia.symmetry.cornwell_data module</a></p><ul><li><p><a href=/docs/references/principia_materia.symmetry.cornwell_data.html#principia_materia.symmetry.cornwell_data.Cornwell_group_matrices><code>Cornwell_group_matrices</code></a></p></li><li><p><a href=/docs/references/principia_materia.symmetry.cornwell_data.html#principia_materia.symmetry.cornwell_data.Cornwell_point_group><code>Cornwell_point_group</code></a></p></li></ul></li><li><p><a href=/docs/references/principia_materia.symmetry.little_group.html>principia_materia.symmetry.little_group module</a></p><ul><li><a href=/docs/references/principia_materia.symmetry.little_group.html#principia_materia.symmetry.little_group.get_little_group><code>get_little_group()</code></a></li></ul></li><li><p><a href=/docs/references/principia_materia.symmetry.point_group.html>principia_materia.symmetry.point_group module</a></p><ul><li><p><a href=/docs/references/principia_materia.symmetry.point_group.html#principia_materia.symmetry.point_group.PointGroup><code>PointGroup</code></a></p></li><li><p><a href=/docs/references/principia_materia.symmetry.point_group.html#principia_materia.symmetry.point_group.class_method_descriptor><code>class_method_descriptor</code></a></p></li><li><p><a href=/docs/references/principia_materia.symmetry.point_group.html#principia_materia.symmetry.point_group.find_inv><code>find_inv()</code></a></p></li><li><p><a href=/docs/references/principia_materia.symmetry.point_group.html#principia_materia.symmetry.point_group.group_lineage><code>group_lineage()</code></a></p></li></ul></li></ul></li><li><p><a href=/docs/references/principia_materia.symmetry.html#module-contents>Module contents</a></p></li></ul></li><li><p><a href=/docs/references/principia_materia.tetrahedron.html>principia_materia.tetrahedron package</a></p><ul><li><p><a href=/docs/references/principia_materia.tetrahedron.html#submodules>Submodules</a></p><ul><li><p><a href=/docs/references/principia_materia.tetrahedron.tetrahedra.html>principia_materia.tetrahedron.tetrahedra module</a></p><ul><li><a href=/docs/references/principia_materia.tetrahedron.tetrahedra.html#principia_materia.tetrahedron.tetrahedra.Tetrahedra><code>Tetrahedra</code></a></li></ul></li></ul></li><li><p><a href=/docs/references/principia_materia.tetrahedron.html#module-contents>Module contents</a></p></li></ul></li><li><p><a href=/docs/references/principia_materia.utils.html>principia_materia.utils package</a></p><ul><li><p><a href=/docs/references/principia_materia.utils.html#submodules>Submodules</a></p><ul><li><p><a href=/docs/references/principia_materia.utils.config_manager.html>principia_materia.utils.config_manager module</a></p><ul><li><a href=/docs/references/principia_materia.utils.config_manager.html#principia_materia.utils.config_manager.update_recursive><code>update_recursive()</code></a></li></ul></li><li><p><a href=/docs/references/principia_materia.utils.db_utils.html>principia_materia.utils.db_utils module</a></p><ul><li><p><a href=/docs/references/principia_materia.utils.db_utils.html#principia_materia.utils.db_utils.SQLiteDB><code>SQLiteDB</code></a></p></li><li><p><a href=/docs/references/principia_materia.utils.db_utils.html#principia_materia.utils.db_utils.adapt_array><code>adapt_array()</code></a></p></li><li><p><a href=/docs/references/principia_materia.utils.db_utils.html#principia_materia.utils.db_utils.convert_array><code>convert_array()</code></a></p></li></ul></li><li><p><a href=/docs/references/principia_materia.utils.testing.html>principia_materia.utils.testing module</a></p><ul><li><p><a href=/docs/references/principia_materia.utils.testing.html#principia_materia.utils.testing.assertDictAlmostEqual><code>assertDictAlmostEqual()</code></a></p></li><li><p><a href=/docs/references/principia_materia.utils.testing.html#principia_materia.utils.testing.assertDictEqual><code>assertDictEqual()</code></a></p></li></ul></li><li><p><a href=/docs/references/principia_materia.utils.text_file_search.html>principia_materia.utils.text_file_search module</a></p><ul><li><p><a href=/docs/references/principia_materia.utils.text_file_search.html#principia_materia.utils.text_file_search.find_all><code>find_all()</code></a></p></li><li><p><a href=/docs/references/principia_materia.utils.text_file_search.html#principia_materia.utils.text_file_search.find_first><code>find_first()</code></a></p></li><li><p><a href=/docs/references/principia_materia.utils.text_file_search.html#principia_materia.utils.text_file_search.find_last><code>find_last()</code></a></p></li><li><p><a href=/docs/references/principia_materia.utils.text_file_search.html#principia_materia.utils.text_file_search.get_file_stream><code>get_file_stream()</code></a></p></li><li><p><a href=/docs/references/principia_materia.utils.text_file_search.html#principia_materia.utils.text_file_search.search><code>search()</code></a></p></li></ul></li></ul></li><li><p><a href=/docs/references/principia_materia.utils.html#module-contents>Module contents</a></p></li></ul></li><li><p><a href=/docs/references/principia_materia.constants.html>principia_materia.constants package</a></p><ul><li><p><a href=/docs/references/principia_materia.constants.html#submodules>Submodules</a></p><ul><li><p><a href=/docs/references/principia_materia.constants.periodic_table.html>principia_materia.constants.periodic_table module</a></p></li><li><p><a href=/docs/references/principia_materia.constants.physical_constant.html>principia_materia.constants.physical_constant module</a></p><ul><li><a href=/docs/references/principia_materia.constants.physical_constant.html#principia_materia.constants.physical_constant.PhysicalConstant><code>PhysicalConstant</code></a></li></ul></li><li><p><a href=/docs/references/principia_materia.constants.point_group_notation_table.html>principia_materia.constants.point_group_notation_table module</a></p></li><li><p><a href=/docs/references/principia_materia.constants.unit_conversion.html>principia_materia.constants.unit_conversion module</a></p><ul><li><a href=/docs/references/principia_materia.constants.unit_conversion.html#principia_materia.constants.unit_conversion.UnitConversion><code>UnitConversion</code></a></li></ul></li></ul></li><li><p><a href=/docs/references/principia_materia.constants.html#module-contents>Module contents</a></p></li></ul></li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-05483c14d081f2d1dee96570f5522564>8.1 - Module principia_materia.cli</h1><div class=lead>Module principia_materia.cli</div><h1 id=principia_materiacli-package>principia_materia.cli package<a class=td-heading-self-link href=#principia_materiacli-package aria-label="Heading self-link"></a></h1><h2 id=submodules>Submodules<a class=td-heading-self-link href=#submodules aria-label="Heading self-link"></a></h2><ul><li><p><a href=/docs/references/principia_materia.cli.bid_cli.html>principia_materia.cli.bid_cli module</a></p><ul><li><p><a href=/docs/references/principia_materia.cli.bid_cli.html#principia_materia.cli.bid_cli.BIDCLI><code>BIDCLI</code></a></p><ul><li><p><a href=/docs/references/principia_materia.cli.bid_cli.html#principia_materia.cli.bid_cli.BIDCLI.set_defaults><code>BIDCLI.set_defaults()</code></a></p></li><li><p><a href=/docs/references/principia_materia.cli.bid_cli.html#principia_materia.cli.bid_cli.BIDCLI.set_object><code>BIDCLI.set_object()</code></a></p></li></ul></li></ul></li><li><p><a href=/docs/references/principia_materia.cli.cli_helper.html>principia_materia.cli.cli_helper module</a></p><ul><li><p><a href=/docs/references/principia_materia.cli.cli_helper.html#principia_materia.cli.cli_helper.check_input><code>check_input()</code></a></p></li><li><p><a href=/docs/references/principia_materia.cli.cli_helper.html#principia_materia.cli.cli_helper.get_job_handlers><code>get_job_handlers()</code></a></p></li><li><p><a href=/docs/references/principia_materia.cli.cli_helper.html#principia_materia.cli.cli_helper.parse_args><code>parse_args()</code></a></p></li><li><p><a href=/docs/references/principia_materia.cli.cli_helper.html#principia_materia.cli.cli_helper.set_dynamic_tensors_wrapper><code>set_dynamic_tensors_wrapper()</code></a></p></li><li><p><a href=/docs/references/principia_materia.cli.cli_helper.html#principia_materia.cli.cli_helper.set_errortail_wrapper><code>set_errortail_wrapper()</code></a></p></li><li><p><a href=/docs/references/principia_materia.cli.cli_helper.html#principia_materia.cli.cli_helper.set_finite_displacements_wrapper><code>set_finite_displacements_wrapper()</code></a></p></li><li><p><a href=/docs/references/principia_materia.cli.cli_helper.html#principia_materia.cli.cli_helper.set_fourier_interpolation_wrapper><code>set_fourier_interpolation_wrapper()</code></a></p></li><li><p><a href=/docs/references/principia_materia.cli.cli_helper.html#principia_materia.cli.cli_helper.set_irreducible_derivatives_wrapper><code>set_irreducible_derivatives_wrapper()</code></a></p></li><li><p><a href=/docs/references/principia_materia.cli.cli_helper.html#principia_materia.cli.cli_helper.set_job_interface_wrapper><code>set_job_interface_wrapper()</code></a></p></li><li><p><a href=/docs/references/principia_materia.cli.cli_helper.html#principia_materia.cli.cli_helper.set_lattice_dynamic_wrapper><code>set_lattice_dynamic_wrapper()</code></a></p></li><li><p><a href=/docs/references/principia_materia.cli.cli_helper.html#principia_materia.cli.cli_helper.set_structure_arguments><code>set_structure_arguments()</code></a></p></li><li><p><a href=/docs/references/principia_materia.cli.cli_helper.html#principia_materia.cli.cli_helper.set_structure_wrapper><code>set_structure_wrapper()</code></a></p></li><li><p><a href=/docs/references/principia_materia.cli.cli_helper.html#principia_materia.cli.cli_helper.wrapper_to_argparse><code>wrapper_to_argparse()</code></a></p></li></ul></li><li><p><a href=/docs/references/principia_materia.cli.hsbid_cli.html>principia_materia.cli.hsbid_cli module</a></p><ul><li><p><a href=/docs/references/principia_materia.cli.hsbid_cli.html#principia_materia.cli.hsbid_cli.HSBIDCLI><code>HSBIDCLI</code></a></p><ul><li><p><a href=/docs/references/principia_materia.cli.hsbid_cli.html#principia_materia.cli.hsbid_cli.HSBIDCLI.set_defaults><code>HSBIDCLI.set_defaults()</code></a></p></li><li><p><a href=/docs/references/principia_materia.cli.hsbid_cli.html#principia_materia.cli.hsbid_cli.HSBIDCLI.set_object><code>HSBIDCLI.set_object()</code></a></p></li></ul></li></ul></li><li><p><a href=/docs/references/principia_materia.cli.jobs_cli.html>principia_materia.cli.jobs_cli module</a></p><ul><li><p><a href=/docs/references/principia_materia.cli.jobs_cli.html#principia_materia.cli.jobs_cli.main><code>main()</code></a></p></li><li><p><a href=/docs/references/principia_materia.cli.jobs_cli.html#principia_materia.cli.jobs_cli.setup_parsers><code>setup_parsers()</code></a></p></li></ul></li><li><p><a href=/docs/references/principia_materia.cli.lid_cli.html>principia_materia.cli.lid_cli module</a></p><ul><li><p><a href=/docs/references/principia_materia.cli.lid_cli.html#principia_materia.cli.lid_cli.get_lid><code>get_lid()</code></a></p></li><li><p><a href=/docs/references/principia_materia.cli.lid_cli.html#principia_materia.cli.lid_cli.main><code>main()</code></a></p></li><li><p><a href=/docs/references/principia_materia.cli.lid_cli.html#principia_materia.cli.lid_cli.setup_parsers><code>setup_parsers()</code></a></p></li></ul></li><li><p><a href=/docs/references/principia_materia.cli.lid_mesh_cli.html>principia_materia.cli.lid_mesh_cli module</a></p><ul><li><p><a href=/docs/references/principia_materia.cli.lid_mesh_cli.html#principia_materia.cli.lid_mesh_cli.LIDMeshCLI><code>LIDMeshCLI</code></a></p><ul><li><p><a href=/docs/references/principia_materia.cli.lid_mesh_cli.html#principia_materia.cli.lid_mesh_cli.LIDMeshCLI.set_defaults><code>LIDMeshCLI.set_defaults()</code></a></p></li><li><p><a href=/docs/references/principia_materia.cli.lid_mesh_cli.html#principia_materia.cli.lid_mesh_cli.LIDMeshCLI.set_object><code>LIDMeshCLI.set_object()</code></a></p></li></ul></li></ul></li><li><p><a href=/docs/references/principia_materia.cli.phonon_band_dos_cli.html>principia_materia.cli.phonon_band_dos_cli module</a></p><ul><li><p><a href=/docs/references/principia_materia.cli.phonon_band_dos_cli.html#principia_materia.cli.phonon_band_dos_cli.main><code>main()</code></a></p></li><li><p><a href=/docs/references/principia_materia.cli.phonon_band_dos_cli.html#principia_materia.cli.phonon_band_dos_cli.setup_parsers><code>setup_parsers()</code></a></p></li></ul></li></ul><h2 id=module-contents>Module contents<a class=td-heading-self-link href=#module-contents aria-label="Heading self-link"></a></h2></div><div class=td-content style=page-break-before:always><h1 id=pg-7d1f427e0e6fb9999705b47064168c8b>8.2 - Module principia_materia.cli.bid_cli</h1><div class=lead>Module principia_materia.cli.bid_cli</div><h1 id=principia_materiaclibid_cli-module>principia_materia.cli.bid_cli module<a class=td-heading-self-link href=#principia_materiaclibid_cli-module aria-label="Heading self-link"></a></h1><h3 id=_class_-principia_materiaclibid_clibidcli><em>class</em> principia_materia.cli.bid_cli.BIDCLI()<a class=td-heading-self-link href=#_class_-principia_materiaclibid_clibidcli aria-label="Heading self-link"></a></h3><p>Bases: <code>BaseIDCLI</code></p><h4 id=set_defaults>set_defaults()<a class=td-heading-self-link href=#set_defaults aria-label="Heading self-link"></a></h4><h4 id=set_object>set_object()<a class=td-heading-self-link href=#set_object aria-label="Heading self-link"></a></h4></div><div class=td-content style=page-break-before:always><h1 id=pg-727449b91dad0eca5daad46125f8ae0d>8.3 - Module principia_materia.cli.cli_helper</h1><div class=lead>Module principia_materia.cli.cli_helper</div><h1 id=principia_materiaclicli_helper-module>principia_materia.cli.cli_helper module<a class=td-heading-self-link href=#principia_materiaclicli_helper-module aria-label="Heading self-link"></a></h1><h3 id=principia_materiaclicli_helpercheck_inputdata-required>principia_materia.cli.cli_helper.check_input(data, required=[])<a class=td-heading-self-link href=#principia_materiaclicli_helpercheck_inputdata-required aria-label="Heading self-link"></a></h3><h3 id=principia_materiaclicli_helperget_job_handlersdata-structure-pgnone-create_dbfalse>principia_materia.cli.cli_helper.get_job_handlers(data, structure, pg=None, create_db=False)<a class=td-heading-self-link href=#principia_materiaclicli_helperget_job_handlersdata-structure-pgnone-create_dbfalse aria-label="Heading self-link"></a></h3><h3 id=principia_materiaclicli_helperparse_argsparser-wrapper-argsnone-defaults>principia_materia.cli.cli_helper.parse_args(parser, wrapper, args=None, defaults={})<a class=td-heading-self-link href=#principia_materiaclicli_helperparse_argsparser-wrapper-argsnone-defaults aria-label="Heading self-link"></a></h3><h3 id=principia_materiaclicli_helperset_dynamic_tensors_wrapperwrapper-include_loadfalse-include_savetrue>principia_materia.cli.cli_helper.set_dynamic_tensors_wrapper(wrapper, include_load=False, include_save=True)<a class=td-heading-self-link href=#principia_materiaclicli_helperset_dynamic_tensors_wrapperwrapper-include_loadfalse-include_savetrue aria-label="Heading self-link"></a></h3><h3 id=principia_materiaclicli_helperset_errortail_wrapperwrapper>principia_materia.cli.cli_helper.set_errortail_wrapper(wrapper)<a class=td-heading-self-link href=#principia_materiaclicli_helperset_errortail_wrapperwrapper aria-label="Heading self-link"></a></h3><h3 id=principia_materiaclicli_helperset_finite_displacements_wrapperwrapper-include_supafalse>principia_materia.cli.cli_helper.set_finite_displacements_wrapper(wrapper, include_supa=False)<a class=td-heading-self-link href=#principia_materiaclicli_helperset_finite_displacements_wrapperwrapper-include_supafalse aria-label="Heading self-link"></a></h3><h3 id=principia_materiaclicli_helperset_fourier_interpolation_wrapperwrapper-include_loadfalse-include_savetrue>principia_materia.cli.cli_helper.set_fourier_interpolation_wrapper(wrapper, include_load=False, include_save=True)<a class=td-heading-self-link href=#principia_materiaclicli_helperset_fourier_interpolation_wrapperwrapper-include_loadfalse-include_savetrue aria-label="Heading self-link"></a></h3><h3 id=principia_materiaclicli_helperset_irreducible_derivatives_wrapperwrapper-include_loadfalse-include_savetrue>principia_materia.cli.cli_helper.set_irreducible_derivatives_wrapper(wrapper, include_load=False, include_save=True)<a class=td-heading-self-link href=#principia_materiaclicli_helperset_irreducible_derivatives_wrapperwrapper-include_loadfalse-include_savetrue aria-label="Heading self-link"></a></h3><h3 id=principia_materiaclicli_helperset_job_interface_wrapperwrapper>principia_materia.cli.cli_helper.set_job_interface_wrapper(wrapper)<a class=td-heading-self-link href=#principia_materiaclicli_helperset_job_interface_wrapperwrapper aria-label="Heading self-link"></a></h3><h3 id=principia_materiaclicli_helperset_lattice_dynamic_wrapperwrapper-include_qpointfalse-include_ordertrue-include_extratrue>principia_materia.cli.cli_helper.set_lattice_dynamic_wrapper(wrapper, include_Qpoint=False, include_order=True, include_extra=True)<a class=td-heading-self-link href=#principia_materiaclicli_helperset_lattice_dynamic_wrapperwrapper-include_qpointfalse-include_ordertrue-include_extratrue aria-label="Heading self-link"></a></h3><h3 id=principia_materiaclicli_helperset_structure_argumentsparser>principia_materia.cli.cli_helper.set_structure_arguments(parser)<a class=td-heading-self-link href=#principia_materiaclicli_helperset_structure_argumentsparser aria-label="Heading self-link"></a></h3><h3 id=principia_materiaclicli_helperset_structure_wrapperwrapper>principia_materia.cli.cli_helper.set_structure_wrapper(wrapper)<a class=td-heading-self-link href=#principia_materiaclicli_helperset_structure_wrapperwrapper aria-label="Heading self-link"></a></h3><h3 id=principia_materiaclicli_helperwrapper_to_argparsewrapper-parser-exclude-defaults>principia_materia.cli.cli_helper.wrapper_to_argparse(wrapper, parser, exclude=[], defaults={})<a class=td-heading-self-link href=#principia_materiaclicli_helperwrapper_to_argparsewrapper-parser-exclude-defaults aria-label="Heading self-link"></a></h3></div><div class=td-content style=page-break-before:always><h1 id=pg-99af876c10c42d89f03b5ceda079e202>8.4 - Module principia_materia.cli.hsbid_cli</h1><div class=lead>Module principia_materia.cli.hsbid_cli</div><h1 id=principia_materiaclihsbid_cli-module>principia_materia.cli.hsbid_cli module<a class=td-heading-self-link href=#principia_materiaclihsbid_cli-module aria-label="Heading self-link"></a></h1><h3 id=_class_-principia_materiaclihsbid_clihsbidcli><em>class</em> principia_materia.cli.hsbid_cli.HSBIDCLI()<a class=td-heading-self-link href=#_class_-principia_materiaclihsbid_clihsbidcli aria-label="Heading self-link"></a></h3><p>Bases: <code>BaseIDCLI</code></p><h4 id=set_defaults>set_defaults()<a class=td-heading-self-link href=#set_defaults aria-label="Heading self-link"></a></h4><h4 id=set_object>set_object()<a class=td-heading-self-link href=#set_object aria-label="Heading self-link"></a></h4></div><div class=td-content style=page-break-before:always><h1 id=pg-fb4308518df06de1620b0a5cd4ee6502>8.5 - Module principia_materia.cli.jobs_cli</h1><div class=lead>Module principia_materia.cli.jobs_cli</div><h1 id=principia_materiaclijobs_cli-module>principia_materia.cli.jobs_cli module<a class=td-heading-self-link href=#principia_materiaclijobs_cli-module aria-label="Heading self-link"></a></h1><h3 id=principia_materiaclijobs_climainargsnone>principia_materia.cli.jobs_cli.main(args=None)<a class=td-heading-self-link href=#principia_materiaclijobs_climainargsnone aria-label="Heading self-link"></a></h3><h3 id=principia_materiaclijobs_clisetup_parsers>principia_materia.cli.jobs_cli.setup_parsers()<a class=td-heading-self-link href=#principia_materiaclijobs_clisetup_parsers aria-label="Heading self-link"></a></h3></div><div class=td-content style=page-break-before:always><h1 id=pg-879abd54069081ee45a61c7c6a3c8bb9>8.6 - Module principia_materia.cli.lid_cli</h1><div class=lead>Module principia_materia.cli.lid_cli</div><h1 id=principia_materiaclilid_cli-module>principia_materia.cli.lid_cli module<a class=td-heading-self-link href=#principia_materiaclilid_cli-module aria-label="Heading self-link"></a></h1><h3 id=principia_materiaclilid_cliget_liddata-tol1e-06>principia_materia.cli.lid_cli.get_lid(data, tol=1e-06)<a class=td-heading-self-link href=#principia_materiaclilid_cliget_liddata-tol1e-06 aria-label="Heading self-link"></a></h3><h3 id=principia_materiaclilid_climainargsnone>principia_materia.cli.lid_cli.main(args=None)<a class=td-heading-self-link href=#principia_materiaclilid_climainargsnone aria-label="Heading self-link"></a></h3><h3 id=principia_materiaclilid_clisetup_parsers>principia_materia.cli.lid_cli.setup_parsers()<a class=td-heading-self-link href=#principia_materiaclilid_clisetup_parsers aria-label="Heading self-link"></a></h3></div><div class=td-content style=page-break-before:always><h1 id=pg-881b3d497562a764b159d1d22b14f47a>8.7 - Module principia_materia.cli.lid_mesh_cli</h1><div class=lead>Module principia_materia.cli.lid_mesh_cli</div><h1 id=principia_materiaclilid_mesh_cli-module>principia_materia.cli.lid_mesh_cli module<a class=td-heading-self-link href=#principia_materiaclilid_mesh_cli-module aria-label="Heading self-link"></a></h1><h3 id=_class_-principia_materiaclilid_mesh_clilidmeshcli><em>class</em> principia_materia.cli.lid_mesh_cli.LIDMeshCLI()<a class=td-heading-self-link href=#_class_-principia_materiaclilid_mesh_clilidmeshcli aria-label="Heading self-link"></a></h3><p>Bases: <code>BaseIDCLI</code></p><h4 id=set_defaults>set_defaults()<a class=td-heading-self-link href=#set_defaults aria-label="Heading self-link"></a></h4><h4 id=set_object>set_object()<a class=td-heading-self-link href=#set_object aria-label="Heading self-link"></a></h4></div><div class=td-content style=page-break-before:always><h1 id=pg-ebb621b3e6b5467523e92cc4119fe812>8.8 - Module principia_materia.cli.phonon_band_dos_cli</h1><div class=lead>Module principia_materia.cli.phonon_band_dos_cli</div><h1 id=principia_materiacliphonon_band_dos_cli-module>principia_materia.cli.phonon_band_dos_cli module<a class=td-heading-self-link href=#principia_materiacliphonon_band_dos_cli-module aria-label="Heading self-link"></a></h1><h3 id=principia_materiacliphonon_band_dos_climainargsnone>principia_materia.cli.phonon_band_dos_cli.main(args=None)<a class=td-heading-self-link href=#principia_materiacliphonon_band_dos_climainargsnone aria-label="Heading self-link"></a></h3><h3 id=principia_materiacliphonon_band_dos_clisetup_parsers>principia_materia.cli.phonon_band_dos_cli.setup_parsers()<a class=td-heading-self-link href=#principia_materiacliphonon_band_dos_clisetup_parsers aria-label="Heading self-link"></a></h3></div><div class=td-content style=page-break-before:always><h1 id=pg-d05351b41593f81fee981c098bcd120f>8.9 - Module principia_materia.constants</h1><div class=lead>Module principia_materia.constants</div><h1 id=principia_materiaconstants-package>principia_materia.constants package<a class=td-heading-self-link href=#principia_materiaconstants-package aria-label="Heading self-link"></a></h1><h2 id=submodules>Submodules<a class=td-heading-self-link href=#submodules aria-label="Heading self-link"></a></h2><ul><li><p><a href=/docs/references/principia_materia.constants.periodic_table.html>principia_materia.constants.periodic_table module</a></p></li><li><p><a href=/docs/references/principia_materia.constants.physical_constant.html>principia_materia.constants.physical_constant module</a></p><ul><li><p><a href=/docs/references/principia_materia.constants.physical_constant.html#principia_materia.constants.physical_constant.PhysicalConstant><code>PhysicalConstant</code></a></p><ul><li><p><a href=/docs/references/principia_materia.constants.physical_constant.html#principia_materia.constants.physical_constant.PhysicalConstant.data_parse><code>PhysicalConstant.data_parse()</code></a></p></li><li><p><a href=/docs/references/principia_materia.constants.physical_constant.html#principia_materia.constants.physical_constant.PhysicalConstant.existing_units><code>PhysicalConstant.existing_units</code></a></p></li></ul></li></ul></li><li><p><a href=/docs/references/principia_materia.constants.point_group_notation_table.html>principia_materia.constants.point_group_notation_table module</a></p></li><li><p><a href=/docs/references/principia_materia.constants.unit_conversion.html>principia_materia.constants.unit_conversion module</a></p><ul><li><p><a href=/docs/references/principia_materia.constants.unit_conversion.html#principia_materia.constants.unit_conversion.UnitConversion><code>UnitConversion</code></a></p><ul><li><p><a href=/docs/references/principia_materia.constants.unit_conversion.html#principia_materia.constants.unit_conversion.UnitConversion.data_parse><code>UnitConversion.data_parse()</code></a></p></li><li><p><a href=/docs/references/principia_materia.constants.unit_conversion.html#principia_materia.constants.unit_conversion.UnitConversion.find_path><code>UnitConversion.find_path()</code></a></p></li></ul></li></ul></li></ul><h2 id=module-contents>Module contents<a class=td-heading-self-link href=#module-contents aria-label="Heading self-link"></a></h2></div><div class=td-content style=page-break-before:always><h1 id=pg-e3de47ab75b83a412403653d82cc26a6>8.10 - Module principia_materia.constants.periodic_table</h1><div class=lead>Module principia_materia.constants.periodic_table</div><h1 id=principia_materiaconstantsperiodic_table-module>principia_materia.constants.periodic_table module<a class=td-heading-self-link href=#principia_materiaconstantsperiodic_table-module aria-label="Heading self-link"></a></h1></div><div class=td-content style=page-break-before:always><h1 id=pg-d1d09e2bb80c61af39e03a13931efa61>8.11 - Module principia_materia.constants.physical_constant</h1><div class=lead>Module principia_materia.constants.physical_constant</div><h1 id=principia_materiaconstantsphysical_constant-module>principia_materia.constants.physical_constant module<a class=td-heading-self-link href=#principia_materiaconstantsphysical_constant-module aria-label="Heading self-link"></a></h1><h3 id=_class_-principia_materiaconstantsphysical_constantphysicalconstantdata-namenone-default_unitnone><em>class</em> principia_materia.constants.physical_constant.PhysicalConstant(data, name=None, default_unit=None)<a class=td-heading-self-link href=#_class_-principia_materiaconstantsphysical_constantphysicalconstantdata-namenone-default_unitnone aria-label="Heading self-link"></a></h3><p>Bases: <code>object</code></p><p>A <em>physical</em> constant in a given units</p><p>This class will construct a given physical constant in different units.
with provided data at construction.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>data</strong> (str) – Table of constant values data. (See below for format eamples.)</p></li><li><p><strong>name</strong> (str, optional, default to None) – Name of the constant.</p></li><li><p><strong>default_unit</strong> (str, optional, default to None) – The default unit for the constant.
If None, default to the first in the provided data.</p></li></ul></li></ul><h4 id=_static_-data_parsedata><em>static</em> data_parse(data)<a class=td-heading-self-link href=#_static_-data_parsedata aria-label="Heading self-link"></a></h4><h4 id=_property_-existing_units><em>property</em> existing_units()<a class=td-heading-self-link href=#_property_-existing_units aria-label="Heading self-link"></a></h4></div><div class=td-content style=page-break-before:always><h1 id=pg-15e07c649c813c149fc6dfed126e8b17>8.12 - Module principia_materia.constants.point_group_notation_table</h1><div class=lead>Module principia_materia.constants.point_group_notation_table</div><h1 id=principia_materiaconstantspoint_group_notation_table-module>principia_materia.constants.point_group_notation_table module<a class=td-heading-self-link href=#principia_materiaconstantspoint_group_notation_table-module aria-label="Heading self-link"></a></h1></div><div class=td-content style=page-break-before:always><h1 id=pg-03c739421f9451e507a700428b51ab22>8.13 - Module principia_materia.constants.unit_conversion</h1><div class=lead>Module principia_materia.constants.unit_conversion</div><h1 id=principia_materiaconstantsunit_conversion-module>principia_materia.constants.unit_conversion module<a class=td-heading-self-link href=#principia_materiaconstantsunit_conversion-module aria-label="Heading self-link"></a></h1><h3 id=_class_-principia_materiaconstantsunit_conversionunitconversiondata><em>class</em> principia_materia.constants.unit_conversion.UnitConversion(data)<a class=td-heading-self-link href=#_class_-principia_materiaconstantsunit_conversionunitconversiondata aria-label="Heading self-link"></a></h3><p>Bases: <code>object</code></p><p>Find unit conversion coefficients</p><p>This class construct a graph of different units and find a path within
the graph the calculate unit conversion coefficients.</p><ul><li><p><strong>Parameters</strong></p><p><strong>data</strong> (str) – Table of unit conversion data. (See below for format eamples.)</p></li></ul><h4 id=_static_-data_parsedata><em>static</em> data_parse(data)<a class=td-heading-self-link href=#_static_-data_parsedata aria-label="Heading self-link"></a></h4><h4 id=_classmethod_-find_pathgraph-start-end-path><em>classmethod</em> find_path(graph, start, end, path=[])<a class=td-heading-self-link href=#_classmethod_-find_pathgraph-start-end-path aria-label="Heading self-link"></a></h4></div><div class=td-content style=page-break-before:always><h1 id=pg-9645def718ee388dc9113fb75aefc232>8.14 - Module principia_materia.hamiltonian</h1><div class=lead>Module principia_materia.hamiltonian</div><h1 id=principia_materiahamiltonian-package>principia_materia.hamiltonian package<a class=td-heading-self-link href=#principia_materiahamiltonian-package aria-label="Heading self-link"></a></h1><h2 id=submodules>Submodules<a class=td-heading-self-link href=#submodules aria-label="Heading self-link"></a></h2><ul><li><p><a href=/docs/references/principia_materia.hamiltonian.electron_hamiltonian.html>principia_materia.hamiltonian.electron_hamiltonian module</a></p><ul><li><p><a href=/docs/references/principia_materia.hamiltonian.electron_hamiltonian.html#principia_materia.hamiltonian.electron_hamiltonian.ElectronHamiltonian><code>ElectronHamiltonian</code></a></p><ul><li><p><a href=/docs/references/principia_materia.hamiltonian.electron_hamiltonian.html#principia_materia.hamiltonian.electron_hamiltonian.ElectronHamiltonian.diagonalize_hamiltonians><code>ElectronHamiltonian.diagonalize_hamiltonians()</code></a></p></li><li><p><a href=/docs/references/principia_materia.hamiltonian.electron_hamiltonian.html#principia_materia.hamiltonian.electron_hamiltonian.ElectronHamiltonian.get_embeded_self_energy><code>ElectronHamiltonian.get_embeded_self_energy()</code></a></p></li><li><p><a href=/docs/references/principia_materia.hamiltonian.electron_hamiltonian.html#principia_materia.hamiltonian.electron_hamiltonian.ElectronHamiltonian.get_fermi_energy><code>ElectronHamiltonian.get_fermi_energy()</code></a></p></li><li><p><a href=/docs/references/principia_materia.hamiltonian.electron_hamiltonian.html#principia_materia.hamiltonian.electron_hamiltonian.ElectronHamiltonian.get_hamiltonian_matrices_at_kpoints><code>ElectronHamiltonian.get_hamiltonian_matrices_at_kpoints()</code></a></p></li><li><p><a href=/docs/references/principia_materia.hamiltonian.electron_hamiltonian.html#principia_materia.hamiltonian.electron_hamiltonian.ElectronHamiltonian.get_state><code>ElectronHamiltonian.get_state()</code></a></p></li><li><p><a href=/docs/references/principia_materia.hamiltonian.electron_hamiltonian.html#principia_materia.hamiltonian.electron_hamiltonian.ElectronHamiltonian.get_total_energy><code>ElectronHamiltonian.get_total_energy()</code></a></p></li><li><p><a href=/docs/references/principia_materia.hamiltonian.electron_hamiltonian.html#principia_materia.hamiltonian.electron_hamiltonian.ElectronHamiltonian.hartree_fock><code>ElectronHamiltonian.hartree_fock()</code></a></p></li><li><p><a href=/docs/references/principia_materia.hamiltonian.electron_hamiltonian.html#principia_materia.hamiltonian.electron_hamiltonian.ElectronHamiltonian.set_density_matrix><code>ElectronHamiltonian.set_density_matrix()</code></a></p></li><li><p><a href=/docs/references/principia_materia.hamiltonian.electron_hamiltonian.html#principia_materia.hamiltonian.electron_hamiltonian.ElectronHamiltonian.set_fermi_energy><code>ElectronHamiltonian.set_fermi_energy()</code></a></p></li><li><p><a href=/docs/references/principia_materia.hamiltonian.electron_hamiltonian.html#principia_materia.hamiltonian.electron_hamiltonian.ElectronHamiltonian.set_hamiltonian><code>ElectronHamiltonian.set_hamiltonian()</code></a></p><ul><li><a href=/docs/references/principia_materia.hamiltonian.electron_hamiltonian.html#principia_materia.hamiltonian.electron_hamiltonian.ElectronHamiltonian._hamiltonian><code>ElectronHamiltonian._hamiltonian</code></a></li></ul></li><li><p><a href=/docs/references/principia_materia.hamiltonian.electron_hamiltonian.html#principia_materia.hamiltonian.electron_hamiltonian.ElectronHamiltonian.set_nd><code>ElectronHamiltonian.set_nd()</code></a></p></li><li><p><a href=/docs/references/principia_materia.hamiltonian.electron_hamiltonian.html#principia_materia.hamiltonian.electron_hamiltonian.ElectronHamiltonian.set_self_energy><code>ElectronHamiltonian.set_self_energy()</code></a></p></li><li><p><a href=/docs/references/principia_materia.hamiltonian.electron_hamiltonian.html#principia_materia.hamiltonian.electron_hamiltonian.ElectronHamiltonian.set_total_energy><code>ElectronHamiltonian.set_total_energy()</code></a></p></li></ul></li></ul></li><li><p><a href=/docs/references/principia_materia.hamiltonian.hamiltonian.html>principia_materia.hamiltonian.hamiltonian module</a></p><ul><li><p><a href=/docs/references/principia_materia.hamiltonian.hamiltonian.html#principia_materia.hamiltonian.hamiltonian.Hamiltonian><code>Hamiltonian</code></a></p><ul><li><p><a href=/docs/references/principia_materia.hamiltonian.hamiltonian.html#principia_materia.hamiltonian.hamiltonian.Hamiltonian.compute_DOS><code>Hamiltonian.compute_DOS()</code></a></p><ul><li><p><a href=/docs/references/principia_materia.hamiltonian.hamiltonian.html#principia_materia.hamiltonian.hamiltonian.Hamiltonian._dos><code>Hamiltonian._dos</code></a></p></li><li><p><a href=/docs/references/principia_materia.hamiltonian.hamiltonian.html#principia_materia.hamiltonian.hamiltonian.Hamiltonian._cdos><code>Hamiltonian._cdos</code></a></p></li></ul></li><li><p><a href=/docs/references/principia_materia.hamiltonian.hamiltonian.html#principia_materia.hamiltonian.hamiltonian.Hamiltonian.compute_PDOS><code>Hamiltonian.compute_PDOS()</code></a></p><ul><li><p><a href=/docs/references/principia_materia.hamiltonian.hamiltonian.html#principia_materia.hamiltonian.hamiltonian.Hamiltonian._pdos><code>Hamiltonian._pdos</code></a></p></li><li><p><a href=/docs/references/principia_materia.hamiltonian.hamiltonian.html#principia_materia.hamiltonian.hamiltonian.Hamiltonian._cpdos><code>Hamiltonian._cpdos</code></a></p></li></ul></li><li><p><a href=/docs/references/principia_materia.hamiltonian.hamiltonian.html#principia_materia.hamiltonian.hamiltonian.Hamiltonian.decimal><code>Hamiltonian.decimal</code></a></p></li><li><p><a href=/docs/references/principia_materia.hamiltonian.hamiltonian.html#principia_materia.hamiltonian.hamiltonian.Hamiltonian.diagonalize_hamiltonians><code>Hamiltonian.diagonalize_hamiltonians()</code></a></p></li><li><p><a href=/docs/references/principia_materia.hamiltonian.hamiltonian.html#principia_materia.hamiltonian.hamiltonian.Hamiltonian.get_hamiltonian_matrices_at_kpoints><code>Hamiltonian.get_hamiltonian_matrices_at_kpoints()</code></a></p></li><li><p><a href=/docs/references/principia_materia.hamiltonian.hamiltonian.html#principia_materia.hamiltonian.hamiltonian.Hamiltonian.is_kpoints_from_mesh><code>Hamiltonian.is_kpoints_from_mesh</code></a></p></li><li><p><a href=/docs/references/principia_materia.hamiltonian.hamiltonian.html#principia_materia.hamiltonian.hamiltonian.Hamiltonian.nspin><code>Hamiltonian.nspin</code></a></p></li><li><p><a href=/docs/references/principia_materia.hamiltonian.hamiltonian.html#principia_materia.hamiltonian.hamiltonian.Hamiltonian.set_charmblochrep><code>Hamiltonian.set_charmblochrep()</code></a></p></li><li><p><a href=/docs/references/principia_materia.hamiltonian.hamiltonian.html#principia_materia.hamiltonian.hamiltonian.Hamiltonian.set_eigenvalues><code>Hamiltonian.set_eigenvalues()</code></a></p></li><li><p><a href=/docs/references/principia_materia.hamiltonian.hamiltonian.html#principia_materia.hamiltonian.hamiltonian.Hamiltonian.set_hamiltonian><code>Hamiltonian.set_hamiltonian()</code></a></p></li><li><p><a href=/docs/references/principia_materia.hamiltonian.hamiltonian.html#principia_materia.hamiltonian.hamiltonian.Hamiltonian.set_hamiltonian_at_kpoints><code>Hamiltonian.set_hamiltonian_at_kpoints()</code></a></p></li><li><p><a href=/docs/references/principia_materia.hamiltonian.hamiltonian.html#principia_materia.hamiltonian.hamiltonian.Hamiltonian.set_hamiltonian_from_mesh><code>Hamiltonian.set_hamiltonian_from_mesh()</code></a></p></li><li><p><a href=/docs/references/principia_materia.hamiltonian.hamiltonian.html#principia_materia.hamiltonian.hamiltonian.Hamiltonian.set_tetrahedra><code>Hamiltonian.set_tetrahedra()</code></a></p></li><li><p><a href=/docs/references/principia_materia.hamiltonian.hamiltonian.html#principia_materia.hamiltonian.hamiltonian.Hamiltonian.spin><code>Hamiltonian.spin</code></a></p></li><li><p><a href=/docs/references/principia_materia.hamiltonian.hamiltonian.html#principia_materia.hamiltonian.hamiltonian.Hamiltonian.units><code>Hamiltonian.units</code></a></p></li></ul></li></ul></li><li><p><a href=/docs/references/principia_materia.hamiltonian.model_hamiltonian.html>principia_materia.hamiltonian.model_hamiltonian module</a></p><ul><li><p><a href=/docs/references/principia_materia.hamiltonian.model_hamiltonian.html#principia_materia.hamiltonian.model_hamiltonian.ModelHamiltonian><code>ModelHamiltonian</code></a></p><ul><li><p><a href=/docs/references/principia_materia.hamiltonian.model_hamiltonian.html#principia_materia.hamiltonian.model_hamiltonian.ModelHamiltonian.from_dict><code>ModelHamiltonian.from_dict()</code></a></p></li><li><p><a href=/docs/references/principia_materia.hamiltonian.model_hamiltonian.html#principia_materia.hamiltonian.model_hamiltonian.ModelHamiltonian.get_hamiltonian_at_kpoint><code>ModelHamiltonian.get_hamiltonian_at_kpoint()</code></a></p></li><li><p><a href=/docs/references/principia_materia.hamiltonian.model_hamiltonian.html#principia_materia.hamiltonian.model_hamiltonian.ModelHamiltonian.hamiltonian_matrices><code>ModelHamiltonian.hamiltonian_matrices</code></a></p></li><li><p><a href=/docs/references/principia_materia.hamiltonian.model_hamiltonian.html#principia_materia.hamiltonian.model_hamiltonian.ModelHamiltonian.nortbials><code>ModelHamiltonian.nortbials</code></a></p></li><li><p><a href=/docs/references/principia_materia.hamiltonian.model_hamiltonian.html#principia_materia.hamiltonian.model_hamiltonian.ModelHamiltonian.set_hamiltonian><code>ModelHamiltonian.set_hamiltonian()</code></a></p></li><li><p><a href=/docs/references/principia_materia.hamiltonian.model_hamiltonian.html#principia_materia.hamiltonian.model_hamiltonian.ModelHamiltonian.tpoints><code>ModelHamiltonian.tpoints</code></a></p></li></ul></li><li><p><a href=/docs/references/principia_materia.hamiltonian.model_hamiltonian.html#principia_materia.hamiltonian.model_hamiltonian.format_hamiltonian_to_yaml><code>format_hamiltonian_to_yaml()</code></a></p></li><li><p><a href=/docs/references/principia_materia.hamiltonian.model_hamiltonian.html#principia_materia.hamiltonian.model_hamiltonian.get_ModelHamiltonian_hdf5_wrapper><code>get_ModelHamiltonian_hdf5_wrapper()</code></a></p></li><li><p><a href=/docs/references/principia_materia.hamiltonian.model_hamiltonian.html#principia_materia.hamiltonian.model_hamiltonian.get_ModelHamiltonian_yaml_wrapper><code>get_ModelHamiltonian_yaml_wrapper()</code></a></p></li><li><p><a href=/docs/references/principia_materia.hamiltonian.model_hamiltonian.html#principia_materia.hamiltonian.model_hamiltonian.get_modelhamiltonian_from_hdf5><code>get_modelhamiltonian_from_hdf5()</code></a></p></li><li><p><a href=/docs/references/principia_materia.hamiltonian.model_hamiltonian.html#principia_materia.hamiltonian.model_hamiltonian.get_modelhamiltonian_from_yaml><code>get_modelhamiltonian_from_yaml()</code></a></p></li><li><p><a href=/docs/references/principia_materia.hamiltonian.model_hamiltonian.html#principia_materia.hamiltonian.model_hamiltonian.load_hamiltonian><code>load_hamiltonian()</code></a></p></li><li><p><a href=/docs/references/principia_materia.hamiltonian.model_hamiltonian.html#principia_materia.hamiltonian.model_hamiltonian.save_modelhamiltonian_to_hdf5><code>save_modelhamiltonian_to_hdf5()</code></a></p></li><li><p><a href=/docs/references/principia_materia.hamiltonian.model_hamiltonian.html#principia_materia.hamiltonian.model_hamiltonian.save_modelhamiltonian_to_yaml><code>save_modelhamiltonian_to_yaml()</code></a></p></li></ul></li><li><p><a href=/docs/references/principia_materia.hamiltonian.phonon_hamiltonian.html>principia_materia.hamiltonian.phonon_hamiltonian module</a></p><ul><li><p><a href=/docs/references/principia_materia.hamiltonian.phonon_hamiltonian.html#principia_materia.hamiltonian.phonon_hamiltonian.PhononHamiltonian><code>PhononHamiltonian</code></a></p><ul><li><p><a href=/docs/references/principia_materia.hamiltonian.phonon_hamiltonian.html#principia_materia.hamiltonian.phonon_hamiltonian.PhononHamiltonian.diagonalize_hamiltonians><code>PhononHamiltonian.diagonalize_hamiltonians()</code></a></p></li><li><p><a href=/docs/references/principia_materia.hamiltonian.phonon_hamiltonian.html#principia_materia.hamiltonian.phonon_hamiltonian.PhononHamiltonian.get_hamiltonian_matrices_at_kpoints><code>PhononHamiltonian.get_hamiltonian_matrices_at_kpoints()</code></a></p></li><li><p><a href=/docs/references/principia_materia.hamiltonian.phonon_hamiltonian.html#principia_materia.hamiltonian.phonon_hamiltonian.PhononHamiltonian.set_hamiltonian><code>PhononHamiltonian.set_hamiltonian()</code></a></p><ul><li><a href=/docs/references/principia_materia.hamiltonian.phonon_hamiltonian.html#principia_materia.hamiltonian.phonon_hamiltonian.PhononHamiltonian._hamiltonian><code>PhononHamiltonian._hamiltonian</code></a></li></ul></li></ul></li></ul></li></ul><h2 id=module-contents>Module contents<a class=td-heading-self-link href=#module-contents aria-label="Heading self-link"></a></h2></div><div class=td-content style=page-break-before:always><h1 id=pg-07d8e737814b5831185cbf581036669c>8.15 - Module principia_materia.hamiltonian.electron_hamiltonian</h1><div class=lead>Module principia_materia.hamiltonian.electron_hamiltonian</div><h1 id=principia_materiahamiltonianelectron_hamiltonian-module>principia_materia.hamiltonian.electron_hamiltonian module<a class=td-heading-self-link href=#principia_materiahamiltonianelectron_hamiltonian-module aria-label="Heading self-link"></a></h1><h3 id=_class_-principia_materiahamiltonianelectron_hamiltonianelectronhamiltonianstructure-meshnone-pgc1-nspin1-nelectnone-ferminone-ncor0-u0-unitsev-verbosity1-tol1e-06><em>class</em> principia_materia.hamiltonian.electron_hamiltonian.ElectronHamiltonian(structure, mesh=None, pg=&lsquo;C1&rsquo;, nspin=1, nelect=None, fermi=None, ncor=0, U=0, units=&lsquo;eV&rsquo;, verbosity=1, tol=1e-06)<a class=td-heading-self-link href=#_class_-principia_materiahamiltonianelectron_hamiltonianelectronhamiltonianstructure-meshnone-pgc1-nspin1-nelectnone-ferminone-ncor0-u0-unitsev-verbosity1-tol1e-06 aria-label="Heading self-link"></a></h3><p>Bases: <a href=/docs/references/principia_materia.hamiltonian.hamiltonian.html#principia_materia.hamiltonian.hamiltonian.Hamiltonian><code>Hamiltonian</code></a></p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>nelect</strong> (int, optional, default to None) – Number of valence electrons.</p></li><li><p><strong>fermi</strong> (float, optional, default to None) – Fermy energy, in unit of eV.</p></li><li><p><strong>ncor</strong> (int, optional, default to None) – Number of correlated orbitals.</p></li><li><p><strong>U</strong> (int, optional, default to 0) – The Coulumb hamiltonian term U.</p></li></ul></li></ul><h4 id=diagonalize_hamiltonianshamiltonians_matrices-uplol>diagonalize_hamiltonians(hamiltonians_matrices, UPLO=&lsquo;L&rsquo;)<a class=td-heading-self-link href=#diagonalize_hamiltonianshamiltonians_matrices-uplol aria-label="Heading self-link"></a></h4><p>Diagonalize and compute the eigenvalues hamiltonians in reciprocal space.</p><ul><li><p><strong>Returns</strong></p><ul><li><p><strong>eigenvalues</strong> (<em>array of float, shape(N, nspin, norbitals)</em>)</p></li><li><p><strong>eigenvectors</strong> (<em>array of float, shape(N, nspin, norbitals, norbitals)</em>)</p></li></ul></li></ul><h4 id=get_embeded_self_energy>get_embeded_self_energy()<a class=td-heading-self-link href=#get_embeded_self_energy aria-label="Heading self-link"></a></h4><p>Embed the self-energy minus the dc in a matrix the size of the Hamiltonian.</p><h4 id=get_fermi_energy>get_fermi_energy()<a class=td-heading-self-link href=#get_fermi_energy aria-label="Heading self-link"></a></h4><p>Get Fermi energy.</p><ul><li><p><strong>Returns</strong></p><p><strong>fermi</strong> – The Fermi energy.</p></li><li><p><strong>Return type</strong></p><p>float</p></li></ul><h4 id=get_hamiltonian_matrices_at_kpointskpoints>get_hamiltonian_matrices_at_kpoints(kpoints)<a class=td-heading-self-link href=#get_hamiltonian_matrices_at_kpointskpoints aria-label="Heading self-link"></a></h4><p>Get hamiltonian matrices at k-points</p><ul><li><p><strong>Parameters</strong></p><p><strong>kpoints</strong> (array of float or <a href=/docs/references/principia_materia.mathematics.new_fraction.html#principia_materia.mathematics.new_fraction.Fraction>Fraction</a>, shape(dim, ) or shape(N, dim)) – k-points.</p></li><li><p><strong>Returns</strong></p><p><strong>hamiltonians_matrices</strong> – Interaction matrices.</p></li><li><p><strong>Return type</strong></p><p>array of complex, shape(norbitals, norbitals) or shape(N, norbitals, norbitals)</p></li></ul><h4 id=get_state>get_state()<a class=td-heading-self-link href=#get_state aria-label="Heading self-link"></a></h4><p>Get insulator/metal state of the Hamiltonian.</p><h4 id=get_total_energy>get_total_energy()<a class=td-heading-self-link href=#get_total_energy aria-label="Heading self-link"></a></h4><p>Get the total energy of the Hamiltonian.</p><h4 id=hartree_focknd0-nscf40-tol1e-05-mix07-perturbtrue-dcfalse>hartree_fock(nd=0, nscf=40, tol=1e-05, mix=0.7, perturb=True, dc=False)<a class=td-heading-self-link href=#hartree_focknd0-nscf40-tol1e-05-mix07-perturbtrue-dcfalse aria-label="Heading self-link"></a></h4><p>Hartree Fock.</p><h4 id=set_density_matrix>set_density_matrix()<a class=td-heading-self-link href=#set_density_matrix aria-label="Heading self-link"></a></h4><p>Compute the density matrix of the Hamiltonian.</p><h4 id=set_fermi_energyreplacefalse-maxiter200-raise_exceptionfalse>set_fermi_energy(replace=False, maxiter=200, raise_exception=False)<a class=td-heading-self-link href=#set_fermi_energyreplacefalse-maxiter200-raise_exceptionfalse aria-label="Heading self-link"></a></h4><p>Compute Fermi energy with binary search and tetrahedron method.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>replace</strong> (bool, optional, default to False) – Re-compute Fermi energy when attribute <code>_fermi</code> is not None.</p></li><li><p><strong>maxiter</strong> (int, optional, default to 200) – The maximum number of iterations to search for the Fermi energy.</p></li><li><p><strong>raise_exception</strong> (bool, optional, default to False) – Whether to raise an exception when the maximum iteration
is reached before the error tolerence is reached.</p></li></ul></li></ul><h4 id=set_hamiltonianhamiltonian>set_hamiltonian(hamiltonian)<a class=td-heading-self-link href=#set_hamiltonianhamiltonian aria-label="Heading self-link"></a></h4><p>Set electron hamiltonian.</p><ul><li><p><strong>Parameters</strong></p><p><strong>hamiltonian</strong> (<a href=/docs/references/principia_materia.hamiltonian.model_hamiltonian.html#principia_materia.hamiltonian.model_hamiltonian.ModelHamiltonian>ModelHamiltonian</a>) – ModelHamiltonian object.</p></li></ul><h4 id=_hamiltonian>_hamiltonian()<a class=td-heading-self-link href=#_hamiltonian aria-label="Heading self-link"></a></h4><p>ModelHamiltonian object.</p><ul><li><p><strong>Type</strong></p><p><a href=/docs/references/principia_materia.hamiltonian.model_hamiltonian.html#principia_materia.hamiltonian.model_hamiltonian.ModelHamiltonian>ModelHamiltonian</a></p></li></ul><h4 id=set_ndnd-max_loop200-tol00001>set_nd(nd, max_loop=200, tol=0.0001)<a class=td-heading-self-link href=#set_ndnd-max_loop200-tol00001 aria-label="Heading self-link"></a></h4><p>Adjust number d-electrons.</p><p>Adjust the double-counting to get the desired number of d-electrons while
maintaining the proper density. This algo creates a a scalar function which
computes nd for a given dc while always adjusting the fermi energy to give
the correct density. This function is then manually bounded and then sent
to brentq in order to find the root.</p><h4 id=set_self_energyself_energy-ferminone-dcnone>set_self_energy(self_energy, fermi=None, dc=None)<a class=td-heading-self-link href=#set_self_energyself_energy-ferminone-dcnone aria-label="Heading self-link"></a></h4><h4 id=set_total_energy>set_total_energy()<a class=td-heading-self-link href=#set_total_energy aria-label="Heading self-link"></a></h4><p>Compute the total energy of the Hamiltonian with tetrahedron method.</p></div><div class=td-content style=page-break-before:always><h1 id=pg-5b8953f9423f88904c61933f3651e777>8.16 - Module principia_materia.hamiltonian.hamiltonian</h1><div class=lead>Module principia_materia.hamiltonian.hamiltonian</div><h1 id=principia_materiahamiltonianhamiltonian-module>principia_materia.hamiltonian.hamiltonian module<a class=td-heading-self-link href=#principia_materiahamiltonianhamiltonian-module aria-label="Heading self-link"></a></h1><h3 id=_class_-principia_materiahamiltonianhamiltonianhamiltonianstructure-meshnone-pgc1-nspin1-unitsev-verbosity1-tol1e-06><em>class</em> principia_materia.hamiltonian.hamiltonian.Hamiltonian(structure, mesh=None, pg=&lsquo;C1&rsquo;, nspin=1, units=&lsquo;eV&rsquo;, verbosity=1, tol=1e-06)<a class=td-heading-self-link href=#_class_-principia_materiahamiltonianhamiltonianhamiltonianstructure-meshnone-pgc1-nspin1-unitsev-verbosity1-tol1e-06 aria-label="Heading self-link"></a></h3><p>Bases: <code>object</code></p><p>The Hamiltonian of a system.</p><h4 id=compute_dosnbins-return_cdosfalse>compute_DOS(nbins, return_cdos=False)<a class=td-heading-self-link href=#compute_dosnbins-return_cdosfalse aria-label="Heading self-link"></a></h4><p>Compute density of states for energies between the minimum and maximum values of eigenvalues.</p><ul><li><p><strong>Parameters</strong></p><p><strong>nbins</strong> (int) – The number of energies to evaluate between the minimum and maximum eigenvalues.</p></li></ul><h4 id=_dos>_dos()<a class=td-heading-self-link href=#_dos aria-label="Heading self-link"></a></h4><p>Density of states.</p><ul><li><p><strong>Type</strong></p><p>array of float, shape(nbins, nspins)</p></li></ul><h4 id=_cdos>_cdos()<a class=td-heading-self-link href=#_cdos aria-label="Heading self-link"></a></h4><p>Cumulative density of states.</p><ul><li><p><strong>Type</strong></p><p>array of float, shape(nbins, nspins)</p></li></ul><h4 id=compute_pdosnbins-return_cpdosfalse>compute_PDOS(nbins, return_cpdos=False)<a class=td-heading-self-link href=#compute_pdosnbins-return_cpdosfalse aria-label="Heading self-link"></a></h4><p>Compute partial density of states for energies between the minimum and maximum values of eigenvalues.</p><ul><li><p><strong>Parameters</strong></p><p><strong>nbins</strong> (int) – The number of energies to evaluate between the minimum and maximum eigenvalues.</p></li></ul><h4 id=_pdos>_pdos()<a class=td-heading-self-link href=#_pdos aria-label="Heading self-link"></a></h4><p>Partial density of states.</p><ul><li><p><strong>Type</strong></p><p>array of float, shape(nbins, nspins, norbitals)</p></li></ul><h4 id=_cpdos>_cpdos()<a class=td-heading-self-link href=#_cpdos aria-label="Heading self-link"></a></h4><p>Cumulative partial density of states.</p><ul><li><p><strong>Type</strong></p><p>array of float, shape(nbins, nspins, norbitals)</p></li></ul><h4 id=_property_-decimal><em>property</em> decimal()<a class=td-heading-self-link href=#_property_-decimal aria-label="Heading self-link"></a></h4><h4 id=_abstract_-diagonalize_hamiltonianshamiltonians_matrices><em>abstract</em> diagonalize_hamiltonians(hamiltonians_matrices)<a class=td-heading-self-link href=#_abstract_-diagonalize_hamiltonianshamiltonians_matrices aria-label="Heading self-link"></a></h4><p>Diagonalize hamiltonians in reciprocal space.</p><p>In terms of electrons, it’s computing the eigenvalues of the hamiltonians.
In terms of phonons, it’s compute the phonon frequencies of dynamic matrices.</p><ul><li><p><strong>Returns</strong></p><ul><li><p><strong>eigenvalues</strong> (<em>array of float, shape(N, nspin, norbitals)</em>)</p></li><li><p><strong>eigenvectors</strong> (<em>array of float, shape(N, nspin, norbitals, norbitals)</em>)</p></li></ul></li></ul><h4 id=_abstract_-get_hamiltonian_matrices_at_kpointskpoints><em>abstract</em> get_hamiltonian_matrices_at_kpoints(kpoints)<a class=td-heading-self-link href=#_abstract_-get_hamiltonian_matrices_at_kpointskpoints aria-label="Heading self-link"></a></h4><p>Get hamiltonian matrices at k-points</p><ul><li><p><strong>Parameters</strong></p><p><strong>kpoints</strong> (array of float or <a href=/docs/references/principia_materia.mathematics.new_fraction.html#principia_materia.mathematics.new_fraction.Fraction>Fraction</a>, shape(dim, ) or shape(N, dim)) – k-points.</p></li><li><p><strong>Returns</strong></p><p><strong>hamiltonians_matrices</strong> – Interaction matrices.</p></li><li><p><strong>Return type</strong></p><p>array of complex, shape(norbitals, norbitals) or shape(N, norbitals, norbitals)</p></li></ul><h4 id=_property_-is_kpoints_from_mesh><em>property</em> is_kpoints_from_mesh()<a class=td-heading-self-link href=#_property_-is_kpoints_from_mesh aria-label="Heading self-link"></a></h4><p>Check if the k-points attribute matches the k-point mesh generated from self.mesh.</p><ul><li><p><strong>Returns</strong></p><p><strong>match</strong> – Whether the k-points attribute matches the k-point mesh.</p></li><li><p><strong>Return type</strong></p><p>bool</p></li></ul><h4 id=_property_-nspin><em>property</em> nspin()<a class=td-heading-self-link href=#_property_-nspin aria-label="Heading self-link"></a></h4><h4 id=set_charmblochrep>set_charmblochrep()<a class=td-heading-self-link href=#set_charmblochrep aria-label="Heading self-link"></a></h4><h4 id=set_eigenvalues>set_eigenvalues()<a class=td-heading-self-link href=#set_eigenvalues aria-label="Heading self-link"></a></h4><h4 id=_abstract_-set_hamiltonianhamiltonian><em>abstract</em> set_hamiltonian(hamiltonian)<a class=td-heading-self-link href=#_abstract_-set_hamiltonianhamiltonian aria-label="Heading self-link"></a></h4><h4 id=set_hamiltonian_at_kpointskpoints>set_hamiltonian_at_kpoints(kpoints)<a class=td-heading-self-link href=#set_hamiltonian_at_kpointskpoints aria-label="Heading self-link"></a></h4><h4 id=set_hamiltonian_from_mesh>set_hamiltonian_from_mesh()<a class=td-heading-self-link href=#set_hamiltonian_from_mesh aria-label="Heading self-link"></a></h4><h4 id=set_tetrahedra>set_tetrahedra()<a class=td-heading-self-link href=#set_tetrahedra aria-label="Heading self-link"></a></h4><h4 id=_property_-spin><em>property</em> spin()<a class=td-heading-self-link href=#_property_-spin aria-label="Heading self-link"></a></h4><h4 id=_property_-units><em>property</em> units()<a class=td-heading-self-link href=#_property_-units aria-label="Heading self-link"></a></h4></div><div class=td-content style=page-break-before:always><h1 id=pg-ea2c9565bdf2a8417d53590ed7fc3719>8.17 - Module principia_materia.hamiltonian.model_hamiltonian</h1><div class=lead>Module principia_materia.hamiltonian.model_hamiltonian</div><h1 id=principia_materiahamiltonianmodel_hamiltonian-module>principia_materia.hamiltonian.model_hamiltonian module<a class=td-heading-self-link href=#principia_materiahamiltonianmodel_hamiltonian-module aria-label="Heading self-link"></a></h1><h3 id=_class_-principia_materiahamiltonianmodel_hamiltonianmodelhamiltoniandim3-ftmode0><em>class</em> principia_materia.hamiltonian.model_hamiltonian.ModelHamiltonian(dim=3, ftmode=0)<a class=td-heading-self-link href=#_class_-principia_materiahamiltonianmodel_hamiltonianmodelhamiltoniandim3-ftmode0 aria-label="Heading self-link"></a></h3><p>Bases: <code>object</code></p><h4 id=_classmethod_-from_dictdata-ftmode0><em>classmethod</em> from_dict(data, ftmode=0)<a class=td-heading-self-link href=#_classmethod_-from_dictdata-ftmode0 aria-label="Heading self-link"></a></h4><h4 id=get_hamiltonian_at_kpointkpoints>get_hamiltonian_at_kpoint(kpoints)<a class=td-heading-self-link href=#get_hamiltonian_at_kpointkpoints aria-label="Heading self-link"></a></h4><h4 id=_property_-hamiltonian_matrices><em>property</em> hamiltonian_matrices()<a class=td-heading-self-link href=#_property_-hamiltonian_matrices aria-label="Heading self-link"></a></h4><h4 id=_property_-nortbials><em>property</em> nortbials()<a class=td-heading-self-link href=#_property_-nortbials aria-label="Heading self-link"></a></h4><h4 id=set_hamiltoniantpoints-hamiltonian_matrices>set_hamiltonian(tpoints, hamiltonian_matrices)<a class=td-heading-self-link href=#set_hamiltoniantpoints-hamiltonian_matrices aria-label="Heading self-link"></a></h4><h4 id=_property_-tpoints><em>property</em> tpoints()<a class=td-heading-self-link href=#_property_-tpoints aria-label="Heading self-link"></a></h4><h3 id=principia_materiahamiltonianmodel_hamiltonianformat_hamiltonian_to_yamlobj>principia_materia.hamiltonian.model_hamiltonian.format_hamiltonian_to_yaml(obj)<a class=td-heading-self-link href=#principia_materiahamiltonianmodel_hamiltonianformat_hamiltonian_to_yamlobj aria-label="Heading self-link"></a></h3><h3 id=principia_materiahamiltonianmodel_hamiltonianget_modelhamiltonian_hdf5_wrapper>principia_materia.hamiltonian.model_hamiltonian.get_ModelHamiltonian_hdf5_wrapper()<a class=td-heading-self-link href=#principia_materiahamiltonianmodel_hamiltonianget_modelhamiltonian_hdf5_wrapper aria-label="Heading self-link"></a></h3><h3 id=principia_materiahamiltonianmodel_hamiltonianget_modelhamiltonian_yaml_wrapper>principia_materia.hamiltonian.model_hamiltonian.get_ModelHamiltonian_yaml_wrapper()<a class=td-heading-self-link href=#principia_materiahamiltonianmodel_hamiltonianget_modelhamiltonian_yaml_wrapper aria-label="Heading self-link"></a></h3><h3 id=principia_materiahamiltonianmodel_hamiltonianget_modelhamiltonian_from_hdf5h5file>principia_materia.hamiltonian.model_hamiltonian.get_modelhamiltonian_from_hdf5(h5file)<a class=td-heading-self-link href=#principia_materiahamiltonianmodel_hamiltonianget_modelhamiltonian_from_hdf5h5file aria-label="Heading self-link"></a></h3><h3 id=principia_materiahamiltonianmodel_hamiltonianget_modelhamiltonian_from_yamlfilename>principia_materia.hamiltonian.model_hamiltonian.get_modelhamiltonian_from_yaml(filename)<a class=td-heading-self-link href=#principia_materiahamiltonianmodel_hamiltonianget_modelhamiltonian_from_yamlfilename aria-label="Heading self-link"></a></h3><h3 id=principia_materiahamiltonianmodel_hamiltonianload_hamiltoniandata>principia_materia.hamiltonian.model_hamiltonian.load_hamiltonian(data)<a class=td-heading-self-link href=#principia_materiahamiltonianmodel_hamiltonianload_hamiltoniandata aria-label="Heading self-link"></a></h3><h3 id=principia_materiahamiltonianmodel_hamiltoniansave_modelhamiltonian_to_hdf5obj-h5filemodel_hamiltonianhdf5-overwritefalse>principia_materia.hamiltonian.model_hamiltonian.save_modelhamiltonian_to_hdf5(obj, h5file=&lsquo;model_hamiltonian.hdf5&rsquo;, overwrite=False)<a class=td-heading-self-link href=#principia_materiahamiltonianmodel_hamiltoniansave_modelhamiltonian_to_hdf5obj-h5filemodel_hamiltonianhdf5-overwritefalse aria-label="Heading self-link"></a></h3><h3 id=principia_materiahamiltonianmodel_hamiltoniansave_modelhamiltonian_to_yamlobj-filenamemodel_hamiltonianhdf5-overwritefalse>principia_materia.hamiltonian.model_hamiltonian.save_modelhamiltonian_to_yaml(obj, filename=&lsquo;model_hamiltonian.hdf5&rsquo;, overwrite=False)<a class=td-heading-self-link href=#principia_materiahamiltonianmodel_hamiltoniansave_modelhamiltonian_to_yamlobj-filenamemodel_hamiltonianhdf5-overwritefalse aria-label="Heading self-link"></a></h3></div><div class=td-content style=page-break-before:always><h1 id=pg-c839d38fca0e7c7e640da4e24c316b01>8.18 - Module principia_materia.hamiltonian.phonon_hamiltonian</h1><div class=lead>Module principia_materia.hamiltonian.phonon_hamiltonian</div><h1 id=principia_materiahamiltonianphonon_hamiltonian-module>principia_materia.hamiltonian.phonon_hamiltonian module<a class=td-heading-self-link href=#principia_materiahamiltonianphonon_hamiltonian-module aria-label="Heading self-link"></a></h1><h3 id=_class_-principia_materiahamiltonianphonon_hamiltonianphononhamiltonianstructure-meshnone-pgc1-unitsthz-verbosity1-tol1e-06><em>class</em> principia_materia.hamiltonian.phonon_hamiltonian.PhononHamiltonian(structure, mesh=None, pg=&lsquo;C1&rsquo;, units=&lsquo;THz&rsquo;, verbosity=1, tol=1e-06)<a class=td-heading-self-link href=#_class_-principia_materiahamiltonianphonon_hamiltonianphononhamiltonianstructure-meshnone-pgc1-unitsthz-verbosity1-tol1e-06 aria-label="Heading self-link"></a></h3><p>Bases: <a href=/docs/references/principia_materia.hamiltonian.hamiltonian.html#principia_materia.hamiltonian.hamiltonian.Hamiltonian><code>Hamiltonian</code></a></p><h4 id=diagonalize_hamiltonianshamiltonians_matrices-uplol>diagonalize_hamiltonians(hamiltonians_matrices, UPLO=&lsquo;L&rsquo;)<a class=td-heading-self-link href=#diagonalize_hamiltonianshamiltonians_matrices-uplol aria-label="Heading self-link"></a></h4><p>Diagonalize and compute the phonon frequencies of dynamic matrices in reciprocal space.</p><ul><li><p><strong>Returns</strong></p><ul><li><p><strong>eigenvalues</strong> (<em>array of float, shape(N, nspin, norbitals)</em>)</p></li><li><p><strong>eigenvectors</strong> (<em>array of float, shape(N, nspin, norbitals, norbitals)</em>)</p></li></ul></li></ul><h4 id=get_hamiltonian_matrices_at_kpointskpoints>get_hamiltonian_matrices_at_kpoints(kpoints)<a class=td-heading-self-link href=#get_hamiltonian_matrices_at_kpointskpoints aria-label="Heading self-link"></a></h4><p>Get hamiltonian matrices at k-points</p><ul><li><p><strong>Parameters</strong></p><p><strong>kpoints</strong> (array of float or <a href=/docs/references/principia_materia.mathematics.new_fraction.html#principia_materia.mathematics.new_fraction.Fraction>Fraction</a>, shape(dim, ) or shape(N, dim)) – k-points.</p></li><li><p><strong>Returns</strong></p><p><strong>hamiltonians_matrices</strong> – Interaction matrices.</p></li><li><p><strong>Return type</strong></p><p>array of complex, shape(norbitals, norbitals) or shape(N, norbitals, norbitals)</p></li></ul><h4 id=set_hamiltonianhamiltonian>set_hamiltonian(hamiltonian)<a class=td-heading-self-link href=#set_hamiltonianhamiltonian aria-label="Heading self-link"></a></h4><p>Set phonon hamiltonian.</p><ul><li><p><strong>Parameters</strong></p><p><strong>hamiltonian</strong> (<a href=/docs/references/principia_materia.phonon_id.fourier_interpolation.html#principia_materia.phonon_id.fourier_interpolation.FourierInterpolation>FourierInterpolation</a> or <a href=/docs/references/principia_materia.hamiltonian.model_hamiltonian.html#principia_materia.hamiltonian.model_hamiltonian.ModelHamiltonian>ModelHamiltonian</a> or str) – FourierInterpolation or ModelHamiltonian object or path to FourierInterpolation HDF5 data file.</p></li></ul><h4 id=_hamiltonian>_hamiltonian()<a class=td-heading-self-link href=#_hamiltonian aria-label="Heading self-link"></a></h4><p>FourierInterpolation or ModelHamiltonian object.</p><ul><li><p><strong>Type</strong></p><p><a href=/docs/references/principia_materia.phonon_id.fourier_interpolation.html#principia_materia.phonon_id.fourier_interpolation.FourierInterpolation>FourierInterpolation</a> or <a href=/docs/references/principia_materia.hamiltonian.model_hamiltonian.html#principia_materia.hamiltonian.model_hamiltonian.ModelHamiltonian>ModelHamiltonian</a></p></li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-7dc5fa54fe385a18bea1dcd7bee3993e>8.19 - Module principia_materia.io_interface</h1><div class=lead>Module principia_materia.io_interface</div><h1 id=principia_materiaio_interface-package>principia_materia.io_interface package<a class=td-heading-self-link href=#principia_materiaio_interface-package aria-label="Heading self-link"></a></h1><h2 id=submodules>Submodules<a class=td-heading-self-link href=#submodules aria-label="Heading self-link"></a></h2><ul><li><p><a href=/docs/references/principia_materia.io_interface.array_io.html>principia_materia.io_interface.array_io module</a></p></li><li><p><a href=/docs/references/principia_materia.io_interface.base_data_wrapper.html>principia_materia.io_interface.base_data_wrapper module</a></p><ul><li><p><a href=/docs/references/principia_materia.io_interface.base_data_wrapper.html#principia_materia.io_interface.base_data_wrapper.BaseDataWrapper><code>BaseDataWrapper</code></a></p><ul><li><p><a href=/docs/references/principia_materia.io_interface.base_data_wrapper.html#principia_materia.io_interface.base_data_wrapper.BaseDataWrapper.add_item><code>BaseDataWrapper.add_item()</code></a></p></li><li><p><a href=/docs/references/principia_materia.io_interface.base_data_wrapper.html#principia_materia.io_interface.base_data_wrapper.BaseDataWrapper.copy><code>BaseDataWrapper.copy()</code></a></p></li><li><p><a href=/docs/references/principia_materia.io_interface.base_data_wrapper.html#principia_materia.io_interface.base_data_wrapper.BaseDataWrapper.delete_item><code>BaseDataWrapper.delete_item()</code></a></p></li><li><p><a href=/docs/references/principia_materia.io_interface.base_data_wrapper.html#principia_materia.io_interface.base_data_wrapper.BaseDataWrapper.dump><code>BaseDataWrapper.dump()</code></a></p></li><li><p><a href=/docs/references/principia_materia.io_interface.base_data_wrapper.html#principia_materia.io_interface.base_data_wrapper.BaseDataWrapper.dumps><code>BaseDataWrapper.dumps()</code></a></p></li><li><p><a href=/docs/references/principia_materia.io_interface.base_data_wrapper.html#principia_materia.io_interface.base_data_wrapper.BaseDataWrapper.get_alias_map><code>BaseDataWrapper.get_alias_map()</code></a></p></li><li><p><a href=/docs/references/principia_materia.io_interface.base_data_wrapper.html#principia_materia.io_interface.base_data_wrapper.BaseDataWrapper.get_all_names_aliases><code>BaseDataWrapper.get_all_names_aliases()</code></a></p></li><li><p><a href=/docs/references/principia_materia.io_interface.base_data_wrapper.html#principia_materia.io_interface.base_data_wrapper.BaseDataWrapper.load><code>BaseDataWrapper.load()</code></a></p></li><li><p><a href=/docs/references/principia_materia.io_interface.base_data_wrapper.html#principia_materia.io_interface.base_data_wrapper.BaseDataWrapper.loads><code>BaseDataWrapper.loads()</code></a></p></li><li><p><a href=/docs/references/principia_materia.io_interface.base_data_wrapper.html#principia_materia.io_interface.base_data_wrapper.BaseDataWrapper.register_dtype><code>BaseDataWrapper.register_dtype()</code></a></p></li><li><p><a href=/docs/references/principia_materia.io_interface.base_data_wrapper.html#principia_materia.io_interface.base_data_wrapper.BaseDataWrapper.self_check><code>BaseDataWrapper.self_check()</code></a></p></li><li><p><a href=/docs/references/principia_materia.io_interface.base_data_wrapper.html#principia_materia.io_interface.base_data_wrapper.BaseDataWrapper.verify_data><code>BaseDataWrapper.verify_data()</code></a></p></li></ul></li></ul></li><li><p><a href=/docs/references/principia_materia.io_interface.compute_job.html>principia_materia.io_interface.compute_job module</a></p><ul><li><p><a href=/docs/references/principia_materia.io_interface.compute_job.html#principia_materia.io_interface.compute_job.ComputeJob><code>ComputeJob</code></a></p><ul><li><p><a href=/docs/references/principia_materia.io_interface.compute_job.html#principia_materia.io_interface.compute_job.ComputeJob.copy_files><code>ComputeJob.copy_files()</code></a></p></li><li><p><a href=/docs/references/principia_materia.io_interface.compute_job.html#principia_materia.io_interface.compute_job.ComputeJob.create_job><code>ComputeJob.create_job()</code></a></p></li><li><p><a href=/docs/references/principia_materia.io_interface.compute_job.html#principia_materia.io_interface.compute_job.ComputeJob.get_born_effective_charges><code>ComputeJob.get_born_effective_charges()</code></a></p></li><li><p><a href=/docs/references/principia_materia.io_interface.compute_job.html#principia_materia.io_interface.compute_job.ComputeJob.get_cutoff><code>ComputeJob.get_cutoff()</code></a></p></li><li><p><a href=/docs/references/principia_materia.io_interface.compute_job.html#principia_materia.io_interface.compute_job.ComputeJob.get_dielectric_tensor><code>ComputeJob.get_dielectric_tensor()</code></a></p></li><li><p><a href=/docs/references/principia_materia.io_interface.compute_job.html#principia_materia.io_interface.compute_job.ComputeJob.get_energy><code>ComputeJob.get_energy()</code></a></p></li><li><p><a href=/docs/references/principia_materia.io_interface.compute_job.html#principia_materia.io_interface.compute_job.ComputeJob.get_forces><code>ComputeJob.get_forces()</code></a></p></li><li><p><a href=/docs/references/principia_materia.io_interface.compute_job.html#principia_materia.io_interface.compute_job.ComputeJob.get_kmesh><code>ComputeJob.get_kmesh()</code></a></p></li><li><p><a href=/docs/references/principia_materia.io_interface.compute_job.html#principia_materia.io_interface.compute_job.ComputeJob.get_magnetic_moments><code>ComputeJob.get_magnetic_moments()</code></a></p></li><li><p><a href=/docs/references/principia_materia.io_interface.compute_job.html#principia_materia.io_interface.compute_job.ComputeJob.get_natoms><code>ComputeJob.get_natoms()</code></a></p></li><li><p><a href=/docs/references/principia_materia.io_interface.compute_job.html#principia_materia.io_interface.compute_job.ComputeJob.get_relaxation_displacement><code>ComputeJob.get_relaxation_displacement()</code></a></p></li><li><p><a href=/docs/references/principia_materia.io_interface.compute_job.html#principia_materia.io_interface.compute_job.ComputeJob.get_stress><code>ComputeJob.get_stress()</code></a></p></li><li><p><a href=/docs/references/principia_materia.io_interface.compute_job.html#principia_materia.io_interface.compute_job.ComputeJob.initialize_configuration><code>ComputeJob.initialize_configuration()</code></a></p></li><li><p><a href=/docs/references/principia_materia.io_interface.compute_job.html#principia_materia.io_interface.compute_job.ComputeJob.is_job_finished><code>ComputeJob.is_job_finished</code></a></p></li><li><p><a href=/docs/references/principia_materia.io_interface.compute_job.html#principia_materia.io_interface.compute_job.ComputeJob.path><code>ComputeJob.path</code></a></p></li><li><p><a href=/docs/references/principia_materia.io_interface.compute_job.html#principia_materia.io_interface.compute_job.ComputeJob.rescale_kmesh><code>ComputeJob.rescale_kmesh()</code></a></p></li><li><p><a href=/docs/references/principia_materia.io_interface.compute_job.html#principia_materia.io_interface.compute_job.ComputeJob.set_kmesh><code>ComputeJob.set_kmesh()</code></a></p></li><li><p><a href=/docs/references/principia_materia.io_interface.compute_job.html#principia_materia.io_interface.compute_job.ComputeJob.set_output><code>ComputeJob.set_output()</code></a></p></li><li><p><a href=/docs/references/principia_materia.io_interface.compute_job.html#principia_materia.io_interface.compute_job.ComputeJob.structure><code>ComputeJob.structure</code></a></p></li></ul></li></ul></li><li><p><a href=/docs/references/principia_materia.io_interface.compute_job_series.html>principia_materia.io_interface.compute_job_series module</a></p><ul><li><p><a href=/docs/references/principia_materia.io_interface.compute_job_series.html#principia_materia.io_interface.compute_job_series.ComputeJobSeries><code>ComputeJobSeries</code></a></p><ul><li><p><a href=/docs/references/principia_materia.io_interface.compute_job_series.html#principia_materia.io_interface.compute_job_series.ComputeJobSeries.config_path><code>ComputeJobSeries.config_path</code></a></p></li><li><p><a href=/docs/references/principia_materia.io_interface.compute_job_series.html#principia_materia.io_interface.compute_job_series.ComputeJobSeries.create_directory><code>ComputeJobSeries.create_directory()</code></a></p></li><li><p><a href=/docs/references/principia_materia.io_interface.compute_job_series.html#principia_materia.io_interface.compute_job_series.ComputeJobSeries.create_job><code>ComputeJobSeries.create_job()</code></a></p></li><li><p><a href=/docs/references/principia_materia.io_interface.compute_job_series.html#principia_materia.io_interface.compute_job_series.ComputeJobSeries.create_jobs><code>ComputeJobSeries.create_jobs()</code></a></p></li><li><p><a href=/docs/references/principia_materia.io_interface.compute_job_series.html#principia_materia.io_interface.compute_job_series.ComputeJobSeries.get_born_effective_charges_from_job><code>ComputeJobSeries.get_born_effective_charges_from_job()</code></a></p></li><li><p><a href=/docs/references/principia_materia.io_interface.compute_job_series.html#principia_materia.io_interface.compute_job_series.ComputeJobSeries.get_compute_job><code>ComputeJobSeries.get_compute_job()</code></a></p></li><li><p><a href=/docs/references/principia_materia.io_interface.compute_job_series.html#principia_materia.io_interface.compute_job_series.ComputeJobSeries.get_dielectric_tensor_from_job><code>ComputeJobSeries.get_dielectric_tensor_from_job()</code></a></p></li><li><p><a href=/docs/references/principia_materia.io_interface.compute_job_series.html#principia_materia.io_interface.compute_job_series.ComputeJobSeries.get_energy_from_job><code>ComputeJobSeries.get_energy_from_job()</code></a></p></li><li><p><a href=/docs/references/principia_materia.io_interface.compute_job_series.html#principia_materia.io_interface.compute_job_series.ComputeJobSeries.get_forces_from_job><code>ComputeJobSeries.get_forces_from_job()</code></a></p></li><li><p><a href=/docs/references/principia_materia.io_interface.compute_job_series.html#principia_materia.io_interface.compute_job_series.ComputeJobSeries.get_metadata_path><code>ComputeJobSeries.get_metadata_path()</code></a></p></li><li><p><a href=/docs/references/principia_materia.io_interface.compute_job_series.html#principia_materia.io_interface.compute_job_series.ComputeJobSeries.get_results_from_jobs><code>ComputeJobSeries.get_results_from_jobs()</code></a></p></li><li><p><a href=/docs/references/principia_materia.io_interface.compute_job_series.html#principia_materia.io_interface.compute_job_series.ComputeJobSeries.get_stress_from_job><code>ComputeJobSeries.get_stress_from_job()</code></a></p></li><li><p><a href=/docs/references/principia_materia.io_interface.compute_job_series.html#principia_materia.io_interface.compute_job_series.ComputeJobSeries.save_metadata><code>ComputeJobSeries.save_metadata()</code></a></p></li><li><p><a href=/docs/references/principia_materia.io_interface.compute_job_series.html#principia_materia.io_interface.compute_job_series.ComputeJobSeries.series_exists><code>ComputeJobSeries.series_exists</code></a></p></li><li><p><a href=/docs/references/principia_materia.io_interface.compute_job_series.html#principia_materia.io_interface.compute_job_series.ComputeJobSeries.set_static_files><code>ComputeJobSeries.set_static_files()</code></a></p></li><li><p><a href=/docs/references/principia_materia.io_interface.compute_job_series.html#principia_materia.io_interface.compute_job_series.ComputeJobSeries.structure><code>ComputeJobSeries.structure</code></a></p></li></ul></li></ul></li><li><p><a href=/docs/references/principia_materia.io_interface.data_wrapper.html>principia_materia.io_interface.data_wrapper module</a></p><ul><li><p><a href=/docs/references/principia_materia.io_interface.data_wrapper.html#principia_materia.io_interface.data_wrapper.DataWrapper><code>DataWrapper</code></a></p><ul><li><p><a href=/docs/references/principia_materia.io_interface.data_wrapper.html#principia_materia.io_interface.data_wrapper.DataWrapper.dump><code>DataWrapper.dump()</code></a></p></li><li><p><a href=/docs/references/principia_materia.io_interface.data_wrapper.html#principia_materia.io_interface.data_wrapper.DataWrapper.dumps><code>DataWrapper.dumps()</code></a></p></li><li><p><a href=/docs/references/principia_materia.io_interface.data_wrapper.html#principia_materia.io_interface.data_wrapper.DataWrapper.load><code>DataWrapper.load()</code></a></p></li><li><p><a href=/docs/references/principia_materia.io_interface.data_wrapper.html#principia_materia.io_interface.data_wrapper.DataWrapper.load_dict><code>DataWrapper.load_dict()</code></a></p></li><li><p><a href=/docs/references/principia_materia.io_interface.data_wrapper.html#principia_materia.io_interface.data_wrapper.DataWrapper.load_generic><code>DataWrapper.load_generic()</code></a></p></li><li><p><a href=/docs/references/principia_materia.io_interface.data_wrapper.html#principia_materia.io_interface.data_wrapper.DataWrapper.loads><code>DataWrapper.loads()</code></a></p></li></ul></li></ul></li><li><p><a href=/docs/references/principia_materia.io_interface.hdf5_wrapper.html>principia_materia.io_interface.hdf5_wrapper module</a></p><ul><li><p><a href=/docs/references/principia_materia.io_interface.hdf5_wrapper.html#principia_materia.io_interface.hdf5_wrapper.HDF5Wrapper><code>HDF5Wrapper</code></a></p><ul><li><p><a href=/docs/references/principia_materia.io_interface.hdf5_wrapper.html#principia_materia.io_interface.hdf5_wrapper.HDF5Wrapper.add_item><code>HDF5Wrapper.add_item()</code></a></p></li><li><p><a href=/docs/references/principia_materia.io_interface.hdf5_wrapper.html#principia_materia.io_interface.hdf5_wrapper.HDF5Wrapper.dump><code>HDF5Wrapper.dump()</code></a></p></li><li><p><a href=/docs/references/principia_materia.io_interface.hdf5_wrapper.html#principia_materia.io_interface.hdf5_wrapper.HDF5Wrapper.dump_h5file><code>HDF5Wrapper.dump_h5file()</code></a></p></li><li><p><a href=/docs/references/principia_materia.io_interface.hdf5_wrapper.html#principia_materia.io_interface.hdf5_wrapper.HDF5Wrapper.dumps><code>HDF5Wrapper.dumps()</code></a></p></li><li><p><a href=/docs/references/principia_materia.io_interface.hdf5_wrapper.html#principia_materia.io_interface.hdf5_wrapper.HDF5Wrapper.load><code>HDF5Wrapper.load()</code></a></p></li><li><p><a href=/docs/references/principia_materia.io_interface.hdf5_wrapper.html#principia_materia.io_interface.hdf5_wrapper.HDF5Wrapper.load_h5file><code>HDF5Wrapper.load_h5file()</code></a></p></li><li><p><a href=/docs/references/principia_materia.io_interface.hdf5_wrapper.html#principia_materia.io_interface.hdf5_wrapper.HDF5Wrapper.loads><code>HDF5Wrapper.loads()</code></a></p></li></ul></li></ul></li><li><p><a href=/docs/references/principia_materia.io_interface.jobs_db.html>principia_materia.io_interface.jobs_db module</a></p><ul><li><p><a href=/docs/references/principia_materia.io_interface.jobs_db.html#principia_materia.io_interface.jobs_db.JobsDB><code>JobsDB</code></a></p><ul><li><p><a href=/docs/references/principia_materia.io_interface.jobs_db.html#principia_materia.io_interface.jobs_db.JobsDB.add_filter><code>JobsDB.add_filter()</code></a></p></li><li><p><a href=/docs/references/principia_materia.io_interface.jobs_db.html#principia_materia.io_interface.jobs_db.JobsDB.create_job><code>JobsDB.create_job()</code></a></p></li><li><p><a href=/docs/references/principia_materia.io_interface.jobs_db.html#principia_materia.io_interface.jobs_db.JobsDB.create_jobs><code>JobsDB.create_jobs()</code></a></p></li><li><p><a href=/docs/references/principia_materia.io_interface.jobs_db.html#principia_materia.io_interface.jobs_db.JobsDB.get_born_effective_charges_from_job><code>JobsDB.get_born_effective_charges_from_job()</code></a></p></li><li><p><a href=/docs/references/principia_materia.io_interface.jobs_db.html#principia_materia.io_interface.jobs_db.JobsDB.get_dielectric_tensor_from_job><code>JobsDB.get_dielectric_tensor_from_job()</code></a></p></li><li><p><a href=/docs/references/principia_materia.io_interface.jobs_db.html#principia_materia.io_interface.jobs_db.JobsDB.get_energy_from_job><code>JobsDB.get_energy_from_job()</code></a></p></li><li><p><a href=/docs/references/principia_materia.io_interface.jobs_db.html#principia_materia.io_interface.jobs_db.JobsDB.get_forces_from_job><code>JobsDB.get_forces_from_job()</code></a></p></li><li><p><a href=/docs/references/principia_materia.io_interface.jobs_db.html#principia_materia.io_interface.jobs_db.JobsDB.get_metadata_path><code>JobsDB.get_metadata_path()</code></a></p></li><li><p><a href=/docs/references/principia_materia.io_interface.jobs_db.html#principia_materia.io_interface.jobs_db.JobsDB.get_results_from_jobs><code>JobsDB.get_results_from_jobs()</code></a></p></li><li><p><a href=/docs/references/principia_materia.io_interface.jobs_db.html#principia_materia.io_interface.jobs_db.JobsDB.get_stress_from_job><code>JobsDB.get_stress_from_job()</code></a></p></li><li><p><a href=/docs/references/principia_materia.io_interface.jobs_db.html#principia_materia.io_interface.jobs_db.JobsDB.remove_filter><code>JobsDB.remove_filter()</code></a></p></li><li><p><a href=/docs/references/principia_materia.io_interface.jobs_db.html#principia_materia.io_interface.jobs_db.JobsDB.reset_filters><code>JobsDB.reset_filters()</code></a></p></li><li><p><a href=/docs/references/principia_materia.io_interface.jobs_db.html#principia_materia.io_interface.jobs_db.JobsDB.save_metadata><code>JobsDB.save_metadata()</code></a></p></li><li><p><a href=/docs/references/principia_materia.io_interface.jobs_db.html#principia_materia.io_interface.jobs_db.JobsDB.save_table_info><code>JobsDB.save_table_info()</code></a></p></li><li><p><a href=/docs/references/principia_materia.io_interface.jobs_db.html#principia_materia.io_interface.jobs_db.JobsDB.set_table><code>JobsDB.set_table()</code></a></p></li><li><p><a href=/docs/references/principia_materia.io_interface.jobs_db.html#principia_materia.io_interface.jobs_db.JobsDB.structure><code>JobsDB.structure</code></a></p></li></ul></li></ul></li><li><p><a href=/docs/references/principia_materia.io_interface.qpoints_io.html>principia_materia.io_interface.qpoints_io module</a></p><ul><li><p><a href=/docs/references/principia_materia.io_interface.qpoints_io.html#principia_materia.io_interface.qpoints_io.array_to_list><code>array_to_list()</code></a></p></li><li><p><a href=/docs/references/principia_materia.io_interface.qpoints_io.html#principia_materia.io_interface.qpoints_io.array_to_tuple><code>array_to_tuple()</code></a></p></li></ul></li><li><p><a href=/docs/references/principia_materia.io_interface.vasp.html>principia_materia.io_interface.vasp module</a></p><ul><li><p><a href=/docs/references/principia_materia.io_interface.vasp.html#principia_materia.io_interface.vasp.parse_poscar><code>parse_poscar()</code></a></p></li><li><p><a href=/docs/references/principia_materia.io_interface.vasp.html#principia_materia.io_interface.vasp.write_poscar><code>write_poscar()</code></a></p></li></ul></li><li><p><a href=/docs/references/principia_materia.io_interface.yaml_dump.html>principia_materia.io_interface.yaml_dump module</a></p><ul><li><a href=/docs/references/principia_materia.io_interface.yaml_dump.html#principia_materia.io_interface.yaml_dump.yaml_dumps><code>yaml_dumps()</code></a></li></ul></li></ul><h2 id=module-contents>Module contents<a class=td-heading-self-link href=#module-contents aria-label="Heading self-link"></a></h2><h3 id=principia_materiaio_interfaceformat_tensortensor-prec8-cell_lengthnone-flatfalse-yaml_stylefalse-indicestrue-index_width5>principia_materia.io_interface.format_tensor(tensor, prec=8, cell_length=None, flat=False, yaml_style=False, indices=True, index_width=5)<a class=td-heading-self-link href=#principia_materiaio_interfaceformat_tensortensor-prec8-cell_lengthnone-flatfalse-yaml_stylefalse-indicestrue-index_width5 aria-label="Heading self-link"></a></h3><p>Format a tensor into string</p><p>Format float arrays from 1 or more dimensions into string, with several settings to control the format.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>tensor</strong> (array of floats) – The tensor to format.</p></li><li><p><strong>prec</strong> (int, optional, default to 8) – The decimal points to round the floating point numbers to.</p></li><li><p><strong>cell_length</strong> (int, optional, default to None) – The width to align numbers in.</p></li><li><p><strong>flat</strong> (bool, optional, default to False) – If True, print out every single tensor entry along side its index.
If True, flat <code>yaml_style</code>, and <code>indices</code> are ignored.
If False, if input tensor is a vector or matrix, print them out directly,
if input tensor has rank greater than 2, loop over all the axes except
the last 2, and print the last 2 axes out as a matrix.</p></li><li><p><strong>yaml_style</strong> (bool, optional, default to False) – If True, print out tensor in YAML nested list format.</p></li><li><p><strong>indices</strong> (bool, optional, default to True) – If True, print out the indices of the matrix when rank of tensor is
greater than 2.</p></li><li><p><strong>index_width</strong> (int, optional, default to 5) – The width to align indices numbers in.</p></li></ul></li></ul><h3 id=principia_materiaio_interfaceget_compute_engine_map>principia_materia.io_interface.get_compute_engine_map()<a class=td-heading-self-link href=#principia_materiaio_interfaceget_compute_engine_map aria-label="Heading self-link"></a></h3><p>Load First-Principle Interfaces.</p><ul><li><p><strong>Returns</strong></p><p><strong>compute_engine_map</strong> – A dictionary containing the available first-principle interfaces in the form of
subclasses of ComputeJob.</p></li><li><p><strong>Return type</strong></p><p>dict</p></li></ul><h3 id=principia_materiaio_interfaceindenttext-prefix---initial_indentnone>principia_materia.io_interface.indent(text, prefix=&rsquo; &lsquo;, initial_indent=None)<a class=td-heading-self-link href=#principia_materiaio_interfaceindenttext-prefix---initial_indentnone aria-label="Heading self-link"></a></h3><p>Indent text</p><p>Create indentation for text, the function can also treat first line with special indentation.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>text</strong> (str) – Text to indent</p></li><li><p><strong>prefix</strong> (str or int, optional, default to " &ldquo;) – The indentation, if type is str, prepend the prefix to each line,
if type is int, prepend the amount of spaces to each line.</p></li><li><p><strong>initial_indent</strong> (str, optional, default to None) – If not None, prepend the input string to the first line of text.</p></li></ul></li></ul><h3 id=principia_materiaio_interfacejobs_series_to_jobs_dbjobs_db-jobs_series-search_conditions-updatetrue>principia_materia.io_interface.jobs_series_to_jobs_db(jobs_db, jobs_series, search_conditions=[], update=True)<a class=td-heading-self-link href=#principia_materiaio_interfacejobs_series_to_jobs_dbjobs_db-jobs_series-search_conditions-updatetrue aria-label="Heading self-link"></a></h3><p>Read Jobs in from ComputeJobSeries and store them into database with JobsDB.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>jobs_db</strong> (<a href=/docs/references/principia_materia.io_interface.jobs_db.html#principia_materia.io_interface.jobs_db.JobsDB>JobsDB</a>) – The interface of the database for storing the jobs.</p></li><li><p><strong>jobs_series</strong> (<a href=/docs/references/principia_materia.io_interface.compute_job_series.html#principia_materia.io_interface.compute_job_series.ComputeJobSeries>ComputeJobSeries</a>) – The interface to the job series for reading the jobs.</p></li><li><p><strong>search_conditions</strong> (list, optional) – Additional search conditions for filtering the jobs.</p></li><li><p><strong>update</strong> (bool, optional) – If True, only read and store the jobs that haven’t been read in before.
If False, overwrite the data already in the database.</p></li></ul></li></ul><h3 id=principia_materiaio_interfacetuple_to_strtup-prec8-striptrue>principia_materia.io_interface.tuple_to_str(tup, prec=8, strip=True)<a class=td-heading-self-link href=#principia_materiaio_interfacetuple_to_strtup-prec8-striptrue aria-label="Heading self-link"></a></h3><p>Format tuple into string.</p><p>Recursively format tuples into string.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>tup</strong> (tuple) – Input tuple.</p></li><li><p><strong>prec</strong> (int, optional, default to 8) – The decimal points to round the floating point numbers to.</p></li><li><p><strong>strip</strong> (bool, optional, default to True) – Whether to strip whitespaces from formatted numbers.</p></li></ul></li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-e108732efb55d70c09019ffa93b181fe>8.20 - Module principia_materia.io_interface.array_io</h1><div class=lead>Module principia_materia.io_interface.array_io</div><h1 id=principia_materiaio_interfacearray_io-module>principia_materia.io_interface.array_io module<a class=td-heading-self-link href=#principia_materiaio_interfacearray_io-module aria-label="Heading self-link"></a></h1></div><div class=td-content style=page-break-before:always><h1 id=pg-e0f5437cb3530f5a9f34ea58bd23b286>8.21 - Module principia_materia.io_interface.base_data_wrapper</h1><div class=lead>Module principia_materia.io_interface.base_data_wrapper</div><h1 id=principia_materiaio_interfacebase_data_wrapper-module>principia_materia.io_interface.base_data_wrapper module<a class=td-heading-self-link href=#principia_materiaio_interfacebase_data_wrapper-module aria-label="Heading self-link"></a></h1><h3 id=_class_-principia_materiaio_interfacebase_data_wrapperbasedatawrappertitlenone><em>class</em> principia_materia.io_interface.base_data_wrapper.BaseDataWrapper(title=None)<a class=td-heading-self-link href=#_class_-principia_materiaio_interfacebase_data_wrapperbasedatawrappertitlenone aria-label="Heading self-link"></a></h3><p>Bases: <code>ABC</code></p><p>A container stores how to process the dumping/loading of a collection of data</p><p>An object oriented wrapper to load and dump data in a certain format.</p><p>It’s also designed multiple wrappers can be added up to form a wrapper that handles all
the data contained in every one of the sub-wrappers.</p><ul><li><p><strong>Parameters</strong></p><p><strong>title</strong> (str, default to None) – A comment description for the file.</p></li></ul><h4 id=add_itemkey-choicesnone-dtypenone-load_dtypenone-save_dtypenone-optionalfalse-helpnone-aliasnone-dependsnone>add_item(key, choices=None, dtype=None, load_dtype=None, save_dtype=None, optional=False, help=None, alias=None, depends=None)<a class=td-heading-self-link href=#add_itemkey-choicesnone-dtypenone-load_dtypenone-save_dtypenone-optionalfalse-helpnone-aliasnone-dependsnone aria-label="Heading self-link"></a></h4><p>Add an item of data to the container.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>key</strong> (str) – The name of the item to be save in the data file.</p></li><li><p><strong>dtype</strong> (str, default to None) – Data type of the item. The corresponding save/load functions will be used to save/load the item.</p></li><li><p><strong>load_dtype</strong> (str or callable, default to None) – The function to load the item.</p></li><li><p><strong>save_dtype</strong> (str or callable, default to None) – The function to save the item.</p></li><li><p><strong>optional</strong> (bool, default to False) – Whether the item is optional.</p></li><li><p><strong>help</strong> (str, default to None) – The description of the item.</p></li><li><p><strong>alias</strong> (list of str, default to None) – A list aliases of the item keyword.</p></li><li><p><strong>depends</strong> (list of str, default to None) – The keywords that are required when the item is present.</p></li></ul></li></ul><h4 id=copy>copy()<a class=td-heading-self-link href=#copy aria-label="Heading self-link"></a></h4><h4 id=delete_itemkey-allow_missingfalse>delete_item(key, allow_missing=False)<a class=td-heading-self-link href=#delete_itemkey-allow_missingfalse aria-label="Heading self-link"></a></h4><p>Delete an item of the data from the container.</p><h4 id=_abstract_-dumpdata-filename-allow_missingfalse-overwritefalse><em>abstract</em> dump(data, filename, allow_missing=False, overwrite=False)<a class=td-heading-self-link href=#_abstract_-dumpdata-filename-allow_missingfalse-overwritefalse aria-label="Heading self-link"></a></h4><p>Dump the data into a data file</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>data</strong> (dict) – The dictionary containing data to be saved.</p></li><li><p><strong>filename</strong> (str) – The name of the file to save the data into,</p></li><li><p><strong>allow_missing</strong> (bool, optional, default to False) – Whether to allow a declared key not to exists in the data dictionary.</p></li><li><p><strong>overwrite</strong> (bool, optional, default to False) – When the file exists, whether to replace the content of the file
with the content to be saved.</p></li></ul></li></ul><h4 id=dumpsdata-allow_missingfalse>dumps(data, allow_missing=False)<a class=td-heading-self-link href=#dumpsdata-allow_missingfalse aria-label="Heading self-link"></a></h4><p>Dump the data into string</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>data</strong> (dict) – The dictionary containing data to be saved.</p></li><li><p><strong>allow_missing</strong> (bool, optional, default to False) – Whether to allow a declared key not to exists in the data dictionary.</p></li></ul></li></ul><h4 id=get_alias_map>get_alias_map()<a class=td-heading-self-link href=#get_alias_map aria-label="Heading self-link"></a></h4><h4 id=get_all_names_aliases>get_all_names_aliases()<a class=td-heading-self-link href=#get_all_names_aliases aria-label="Heading self-link"></a></h4><h4 id=_abstract_-loadfilename-allow_missingfalse-allow_unknownfalse-load_unknownfalse><em>abstract</em> load(filename, allow_missing=False, allow_unknown=False, load_unknown=False)<a class=td-heading-self-link href=#_abstract_-loadfilename-allow_missingfalse-allow_unknownfalse-load_unknownfalse aria-label="Heading self-link"></a></h4><p>Load the data from a data file</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>filename</strong> (str) – The name of the file to save the data into,</p></li><li><p><strong>allow_missing</strong> (bool, optional, default to False) – Whether to allow a declared key not to exists in the data dictionary.</p></li><li><p><strong>allow_unknown</strong> (bool, optional, default to False) – Whether to allow keys not declared in the container. Though even if
allowed, those keys will not be loaded if load_unknown == False.</p></li><li><p><strong>load_unknown</strong> (bool, optional, default to False) – Whether to load keys not declared in the container to be loaded in raw.</p></li></ul></li></ul><h4 id=loadstext-allow_missingfalse-allow_unknownfalse-load_unknownfalse>loads(text, allow_missing=False, allow_unknown=False, load_unknown=False)<a class=td-heading-self-link href=#loadstext-allow_missingfalse-allow_unknownfalse-load_unknownfalse aria-label="Heading self-link"></a></h4><p>Load the data from a string</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>text</strong> (str) – Data in text format,</p></li><li><p><strong>allow_missing</strong> (bool, optional, default to False) – Whether to allow a declared key not to exists in the data dictionary.</p></li><li><p><strong>allow_unknown</strong> (bool, optional, default to False) – Whether to allow keys not declared in the container. Though even if
allowed, those keys will not be loaded if load_unknown == False.</p></li><li><p><strong>load_unknown</strong> (bool, optional, default to False) – Whether to load keys not declared in the container to be loaded in raw.</p></li></ul></li></ul><h4 id=register_dtypename-load_dtype-save_dtype>register_dtype(name, load_dtype, save_dtype)<a class=td-heading-self-link href=#register_dtypename-load_dtype-save_dtype aria-label="Heading self-link"></a></h4><p>Add an load and save dtype to the container</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>name</strong> (str) – The name of the dtype.</p></li><li><p><strong>load_dtype</strong> (callable) – A callable to perform the load dtype.
It’ll process the data and return its final form
after loaded from data file.</p></li><li><p><strong>save_dtype</strong> (callable) – A callable to perform the save dtype.
It’ll process the data and return the value to be
dumped to the data file.</p></li></ul></li></ul><h4 id=self_checktry_fixtrue>self_check(try_fix=True)<a class=td-heading-self-link href=#self_checktry_fixtrue aria-label="Heading self-link"></a></h4><h4 id=verify_datadata>verify_data(data)<a class=td-heading-self-link href=#verify_datadata aria-label="Heading self-link"></a></h4></div><div class=td-content style=page-break-before:always><h1 id=pg-6000f84ea1c66a65585def9dc455e643>8.22 - Module principia_materia.io_interface.compute_job</h1><div class=lead>Module principia_materia.io_interface.compute_job</div><h1 id=principia_materiaio_interfacecompute_job-module>principia_materia.io_interface.compute_job module<a class=td-heading-self-link href=#principia_materiaio_interfacecompute_job-module aria-label="Heading self-link"></a></h1><h3 id=_class_-principia_materiaio_interfacecompute_jobcomputejobpath-structurenone-jobinputnone-joboutputnone><em>class</em> principia_materia.io_interface.compute_job.ComputeJob(path, structure=None, jobinput=None, joboutput=None)<a class=td-heading-self-link href=#_class_-principia_materiaio_interfacecompute_jobcomputejobpath-structurenone-jobinputnone-joboutputnone aria-label="Heading self-link"></a></h3><p>Bases: <code>object</code></p><p>A computation job.</p><p>An abstract class that provides a framework to write interfaces to various compute engines
to work with this package.</p><p>This class holds 1 compute job. It is capable of processing configurations, creating a compute
job, parsing certain output of the compute job, and more. Due to the large size of common
computation runs, the outputs of the compute job are parse only when they are needed.</p><h4 id=copy_filesfilenames-outnone>copy_files(filenames, out=None)<a class=td-heading-self-link href=#copy_filesfilenames-outnone aria-label="Heading self-link"></a></h4><p>Copy static files from config directory to the job directory.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>out</strong> (str, optional, default to None) – The directory to create the compute job in.
If <code>out</code> is None, use <code>self.path</code>.</p></li><li><p><strong>filenames</strong> (str) – The filenames or the patterns of the filenames of the files to copy.</p></li></ul></li></ul><h4 id=create_joboutnone-is_statictrue-displacementnone-velocitiesnone>create_job(out=None, is_static=True, displacement=None, velocities=None)<a class=td-heading-self-link href=#create_joboutnone-is_statictrue-displacementnone-velocitiesnone aria-label="Heading self-link"></a></h4><p>Create configuration files needed to run a compute job.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>out</strong> (str, optional, default to None) – The directory to create the compute job in.
If <code>out</code> is None, use <code>self.path</code>.</p></li><li><p><strong>is_static</strong> (bool, optional, default to True) – Whether the compute job is a static calculation.</p></li><li><p><strong>displacement</strong> (array of float, optional, default to None) – The displacement to the crystal.</p></li><li><p><strong>velocities</strong> (array of float, optional, default to None) – The initial velocities of the atoms of the crystal.</p></li></ul></li></ul><h4 id=get_born_effective_charges>get_born_effective_charges()<a class=td-heading-self-link href=#get_born_effective_charges aria-label="Heading self-link"></a></h4><p>Get Born effective charges from compute result.</p><h4 id=_abstract_-get_cutoff><em>abstract</em> get_cutoff()<a class=td-heading-self-link href=#_abstract_-get_cutoff aria-label="Heading self-link"></a></h4><h4 id=get_dielectric_tensor>get_dielectric_tensor()<a class=td-heading-self-link href=#get_dielectric_tensor aria-label="Heading self-link"></a></h4><p>Get dielectric tensor from compute result.</p><h4 id=get_energy>get_energy()<a class=td-heading-self-link href=#get_energy aria-label="Heading self-link"></a></h4><p>Get energy from compute result.</p><h4 id=get_forces>get_forces()<a class=td-heading-self-link href=#get_forces aria-label="Heading self-link"></a></h4><p>Get forces from compute result.</p><h4 id=get_kmesh>get_kmesh()<a class=td-heading-self-link href=#get_kmesh aria-label="Heading self-link"></a></h4><h4 id=get_magnetic_moments>get_magnetic_moments()<a class=td-heading-self-link href=#get_magnetic_moments aria-label="Heading self-link"></a></h4><p>Get magnetic moments from compute result.</p><h4 id=get_natoms>get_natoms()<a class=td-heading-self-link href=#get_natoms aria-label="Heading self-link"></a></h4><p>Get number of atoms from compute result.</p><h4 id=get_relaxation_displacement>get_relaxation_displacement()<a class=td-heading-self-link href=#get_relaxation_displacement aria-label="Heading self-link"></a></h4><p>Get relaxation displacement from compute result.</p><h4 id=get_stress>get_stress()<a class=td-heading-self-link href=#get_stress aria-label="Heading self-link"></a></h4><p>Get stress from compute result.</p><h4 id=initialize_configurationconfig_pathnone>initialize_configuration(config_path=None)<a class=td-heading-self-link href=#initialize_configurationconfig_pathnone aria-label="Heading self-link"></a></h4><p>Initialize configurations of the compute jobs.</p><p>Configurations of a compute jobs includes cutoff energy, kpoint mesh,
error tolorence, magnetic moments, etc.</p><ul><li><p><strong>Parameters</strong></p><p><strong>config_path</strong> (str, path to directory) – The directory where configuration of compute job is stored.</p></li></ul><h4 id=_abstract-property_-is_job_finished><em>abstract property</em> is_job_finished()<a class=td-heading-self-link href=#_abstract-property_-is_job_finished aria-label="Heading self-link"></a></h4><h4 id=_property_-path><em>property</em> path()<a class=td-heading-self-link href=#_property_-path aria-label="Heading self-link"></a></h4><h4 id=rescale_kmesh>rescale_kmesh()<a class=td-heading-self-link href=#rescale_kmesh aria-label="Heading self-link"></a></h4><p>Rescale kmesh according to supercell.</p><h4 id=set_kmeshkmesh>set_kmesh(kmesh)<a class=td-heading-self-link href=#set_kmeshkmesh aria-label="Heading self-link"></a></h4><h4 id=_abstract_-set_outputoutput><em>abstract</em> set_output(output)<a class=td-heading-self-link href=#_abstract_-set_outputoutput aria-label="Heading self-link"></a></h4><p>Set the path to the output file of a computation job.</p><h4 id=_property_-structure><em>property</em> structure()<a class=td-heading-self-link href=#_property_-structure aria-label="Heading self-link"></a></h4></div><div class=td-content style=page-break-before:always><h1 id=pg-4edd5efadee9e519e0c8f6901cb2bfcb>8.23 - Module principia_materia.io_interface.compute_job_series</h1><div class=lead>Module principia_materia.io_interface.compute_job_series</div><h1 id=principia_materiaio_interfacecompute_job_series-module>principia_materia.io_interface.compute_job_series module<a class=td-heading-self-link href=#principia_materiaio_interfacecompute_job_series-module aria-label="Heading self-link"></a></h1><h3 id=_class_-principia_materiaio_interfacecompute_job_seriescomputejobseriesstructure-root_directory-compute_engine-config_pathnone-jobinputnone-joboutputnone><em>class</em> principia_materia.io_interface.compute_job_series.ComputeJobSeries(structure, root_directory, compute_engine, config_path=None, jobinput=None, joboutput=None)<a class=td-heading-self-link href=#_class_-principia_materiaio_interfacecompute_job_seriescomputejobseriesstructure-root_directory-compute_engine-config_pathnone-jobinputnone-joboutputnone aria-label="Heading self-link"></a></h3><p>Bases: <code>object</code></p><p>Manage a series of jobs</p><p>Since many part of this package (for example, phonon irreducible derivatives computaiton),
usually needs to create and read a series of calculations.</p><p>The series of jobs are assumed to have a hierarchical directory structure, that every
job is in its own directory with the job name as the directory name.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>structure</strong> (<a href=/docs/references/principia_materia.translation_group.crystal.html#principia_materia.translation_group.crystal.Crystal>Crystal</a> or CrystalFTG object) – The primitive crystal structure. Input input is a CrystalFTG object,
the primitive cell will be used.</p></li><li><p><strong>root_directory</strong> (str) – The root directory that hosts all the jobs of the series.</p></li><li><p><strong>compute_engine</strong> (str, or a subclass of <a href=/docs/references/principia_materia.io_interface.compute_job.html#principia_materia.io_interface.compute_job.ComputeJob>principia_materia.io_interface.compute_job.ComputeJob</a>) – The compute engine, for example “vasp” or VASPJob is referring to VASP DFT engine.</p></li><li><p><strong>config_path</strong> (str, optional, default to None) – The path of the configuration file, it is used to create the series of jobs as a
template.</p></li></ul></li></ul><h4 id=_property_-config_path><em>property</em> config_path()<a class=td-heading-self-link href=#_property_-config_path aria-label="Heading self-link"></a></h4><h4 id=create_directorydirname-existsfalse>create_directory(dirname, exists=False)<a class=td-heading-self-link href=#create_directorydirname-existsfalse aria-label="Heading self-link"></a></h4><p>Create directory inside root directory of the job series.</p><ul><li><p><strong>Parameters</strong></p><p><strong>dirname</strong> (str) – Directory name to create.</p></li></ul><h4 id=create_jobjobname-supa-prefixnone-displacementnone-strainnone-velocitiesnone-appendfalse-dry_runfalse>create_job(jobname, supa, prefix=None, displacement=None, strain=None, velocities=None, append=False, dry_run=False)<a class=td-heading-self-link href=#create_jobjobname-supa-prefixnone-displacementnone-strainnone-velocitiesnone-appendfalse-dry_runfalse aria-label="Heading self-link"></a></h4><p>Create a job at the given jobname (jobname will be the directory name).</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>jobname</strong> (str) – The name of the job, as well as the directory name to create the job in.</p></li><li><p><strong>supa</strong> (array of int, shape(dim, dim)) – The supercell matrix.</p></li><li><p><strong>prefix</strong> (str, optional, default to None) – The prefixing directory of the job relative to the root directory of the job series.</p></li><li><p><strong>displacement</strong> (array of float, optional, default to None) – The displacement to the crystal.</p></li><li><p><strong>strain</strong> (array of float, shape(dim, dim), optional, default to None) – The strain matrix of the structure.</p></li><li><p><strong>velocities</strong> (array of float, optional, default to None) – The initial velocities of the atoms of the crystal.</p></li><li><p><strong>append</strong> (bool, optional, default to False) – If True, skip existing jobs. Otherwise, throw an error.</p></li><li><p><strong>dry_run</strong> (bool, optional, default to False) – If True, don’t actually create the job.</p></li></ul></li></ul><h4 id=create_jobsjobnames-supa-prefixnone-displacementsnone-strainnone-velocitiesnone-appendfalse-job_index_namenone-dry_runfalse>create_jobs(jobnames, supa, prefix=None, displacements=None, strain=None, velocities=None, append=False, job_index_name=None, dry_run=False)<a class=td-heading-self-link href=#create_jobsjobnames-supa-prefixnone-displacementsnone-strainnone-velocitiesnone-appendfalse-job_index_namenone-dry_runfalse aria-label="Heading self-link"></a></h4><p>Create a series of jobs.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>jobnames</strong> (list of str) – The names of the jobs, as well as the directory name to create the jobs in.</p></li><li><p><strong>supa</strong> (array of int, shape(dim, dim)) – The supercell matrix.</p></li><li><p><strong>prefix</strong> (str, optional, default to None) – The prefixing directory of the jobs relative to the root directory of the job series.</p></li><li><p><strong>displacements</strong> (array of float, optional, default to None) – The displacements to the crystal for the jobs.</p></li><li><p><strong>strain</strong> (array of float, shape(dim, dim), optional, default to None) – The strain matrix of the structure.</p></li><li><p><strong>velocities</strong> (array of float, optional, default to None) – The initial velocities of the atoms of the crystal for the jobs.</p></li><li><p><strong>append</strong> (bool, optional, default to False) – If True, skip existing jobs. Otherwise, throw an error.</p></li><li><p><strong>dry_run</strong> (bool, optional, default to False) – If True, don’t actually create the job.</p></li></ul></li></ul><h4 id=get_born_effective_charges_from_jobjobname-prefixnone>get_born_effective_charges_from_job(jobname, prefix=None)<a class=td-heading-self-link href=#get_born_effective_charges_from_jobjobname-prefixnone aria-label="Heading self-link"></a></h4><p>Parse Born effective charges from the job.</p><ul><li><p><strong>Parameters</strong></p><p><strong>jobname</strong> (str) – The name of the job, as well as the directory name to create the job in.</p></li></ul><h4 id=get_compute_jobjobname-prefixnone>get_compute_job(jobname, prefix=None)<a class=td-heading-self-link href=#get_compute_jobjobname-prefixnone aria-label="Heading self-link"></a></h4><p>Get the job from the given jobname (jobname would be the directory name).</p><ul><li><p><strong>Parameters</strong></p><p><strong>jobname</strong> (str) – The name of the job, as well as the directory name to create the job in.</p></li></ul><h4 id=get_dielectric_tensor_from_jobjobname-prefixnone>get_dielectric_tensor_from_job(jobname, prefix=None)<a class=td-heading-self-link href=#get_dielectric_tensor_from_jobjobname-prefixnone aria-label="Heading self-link"></a></h4><p>Parse the dielectric tensor from the job.</p><ul><li><p><strong>Parameters</strong></p><p><strong>jobname</strong> (str) – The name of the job, as well as the directory name to create the job in.</p></li></ul><h4 id=get_energy_from_jobjobname-prefixnone>get_energy_from_job(jobname, prefix=None)<a class=td-heading-self-link href=#get_energy_from_jobjobname-prefixnone aria-label="Heading self-link"></a></h4><p>Parse the energy from the job.</p><ul><li><p><strong>Parameters</strong></p><p><strong>jobname</strong> (str) – The name of the job, as well as the directory name to create the job in.</p></li></ul><h4 id=get_forces_from_jobjobname-prefixnone>get_forces_from_job(jobname, prefix=None)<a class=td-heading-self-link href=#get_forces_from_jobjobname-prefixnone aria-label="Heading self-link"></a></h4><p>Parse forces from the job.</p><ul><li><p><strong>Parameters</strong></p><p><strong>jobname</strong> (str) – The name of the job, as well as the directory name to create the job in.</p></li></ul><h4 id=get_metadata_pathfilename>get_metadata_path(filename)<a class=td-heading-self-link href=#get_metadata_pathfilename aria-label="Heading self-link"></a></h4><p>Get the path to save the metadata file in.</p><ul><li><p><strong>Parameters</strong></p><p><strong>filename</strong> (str) – The base name of metadata file.</p></li></ul><h4 id=get_results_from_jobsjobnames-data_type-prefixnone>get_results_from_jobs(jobnames, data_type, prefix=None)<a class=td-heading-self-link href=#get_results_from_jobsjobnames-data_type-prefixnone aria-label="Heading self-link"></a></h4><p>Get results from a series of jobs.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>jobnames</strong> (list of str) – The names of the jobs, as well as the directory name to create the jobs in.</p></li><li><p><strong>data_type</strong> (str) – The type of results to retrieve, can be “forces”, “energy”, “stress”, “born_effective_charges”
or “dielectric_tensor”.</p></li><li><p><strong>prefix</strong> (str, optional, default to None) – The prefixing directory of the jobs relative to the root directory of the job series.</p></li></ul></li><li><p><strong>Returns</strong></p><p><strong>data</strong> – The retrieved results from jobs.</p></li><li><p><strong>Return type</strong></p><p>array of float</p></li></ul><h4 id=get_stress_from_jobjobname-prefixnone>get_stress_from_job(jobname, prefix=None)<a class=td-heading-self-link href=#get_stress_from_jobjobname-prefixnone aria-label="Heading self-link"></a></h4><p>Parse the stress from the job.</p><ul><li><p><strong>Parameters</strong></p><p><strong>jobname</strong> (str) – The name of the job, as well as the directory name to create the job in.</p></li></ul><h4 id=save_metadatafilename-metadata-dry_runfalse>save_metadata(filename, metadata, dry_run=False)<a class=td-heading-self-link href=#save_metadatafilename-metadata-dry_runfalse aria-label="Heading self-link"></a></h4><p>Save metadata into a file in the root directory of job series.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>filename</strong> (str) – The base name of metadata file.</p></li><li><p><strong>metadata</strong> (str) – The metadata to save in plain text.</p></li><li><p><strong>dry_run</strong> (bool, optional, default to False) – If True, don’t actually create the metadata file.</p></li></ul></li></ul><h4 id=_property_-series_exists><em>property</em> series_exists()<a class=td-heading-self-link href=#_property_-series_exists aria-label="Heading self-link"></a></h4><p>Whether if the root directory exists.</p><h4 id=set_static_filesfilenames-abspathfalse>set_static_files(filenames, abspath=False)<a class=td-heading-self-link href=#set_static_filesfilenames-abspathfalse aria-label="Heading self-link"></a></h4><p>Set a list of static files to copy into the job directory.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>filenames</strong> (str of list of str) – The path names of the files to copy.</p></li><li><p><strong>abspath</strong> (bool, optional, default to False) – Whether the input filenames are absolute path.</p></li></ul></li></ul><h4 id=_property_-structure><em>property</em> structure()<a class=td-heading-self-link href=#_property_-structure aria-label="Heading self-link"></a></h4></div><div class=td-content style=page-break-before:always><h1 id=pg-8ea6c03425f9c1c323be5f6a29bf5d37>8.24 - Module principia_materia.io_interface.data_wrapper</h1><div class=lead>Module principia_materia.io_interface.data_wrapper</div><h1 id=principia_materiaio_interfacedata_wrapper-module>principia_materia.io_interface.data_wrapper module<a class=td-heading-self-link href=#principia_materiaio_interfacedata_wrapper-module aria-label="Heading self-link"></a></h1><h3 id=_class_-principia_materiaio_interfacedata_wrapperdatawrappertitlenone-prefixnone><em>class</em> principia_materia.io_interface.data_wrapper.DataWrapper(title=None, prefix=None)<a class=td-heading-self-link href=#_class_-principia_materiaio_interfacedata_wrapperdatawrappertitlenone-prefixnone aria-label="Heading self-link"></a></h3><p>Bases: <a href=/docs/references/principia_materia.io_interface.base_data_wrapper.html#principia_materia.io_interface.base_data_wrapper.BaseDataWrapper><code>BaseDataWrapper</code></a></p><p>A container for the format of a collection of data.</p><p>An object oriented wrapper to enforce input text-based data format.
It’s also designed so that multiple wrappers can be added up to form a wrapper
that handles all the data contained in every one of the sub-wrappers.</p><p>YAML is used as the format to read and write from file.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>title</strong> (str, default to None) – A comment description for the file.</p></li><li><p><strong>prefix</strong> (str, default to None) – Prefix for the keywords when flattening the nested DataWrapper.</p></li></ul></li></ul><h4 id=dumpdata-filename-allow_missingfalse-overwritefalse>dump(data, filename, allow_missing=False, overwrite=False)<a class=td-heading-self-link href=#dumpdata-filename-allow_missingfalse-overwritefalse aria-label="Heading self-link"></a></h4><p>Format the data into a YAML file</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>data</strong> (dict) – The dictionary containing data to be saved.</p></li><li><p><strong>filename</strong> (str) – The name of the file to save the data into,</p></li><li><p><strong>allow_missing</strong> (bool, optional, default to False) – Whether to allow a declared key not to exists in the data dictionary.</p></li><li><p><strong>overwrite</strong> (bool, optional, default to False) – When the file exists, whether to replace the content of the file
with the content to be saved.</p></li></ul></li></ul><h4 id=dumpsdata-allow_missingfalse>dumps(data, allow_missing=False)<a class=td-heading-self-link href=#dumpsdata-allow_missingfalse aria-label="Heading self-link"></a></h4><p>Format the data into YAML parsable string</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>data</strong> (dict) – The dictionary containing data to be saved.</p></li><li><p><strong>allow_missing</strong> (bool, optional, default to False) – Whether to allow a declared key not to exists in the data dictionary.</p></li></ul></li></ul><h4 id=loadfilename-allow_missingfalse-allow_unknownfalse-load_unknownfalse>load(filename, allow_missing=False, allow_unknown=False, load_unknown=False)<a class=td-heading-self-link href=#loadfilename-allow_missingfalse-allow_unknownfalse-load_unknownfalse aria-label="Heading self-link"></a></h4><p>Load the data from a YAML file</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>filename</strong> (str) – The name of the file to save the data into,</p></li><li><p><strong>allow_missing</strong> (bool, optional, default to False) – Whether to allow a declared key not to exists in the data dictionary.</p></li><li><p><strong>allow_unknown</strong> (bool, optional, default to False) – Whether to allow keys not declared in the container. Though even if
allowed, those keys will not be loaded if load_unknown == False.</p></li><li><p><strong>load_unknown</strong> (bool, optional, default to False) – Whether to load keys not declared in the container to be loaded in raw.</p></li></ul></li></ul><h4 id=load_dictdata-allow_missingfalse-allow_unknownfalse-load_unknownfalse>load_dict(data, allow_missing=False, allow_unknown=False, load_unknown=False)<a class=td-heading-self-link href=#load_dictdata-allow_missingfalse-allow_unknownfalse-load_unknownfalse aria-label="Heading self-link"></a></h4><p>Load the data from a dict</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>text</strong> (str) – A YAML string to load.</p></li><li><p><strong>allow_missing</strong> (bool, optional, default to False) – Whether to allow a declared key not to exists in the data dictionary.</p></li><li><p><strong>allow_unknown</strong> (bool, optional, default to False) – Whether to allow keys not declared in the container. Though even if
allowed, those keys will not be loaded if load_unknown == False.</p></li><li><p><strong>load_unknown</strong> (bool, optional, default to False) – Whether to load keys not declared in the container to be loaded in raw.</p></li></ul></li></ul><h4 id=load_genericdata-allow_missingfalse-allow_unknownfalse-load_unknownfalse>load_generic(data, allow_missing=False, allow_unknown=False, load_unknown=False)<a class=td-heading-self-link href=#load_genericdata-allow_missingfalse-allow_unknownfalse-load_unknownfalse aria-label="Heading self-link"></a></h4><h4 id=loadstext-allow_missingfalse-allow_unknownfalse-load_unknownfalse>loads(text, allow_missing=False, allow_unknown=False, load_unknown=False)<a class=td-heading-self-link href=#loadstext-allow_missingfalse-allow_unknownfalse-load_unknownfalse aria-label="Heading self-link"></a></h4><p>Load the data from a YAML string</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>text</strong> (str) – A YAML string to load.</p></li><li><p><strong>allow_missing</strong> (bool, optional, default to False) – Whether to allow a declared key not to exists in the data dictionary.</p></li><li><p><strong>allow_unknown</strong> (bool, optional, default to False) – Whether to allow keys not declared in the container. Though even if
allowed, those keys will not be loaded if load_unknown == False.</p></li><li><p><strong>load_unknown</strong> (bool, optional, default to False) – Whether to load keys not declared in the container to be loaded in raw.</p></li></ul></li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-178ae4b5ff419d0d5037e87c1433c091>8.25 - Module principia_materia.io_interface.hdf5_wrapper</h1><div class=lead>Module principia_materia.io_interface.hdf5_wrapper</div><h1 id=principia_materiaio_interfacehdf5_wrapper-module>principia_materia.io_interface.hdf5_wrapper module<a class=td-heading-self-link href=#principia_materiaio_interfacehdf5_wrapper-module aria-label="Heading self-link"></a></h1><h3 id=_class_-principia_materiaio_interfacehdf5_wrapperhdf5wrappertitlenone><em>class</em> principia_materia.io_interface.hdf5_wrapper.HDF5Wrapper(title=None)<a class=td-heading-self-link href=#_class_-principia_materiaio_interfacehdf5_wrapperhdf5wrappertitlenone aria-label="Heading self-link"></a></h3><p>Bases: <a href=/docs/references/principia_materia.io_interface.base_data_wrapper.html#principia_materia.io_interface.base_data_wrapper.BaseDataWrapper><code>BaseDataWrapper</code></a></p><p>Save/load data in/from HDF5 file.</p><p>A object oriented wrapper to save and load data in and from HDF5 files.
This allows us to easily save some custom defined data types into HDF5
supported types.</p><ul><li><p><strong>Parameters</strong></p><p><strong>title</strong> (str, default to None) – A comment description for the file.
The title is not used when saving/loading HDF5 files.</p></li></ul><h4 id=add_itemkey-choicesnone-dtypenone-load_dtypenone-save_dtypenone-optionalfalse>add_item(key, choices=None, dtype=None, load_dtype=None, save_dtype=None, optional=False)<a class=td-heading-self-link href=#add_itemkey-choicesnone-dtypenone-load_dtypenone-save_dtypenone-optionalfalse aria-label="Heading self-link"></a></h4><p>Add an item of data to the container.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>key</strong> (str) – The name of the item to be save in the data file.</p></li><li><p><strong>dtype</strong> (str, default to None) – Data type of the item. The corresponding save/load functions will be used to save/load the item.</p></li><li><p><strong>load_dtype</strong> (str or callable, default to None) – The function to load the item.</p></li><li><p><strong>save_dtype</strong> (str or callable, default to None) – The function to save the item.</p></li><li><p><strong>optional</strong> (bool, default to False) – Whether the item is optional.</p></li><li><p><strong>help</strong> (str, default to None) – The description of the item.</p></li><li><p><strong>alias</strong> (list of str, default to None) – A list aliases of the item keyword.</p></li><li><p><strong>depends</strong> (list of str, default to None) – The keywords that are required when the item is present.</p></li></ul></li></ul><h4 id=dumpdata-filename-allow_missingfalse-overwritefalse>dump(data, filename, allow_missing=False, overwrite=False)<a class=td-heading-self-link href=#dumpdata-filename-allow_missingfalse-overwritefalse aria-label="Heading self-link"></a></h4><p>Save data into HDF5 file.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>data</strong> (dict) – The dictionary containing data to be saved.</p></li><li><p><strong>filename</strong> (str) – The name of the file to save the data into,</p></li><li><p><strong>allow_missing</strong> (bool, optional, default to False) – Whether to allow a declared key not to exists in the data dictionary.</p></li><li><p><strong>overwrite</strong> (bool, optional, default to False) – When the file exists, whether to replace the content of the file
with the content to be saved.</p></li></ul></li></ul><h4 id=dump_h5filedata-h5file-allow_missingfalse>dump_h5file(data, h5file, allow_missing=False)<a class=td-heading-self-link href=#dump_h5filedata-h5file-allow_missingfalse aria-label="Heading self-link"></a></h4><p>Save data into HDF5 through a h5py.File/h5py.Group object.</p><p>This allows us to save data into a HDF5 group within a HDF5 file.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>data</strong> (dict) – The dictionary containing data to be saved.</p></li><li><p><strong>h5file</strong> (h5py.File/h5py.Group object) – The h5py.File/h5py.Group object to save the data into.</p></li><li><p><strong>allow_missing</strong> (bool, optional, default to False) – Whether to allow a declared key not to exists in the data dictionary.</p></li></ul></li></ul><h4 id=dumpsdata-allow_missingfalse>dumps(data, allow_missing=False)<a class=td-heading-self-link href=#dumpsdata-allow_missingfalse aria-label="Heading self-link"></a></h4><p>Dump the data into string</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>data</strong> (dict) – The dictionary containing data to be saved.</p></li><li><p><strong>allow_missing</strong> (bool, optional, default to False) – Whether to allow a declared key not to exists in the data dictionary.</p></li></ul></li></ul><h4 id=loadfilename-allow_missingfalse>load(filename, allow_missing=False)<a class=td-heading-self-link href=#loadfilename-allow_missingfalse aria-label="Heading self-link"></a></h4><p>Load data from HDF5 file</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>filename</strong> (str) – The name of the file to save the data into,</p></li><li><p><strong>allow_missing</strong> (bool, optional, default to False) – Whether to allow a declared key not to exists in the data dictionary.</p></li></ul></li></ul><h4 id=load_h5fileh5file-allow_missingfalse>load_h5file(h5file, allow_missing=False)<a class=td-heading-self-link href=#load_h5fileh5file-allow_missingfalse aria-label="Heading self-link"></a></h4><p>Load data from HDF5 through a h5py.File/h5py.Group object.</p><p>This allows us to load data from a HDF5 group within a HDF5 file.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>h5file</strong> (h5py.File/h5py.Group object) – The h5py.File/h5py.Group object to save the data into.</p></li><li><p><strong>allow_missing</strong> (bool, optional, default to False) – Whether to allow a declared key not to exists in the data dictionary.</p></li></ul></li></ul><h4 id=loadstext-allow_missingfalse-allow_unknownfalse-load_unknownfalse>loads(text, allow_missing=False, allow_unknown=False, load_unknown=False)<a class=td-heading-self-link href=#loadstext-allow_missingfalse-allow_unknownfalse-load_unknownfalse aria-label="Heading self-link"></a></h4><p>Load the data from a string</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>text</strong> (str) – Data in text format,</p></li><li><p><strong>allow_missing</strong> (bool, optional, default to False) – Whether to allow a declared key not to exists in the data dictionary.</p></li><li><p><strong>allow_unknown</strong> (bool, optional, default to False) – Whether to allow keys not declared in the container. Though even if
allowed, those keys will not be loaded if load_unknown == False.</p></li><li><p><strong>load_unknown</strong> (bool, optional, default to False) – Whether to load keys not declared in the container to be loaded in raw.</p></li></ul></li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-b845b7d2c783372cc33f4d6373b25127>8.26 - Module principia_materia.io_interface.jobs_db</h1><div class=lead>Module principia_materia.io_interface.jobs_db</div><h1 id=principia_materiaio_interfacejobs_db-module>principia_materia.io_interface.jobs_db module<a class=td-heading-self-link href=#principia_materiaio_interfacejobs_db-module aria-label="Heading self-link"></a></h1><h3 id=_class_-principia_materiaio_interfacejobs_dbjobsdbroot_directory-db_path-db_type-structure-tablenone><em>class</em> principia_materia.io_interface.jobs_db.JobsDB(root_directory, db_path, db_type, structure, table=None)<a class=td-heading-self-link href=#_class_-principia_materiaio_interfacejobs_dbjobsdbroot_directory-db_path-db_type-structure-tablenone aria-label="Heading self-link"></a></h3><p>Bases: <code>object</code></p><p>Interface jobs with database.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>root_directory</strong> (str) – The root directory that hosts all the jobs of the series.</p></li><li><p><strong>db_path</strong> (str) – Path to database.</p></li><li><p><strong>db_type</strong> (str) – Type of the database, for example “sqlite”.</p></li><li><p><strong>structure</strong> (<a href=/docs/references/principia_materia.translation_group.crystal.html#principia_materia.translation_group.crystal.Crystal>Crystal</a> or CrystalFTG object) – The primitive crystal structure. Input input is a CrystalFTG object,
the primitive cell will be used.</p></li></ul></li></ul><h4 id=add_filterkey-value>add_filter(key, value)<a class=td-heading-self-link href=#add_filterkey-value aria-label="Heading self-link"></a></h4><p>Add a filtering condition for database action (query/update/insert).</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>key</strong> (str) – The name of the column.</p></li><li><p><strong>value</strong> (str/int/float/array) – The filtering value of that column.</p></li></ul></li></ul><h4 id=create_jobjobname-supa-prefixnone-displacementnone-strainnone-velocitiesnone-appendfalse-dry_runfalse>create_job(jobname, supa, prefix=None, displacement=None, strain=None, velocities=None, append=False, dry_run=False)<a class=td-heading-self-link href=#create_jobjobname-supa-prefixnone-displacementnone-strainnone-velocitiesnone-appendfalse-dry_runfalse aria-label="Heading self-link"></a></h4><p>Create a job with the given jobname in the database.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>jobname</strong> (str) – The name of the job, as well as the directory name to create the job in.</p></li><li><p><strong>supa</strong> (array of int, shape(dim, dim)) – The supercell matrix.</p></li><li><p><strong>prefix</strong> (str, optional, default to None) – The prefixing directory of the job relative to the root directory of the job series.</p></li><li><p><strong>displacement</strong> (array of float, optional, default to None) – The displacement to the crystal.</p></li><li><p><strong>strain</strong> (array of float, shape(dim, dim), optional, default to None) – The strain matrix of the structure.</p></li><li><p><strong>velocities</strong> (array of float, optional, default to None) – The initial velocities of the atoms of the crystal.</p></li><li><p><strong>append</strong> (bool, optional, default to False) – If True, skip existing jobs. Otherwise, throw an error.</p></li><li><p><strong>dry_run</strong> (bool, optional, default to False) – If True, don’t actually create the job.</p></li></ul></li></ul><h4 id=create_jobsjobnames-supa-prefixnone-displacementsnone-strainnone-velocitiesnone-appendfalse-job_index_namenone-additional_filters-dry_runfalse>create_jobs(jobnames, supa, prefix=None, displacements=None, strain=None, velocities=None, append=False, job_index_name=None, additional_filters={}, dry_run=False)<a class=td-heading-self-link href=#create_jobsjobnames-supa-prefixnone-displacementsnone-strainnone-velocitiesnone-appendfalse-job_index_namenone-additional_filters-dry_runfalse aria-label="Heading self-link"></a></h4><p>Create a series of jobs in database.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>jobnames</strong> (list of str) – The names of the jobs.</p></li><li><p><strong>supa</strong> (array of int, shape(dim, dim)) – The supercell matrix.</p></li><li><p><strong>prefix</strong> (str, optional, default to None) – The prefixing directory of the jobs relative to the root directory of the job series.</p></li><li><p><strong>displacements</strong> (array of float, optional, default to None) – The displacements to the crystal for the jobs.</p></li><li><p><strong>strain</strong> (array of float, shape(dim, dim), optional, default to None) – The strain matrix of the structure.</p></li><li><p><strong>velocities</strong> (array of float, optional, default to None) – The initial velocities of the atoms of the crystal for the jobs.</p></li><li><p><strong>append</strong> (bool, optional, default to False) – If True, skip existing jobs. Otherwise, throw an error.</p></li><li><p><strong>dry_run</strong> (bool, optional, default to False) – If True, don’t actually create the job.</p></li></ul></li></ul><h4 id=get_born_effective_charges_from_jobjobnamenone-step_indexnone>get_born_effective_charges_from_job(jobname=None, step_index=None)<a class=td-heading-self-link href=#get_born_effective_charges_from_jobjobnamenone-step_indexnone aria-label="Heading self-link"></a></h4><p>Get Born effective charges from the job.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>jobname</strong> (str) – The name of the job, as well as the directory name to create the job in.</p></li><li><p><strong>step_index</strong> (int) – The step index of the job in an finite difference calculation.</p></li></ul></li></ul><h4 id=get_dielectric_tensor_from_jobjobnamenone-step_indexnone>get_dielectric_tensor_from_job(jobname=None, step_index=None)<a class=td-heading-self-link href=#get_dielectric_tensor_from_jobjobnamenone-step_indexnone aria-label="Heading self-link"></a></h4><p>Get the dielectric tensor from the job.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>jobname</strong> (str) – The name of the job, as well as the directory name to create the job in.</p></li><li><p><strong>step_index</strong> (int) – The step index of the job in an finite difference calculation.</p></li></ul></li></ul><h4 id=get_energy_from_jobjobnamenone-step_indexnone>get_energy_from_job(jobname=None, step_index=None)<a class=td-heading-self-link href=#get_energy_from_jobjobnamenone-step_indexnone aria-label="Heading self-link"></a></h4><p>Get the energy from the job.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>jobname</strong> (str) – The name of the job, as well as the directory name to create the job in.</p></li><li><p><strong>step_index</strong> (int) – The step index of the job in an finite difference calculation.</p></li></ul></li></ul><h4 id=get_forces_from_jobjobnamenone-step_indexnone>get_forces_from_job(jobname=None, step_index=None)<a class=td-heading-self-link href=#get_forces_from_jobjobnamenone-step_indexnone aria-label="Heading self-link"></a></h4><p>Get forces from the job.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>jobname</strong> (str) – The name of the job, as well as the directory name to create the job in.</p></li><li><p><strong>step_index</strong> (int) – The step index of the job in an finite difference calculation.</p></li></ul></li></ul><h4 id=get_metadata_pathfilename>get_metadata_path(filename)<a class=td-heading-self-link href=#get_metadata_pathfilename aria-label="Heading self-link"></a></h4><h4 id=get_results_from_jobsjobnames-data_type-job_index_namenone>get_results_from_jobs(jobnames, data_type, job_index_name=None)<a class=td-heading-self-link href=#get_results_from_jobsjobnames-data_type-job_index_namenone aria-label="Heading self-link"></a></h4><p>Get results of a series of jobs from database.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>jobnames</strong> (list of str) – The names of the jobs.</p></li><li><p><strong>data_type</strong> (str) – The type of results to retrieve, can be “forces”, “energy”, “stress”, “born_effective_charges”
or “dielectric_tensor”.</p></li><li><p><strong>prefix</strong> (str, optional, default to None) – The prefix of the jobs relative to the root directory of the job series.</p></li></ul></li><li><p><strong>Returns</strong></p><p><strong>data</strong> – The retrieved results from jobs.</p></li><li><p><strong>Return type</strong></p><p>array of float</p></li></ul><h4 id=get_stress_from_jobjobnamenone-step_indexnone>get_stress_from_job(jobname=None, step_index=None)<a class=td-heading-self-link href=#get_stress_from_jobjobnamenone-step_indexnone aria-label="Heading self-link"></a></h4><p>Get the stress from the job.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>jobname</strong> (str) – The name of the job, as well as the directory name to create the job in.</p></li><li><p><strong>step_index</strong> (int) – The step index of the job in an finite difference calculation.</p></li></ul></li></ul><h4 id=remove_filterkey>remove_filter(key)<a class=td-heading-self-link href=#remove_filterkey aria-label="Heading self-link"></a></h4><p>Remive a filtering condition from database action.</p><ul><li><p><strong>Parameters</strong></p><p><strong>key</strong> (str) – The name of the column.</p></li></ul><h4 id=reset_filters>reset_filters()<a class=td-heading-self-link href=#reset_filters aria-label="Heading self-link"></a></h4><p>Reset the database filters.</p><h4 id=save_metadatafilename-metadata-dry_runfalse>save_metadata(filename, metadata, dry_run=False)<a class=td-heading-self-link href=#save_metadatafilename-metadata-dry_runfalse aria-label="Heading self-link"></a></h4><h4 id=save_table_infoinfo_table-data>save_table_info(info_table, data)<a class=td-heading-self-link href=#save_table_infoinfo_table-data aria-label="Heading self-link"></a></h4><p>Save some generic information of the table that the jobs are created in to an information table.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>info_table</strong> (str) – The name of the information table.</p></li><li><p><strong>data</strong> (dict) – The generic information to save in the information table.</p></li></ul></li></ul><h4 id=set_tabletable>set_table(table)<a class=td-heading-self-link href=#set_tabletable aria-label="Heading self-link"></a></h4><p>Set name of the table to access.</p><ul><li><p><strong>Parameters</strong></p><p><strong>table</strong> (str) – Table name.</p></li></ul><h4 id=_property_-structure><em>property</em> structure()<a class=td-heading-self-link href=#_property_-structure aria-label="Heading self-link"></a></h4></div><div class=td-content style=page-break-before:always><h1 id=pg-75ff9c82bb471bd99b918d223c0601e0>8.27 - Module principia_materia.io_interface.qpoints_io</h1><div class=lead>Module principia_materia.io_interface.qpoints_io</div><h1 id=principia_materiaio_interfaceqpoints_io-module>principia_materia.io_interface.qpoints_io module<a class=td-heading-self-link href=#principia_materiaio_interfaceqpoints_io-module aria-label="Heading self-link"></a></h1><h3 id=principia_materiaio_interfaceqpoints_ioarray_to_listarray>principia_materia.io_interface.qpoints_io.array_to_list(array)<a class=td-heading-self-link href=#principia_materiaio_interfaceqpoints_ioarray_to_listarray aria-label="Heading self-link"></a></h3><p>Convert array of nested lists.</p><ul><li><p><strong>Parameters</strong></p><p><strong>array</strong> (array of numbers) – The array to convert from.</p></li></ul><h3 id=principia_materiaio_interfaceqpoints_ioarray_to_tuplearray>principia_materia.io_interface.qpoints_io.array_to_tuple(array)<a class=td-heading-self-link href=#principia_materiaio_interfaceqpoints_ioarray_to_tuplearray aria-label="Heading self-link"></a></h3><p>Convert array of nested tuples.</p><ul><li><p><strong>Parameters</strong></p><p><strong>array</strong> (array of numbers) – The array to convert from.</p></li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-4a3b16c5923db03c76ec624681a24ee4>8.28 - Module principia_materia.io_interface.vasp</h1><div class=lead>Module principia_materia.io_interface.vasp</div><h1 id=principia_materiaio_interfacevasp-module>principia_materia.io_interface.vasp module<a class=td-heading-self-link href=#principia_materiaio_interfacevasp-module aria-label="Heading self-link"></a></h1><h3 id=principia_materiaio_interfacevaspparse_poscarposcar>principia_materia.io_interface.vasp.parse_poscar(poscar)<a class=td-heading-self-link href=#principia_materiaio_interfacevaspparse_poscarposcar aria-label="Heading self-link"></a></h3><p>Parse data from POSCAR, and package the data that can be read into our translation group classes.</p><p>See <code>_parse_poscar</code> for actual parsing of the POSCAR.</p><ul><li><p><strong>Parameters</strong></p><p><strong>poscar</strong> (str) – A path to a POSCAR file or a string with the content of a POSCAR file.
CONTCAR is accepted as well.</p></li><li><p><strong>Returns</strong></p><p><strong>retval</strong> – A dictionary of all the information from POSCAR, with keywords vec, atoms and velocites in
format that can be ready into tranlation group classes.</p></li><li><p><strong>Return type</strong></p><p>dict</p></li></ul><h3 id=principia_materiaio_interfacevaspwrite_poscarstructure-displacementnone-titlenone-selective_dynamicsnone-velocitiesnone-is_velocities_directtrue-direct_coordinatestrue-prec8>principia_materia.io_interface.vasp.write_poscar(structure, displacement=None, title=None, selective_dynamics=None, velocities=None, is_velocities_direct=True, direct_coordinates=True, prec=8)<a class=td-heading-self-link href=#principia_materiaio_interfacevaspwrite_poscarstructure-displacementnone-titlenone-selective_dynamicsnone-velocitiesnone-is_velocities_directtrue-direct_coordinatestrue-prec8 aria-label="Heading self-link"></a></h3><p>Write structure file into POSCAR.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>structure</strong> (<a href=/docs/references/principia_materia.translation_group.crystal.html#principia_materia.translation_group.crystal.Crystal>Crystal</a> or CrystalFTG object) – The crystal structure.</p></li><li><p><strong>displacement</strong> (array of float, shape(natoms, 3), optional, default to None) – The displacement to the crystal.</p></li><li><p><strong>title</strong> (str, optional, default to None) – The title of the crystal.</p></li><li><p><strong>selective_dynamics</strong> (array of bool, shape(natoms, 3), optional, default to None) – The selective dynamics flags for POSCAR</p></li><li><p><strong>velocities</strong> (array of float, shape(natoms, 3), optional, default to None) – The initial velocities of the atoms of the crystal.</p></li><li><p><strong>is_velocities_direct</strong> (bool, optional, default to True) – Whether to write the velocities are in direct coordinates.</p></li><li><p><strong>direct_coordinates</strong> (bool, optional, default to True) – Whether to write the atoms positions in direct coordinates.</p></li><li><p><strong>prec</strong> (int, optional, default to 8) – The decimal points to round the floating point numbers to.</p></li></ul></li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-5167dab178df8888f54366a9cd90f47c>8.29 - Module principia_materia.io_interface.yaml_dump</h1><div class=lead>Module principia_materia.io_interface.yaml_dump</div><h1 id=principia_materiaio_interfaceyaml_dump-module>principia_materia.io_interface.yaml_dump module<a class=td-heading-self-link href=#principia_materiaio_interfaceyaml_dump-module aria-label="Heading self-link"></a></h1><h3 id=principia_materiaio_interfaceyaml_dumpyaml_dumpsdata-prec8>principia_materia.io_interface.yaml_dump.yaml_dumps(data, prec=8)<a class=td-heading-self-link href=#principia_materiaio_interfaceyaml_dumpyaml_dumpsdata-prec8 aria-label="Heading self-link"></a></h3><p>Save data in a custom YAML format string.</p><p>The official yaml module cannot dump data in a consistent format,
this function solves that problem by using a consistent format for
various data types. Additionally, data types like numpy.ndarray can
be safely saved into YAML nested list format without extra work,
making saving YAML file much easier.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>data</strong> (dict) – The data to save.</p></li><li><p><strong>prec</strong> (int, optional, default to 8) – The decimal points to round the floating point numbers to.</p></li></ul></li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-bf00d282e480473a76e6b26e9abc5604>8.30 - Module principia_materia.mathematics</h1><div class=lead>Module principia_materia.mathematics</div><h1 id=principia_materiamathematics-package>principia_materia.mathematics package<a class=td-heading-self-link href=#principia_materiamathematics-package aria-label="Heading self-link"></a></h1><h2 id=submodules>Submodules<a class=td-heading-self-link href=#submodules aria-label="Heading self-link"></a></h2><ul><li><p><a href=/docs/references/principia_materia.mathematics.array_utils.html>principia_materia.mathematics.array_utils module</a></p><ul><li><p><a href=/docs/references/principia_materia.mathematics.array_utils.html#principia_materia.mathematics.array_utils.array_in_2darray><code>array_in_2darray()</code></a></p></li><li><p><a href=/docs/references/principia_materia.mathematics.array_utils.html#principia_materia.mathematics.array_utils.index_array_in_array><code>index_array_in_array()</code></a></p></li></ul></li><li><p><a href=/docs/references/principia_materia.mathematics.core_math.html>principia_materia.mathematics.core_math module</a></p><ul><li><p><a href=/docs/references/principia_materia.mathematics.core_math.html#principia_materia.mathematics.core_math.gaussian><code>gaussian()</code></a></p></li><li><p><a href=/docs/references/principia_materia.mathematics.core_math.html#principia_materia.mathematics.core_math.gs_orthog><code>gs_orthog()</code></a></p></li></ul></li><li><p><a href=/docs/references/principia_materia.mathematics.errortail.html>principia_materia.mathematics.errortail module</a></p><ul><li><p><a href=/docs/references/principia_materia.mathematics.errortail.html#principia_materia.mathematics.errortail.fit_errortail><code>fit_errortail()</code></a></p></li><li><p><a href=/docs/references/principia_materia.mathematics.errortail.html#principia_materia.mathematics.errortail.generate_picks><code>generate_picks()</code></a></p></li><li><p><a href=/docs/references/principia_materia.mathematics.errortail.html#principia_materia.mathematics.errortail.get_errortail><code>get_errortail()</code></a></p></li><li><p><a href=/docs/references/principia_materia.mathematics.errortail.html#principia_materia.mathematics.errortail.get_errortail_yaml_wrapper><code>get_errortail_yaml_wrapper()</code></a></p></li><li><p><a href=/docs/references/principia_materia.mathematics.errortail.html#principia_materia.mathematics.errortail.least_square><code>least_square()</code></a></p></li><li><p><a href=/docs/references/principia_materia.mathematics.errortail.html#principia_materia.mathematics.errortail.penalty_linear_mse><code>penalty_linear_mse()</code></a></p></li><li><p><a href=/docs/references/principia_materia.mathematics.errortail.html#principia_materia.mathematics.errortail.penalty_sqrt_mse><code>penalty_sqrt_mse()</code></a></p></li><li><p><a href=/docs/references/principia_materia.mathematics.errortail.html#principia_materia.mathematics.errortail.penalty_square_mse><code>penalty_square_mse()</code></a></p></li></ul></li><li><p><a href=/docs/references/principia_materia.mathematics.finite_difference.html>principia_materia.mathematics.finite_difference module</a></p><ul><li><p><a href=/docs/references/principia_materia.mathematics.finite_difference.html#principia_materia.mathematics.finite_difference.FiniteDifference><code>FiniteDifference</code></a></p><ul><li><p><a href=/docs/references/principia_materia.mathematics.finite_difference.html#principia_materia.mathematics.finite_difference.FiniteDifference.order><code>FiniteDifference.order</code></a></p></li><li><p><a href=/docs/references/principia_materia.mathematics.finite_difference.html#principia_materia.mathematics.finite_difference.FiniteDifference.delta><code>FiniteDifference.delta</code></a></p></li><li><p><a href=/docs/references/principia_materia.mathematics.finite_difference.html#principia_materia.mathematics.finite_difference.FiniteDifference.uniq_steps><code>FiniteDifference.uniq_steps</code></a></p></li><li><p><a href=/docs/references/principia_materia.mathematics.finite_difference.html#principia_materia.mathematics.finite_difference.FiniteDifference.add_delta><code>FiniteDifference.add_delta()</code></a></p></li><li><p><a href=/docs/references/principia_materia.mathematics.finite_difference.html#principia_materia.mathematics.finite_difference.FiniteDifference.compute_finite_difference><code>FiniteDifference.compute_finite_difference()</code></a></p></li><li><p><a href=/docs/references/principia_materia.mathematics.finite_difference.html#id0><code>FiniteDifference.delta</code></a></p></li><li><p><a href=/docs/references/principia_materia.mathematics.finite_difference.html#principia_materia.mathematics.finite_difference.FiniteDifference.get_stencils_1d><code>FiniteDifference.get_stencils_1d()</code></a></p></li><li><p><a href=/docs/references/principia_materia.mathematics.finite_difference.html#principia_materia.mathematics.finite_difference.FiniteDifference.set_delta><code>FiniteDifference.set_delta()</code></a></p></li><li><p><a href=/docs/references/principia_materia.mathematics.finite_difference.html#principia_materia.mathematics.finite_difference.FiniteDifference.set_stencils><code>FiniteDifference.set_stencils()</code></a></p></li><li><p><a href=/docs/references/principia_materia.mathematics.finite_difference.html#principia_materia.mathematics.finite_difference.FiniteDifference.set_stencils_1d><code>FiniteDifference.set_stencils_1d()</code></a></p></li><li><p><a href=/docs/references/principia_materia.mathematics.finite_difference.html#principia_materia.mathematics.finite_difference.FiniteDifference.set_steps><code>FiniteDifference.set_steps()</code></a></p></li><li><p><a href=/docs/references/principia_materia.mathematics.finite_difference.html#id1><code>FiniteDifference.uniq_steps</code></a></p></li></ul></li></ul></li><li><p><a href=/docs/references/principia_materia.mathematics.fourier_transform.html>principia_materia.mathematics.fourier_transform module</a></p><ul><li><p><a href=/docs/references/principia_materia.mathematics.fourier_transform.html#principia_materia.mathematics.fourier_transform.backward_fourier_transform><code>backward_fourier_transform()</code></a></p></li><li><p><a href=/docs/references/principia_materia.mathematics.fourier_transform.html#principia_materia.mathematics.fourier_transform.forward_fourier_transform><code>forward_fourier_transform()</code></a></p></li></ul></li><li><p><a href=/docs/references/principia_materia.mathematics.new_fraction.html>principia_materia.mathematics.new_fraction module</a></p><ul><li><p><a href=/docs/references/principia_materia.mathematics.new_fraction.html#principia_materia.mathematics.new_fraction.Fraction><code>Fraction</code></a></p><ul><li><a href=/docs/references/principia_materia.mathematics.new_fraction.html#principia_materia.mathematics.new_fraction.Fraction.limit_denominator><code>Fraction.limit_denominator()</code></a></li></ul></li></ul></li><li><p><a href=/docs/references/principia_materia.mathematics.smith_normal_form.html>principia_materia.mathematics.smith_normal_form module</a></p><ul><li><p><a href=/docs/references/principia_materia.mathematics.smith_normal_form.html#principia_materia.mathematics.smith_normal_form.DiagonalForm><code>DiagonalForm()</code></a></p></li><li><p><a href=/docs/references/principia_materia.mathematics.smith_normal_form.html#principia_materia.mathematics.smith_normal_form.HermiteNormalForm_AU><code>HermiteNormalForm_AU()</code></a></p></li><li><p><a href=/docs/references/principia_materia.mathematics.smith_normal_form.html#principia_materia.mathematics.smith_normal_form.HermiteNormalForm_UA><code>HermiteNormalForm_UA()</code></a></p></li><li><p><a href=/docs/references/principia_materia.mathematics.smith_normal_form.html#principia_materia.mathematics.smith_normal_form.SmithNormalForm><code>SmithNormalForm()</code></a></p></li></ul></li><li><p><a href=/docs/references/principia_materia.mathematics.tensor_utils.html>principia_materia.mathematics.tensor_utils module</a></p><ul><li><p><a href=/docs/references/principia_materia.mathematics.tensor_utils.html#principia_materia.mathematics.tensor_utils.find_linearly_independent_vectors><code>find_linearly_independent_vectors()</code></a></p></li><li><p><a href=/docs/references/principia_materia.mathematics.tensor_utils.html#principia_materia.mathematics.tensor_utils.find_most_linearly_independent_rows><code>find_most_linearly_independent_rows()</code></a></p></li><li><p><a href=/docs/references/principia_materia.mathematics.tensor_utils.html#principia_materia.mathematics.tensor_utils.rotate_tensor><code>rotate_tensor()</code></a></p></li></ul></li></ul><h2 id=module-contents>Module contents<a class=td-heading-self-link href=#module-contents aria-label="Heading self-link"></a></h2><h3 id=principia_materiamathematicsint_detmatrix>principia_materia.mathematics.int_det(matrix)<a class=td-heading-self-link href=#principia_materiamathematicsint_detmatrix aria-label="Heading self-link"></a></h3></div><div class=td-content style=page-break-before:always><h1 id=pg-65ec2e32105e49e3e81ce6c9dece5755>8.31 - Module principia_materia.mathematics.array_utils</h1><div class=lead>Module principia_materia.mathematics.array_utils</div><h1 id=principia_materiamathematicsarray_utils-module>principia_materia.mathematics.array_utils module<a class=td-heading-self-link href=#principia_materiamathematicsarray_utils-module aria-label="Heading self-link"></a></h1><h3 id=principia_materiamathematicsarray_utilsarray_in_2darrayarr1-arr2-tolnone>principia_materia.mathematics.array_utils.array_in_2darray(arr1, arr2, tol=None)<a class=td-heading-self-link href=#principia_materiamathematicsarray_utilsarray_in_2darrayarr1-arr2-tolnone aria-label="Heading self-link"></a></h3><p>Check if a 1D array is a sub-array of a 2D array.</p><h3 id=principia_materiamathematicsarray_utilsindex_array_in_arrayarr1-arr2-tolnone-completetrue-return_bothfalse>principia_materia.mathematics.array_utils.index_array_in_array(arr1, arr2, tol=None, complete=True, return_both=False)<a class=td-heading-self-link href=#principia_materiamathematicsarray_utilsindex_array_in_arrayarr1-arr2-tolnone-completetrue-return_bothfalse aria-label="Heading self-link"></a></h3><p>Find the indices for sub-arrays of arr1 in arr2.</p><p>Both arr1 and arr2 have same sub-arrays but in different order.
This method finds the indices of these sub-arrays in arr2 to order them
to the same ordering in arr1.</p></div><div class=td-content style=page-break-before:always><h1 id=pg-43e61a340e87a915d3b449eedcf1701f>8.32 - Module principia_materia.mathematics.core_math</h1><div class=lead>Module principia_materia.mathematics.core_math</div><h1 id=principia_materiamathematicscore_math-module>principia_materia.mathematics.core_math module<a class=td-heading-self-link href=#principia_materiamathematicscore_math-module aria-label="Heading self-link"></a></h1><h3 id=principia_materiamathematicscore_mathgaussianw-sigma-w000>principia_materia.mathematics.core_math.gaussian(w, sigma, w0=0.0)<a class=td-heading-self-link href=#principia_materiamathematicscore_mathgaussianw-sigma-w000 aria-label="Heading self-link"></a></h3><p>Gaussian</p><p>..math</p><pre tabindex=0><code class=language-default data-lang=default>g (w - w_0) = \frac{1}{\sqrt{2 \pi} \sigma} e^{- \frac{(w - w_0)^2}{2 sigma^2}}
</code></pre><h3 id=principia_materiamathematicscore_mathgs_orthogarr-allowzerofalse-tol1e-06>principia_materia.mathematics.core_math.gs_orthog(arr, allowzero=False, tol=1e-06)<a class=td-heading-self-link href=#principia_materiamathematicscore_mathgs_orthogarr-allowzerofalse-tol1e-06 aria-label="Heading self-link"></a></h3><p>Gram-Schmidt orthonormalize a set of vectors.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>arr</strong> (array of numbers, shape(n, m)) – The set of vectors to be orthonormalized, in row convention.</p></li><li><p><strong>allowzero</strong> (bool, optional, default to False) – If True, allow 0 vectors in orthogonalization.</p></li><li><p><strong>tol</strong> (float, optional, default to 1.0E-6) – Error tolerance.</p></li></ul></li><li><p><strong>Returns</strong></p><p><strong>arr</strong> – The orthonormalized vectors.</p></li><li><p><strong>Return type</strong></p><p>array of numbers, shape(n, m)</p></li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-2647ef483f103bc8d805c3500b3407ce>8.33 - Module principia_materia.mathematics.errortail</h1><div class=lead>Module principia_materia.mathematics.errortail</div><h1 id=principia_materiamathematicserrortail-module>principia_materia.mathematics.errortail module<a class=td-heading-self-link href=#principia_materiamathematicserrortail-module aria-label="Heading self-link"></a></h1><h3 id=principia_materiamathematicserrortailfit_errortaildelta-datapoints-power2-pick_min3-pick_maxnone-consecutive_picksfalse-penaltyfunction-penalty_linear_mse-separate_complexfalse>principia_materia.mathematics.errortail.fit_errortail(delta, datapoints, power=2, pick_min=3, pick_max=None, consecutive_picks=False, penalty=<function penalty_linear_mse>, separate_complex=False)<a class=td-heading-self-link href=#principia_materiamathematicserrortailfit_errortaildelta-datapoints-power2-pick_min3-pick_maxnone-consecutive_picksfalse-penaltyfunction-penalty_linear_mse-separate_complexfalse aria-label="Heading self-link"></a></h3><p>Fit error tail for finite difference calculations.</p><p>Either pick n and pick N scheme can be used with various penalty function.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>delta</strong> (array of floats, shape(n, )) – The delta values of the finite difference.</p></li><li><p><strong>datapoints</strong> (array of numbers (complex or float), shape(n, ) or shape(n, m)) – The target function values evaluated at each delta.
If the input is 2-dimensional, each column is computed separately.</p></li><li><p><strong>power</strong> (int, optional, default to 2) – The power of the error tail.
For forward and backward only FD, the error tail is linear.
For central FD, the error tail is quadratic.</p></li><li><p><strong>pick_min</strong> (int, optional, default to 3) – The minimum number of picks for delta selection.</p></li><li><p><strong>pick_max</strong> (int, optional, default to None) – The maximum number of picks for delta selection.
If None, the pick n scheme is used with n=pick_min.
If not None, the pick N schcme is used with N=[pick_min, pick_max].</p></li><li><p><strong>consecutive_picks</strong> (bool, optional, default to False) – Whether to pick consecutive deltas in the picking process.</p></li><li><p><strong>penalty</strong> (callable, optional, default to penalty_linear_mse) – The penalty function to determine the best fit.</p></li><li><p><strong>separate_complex</strong> (bool, optional, default to False) – Whether to fit real and imaginary part of the complex data points
separetely.</p></li></ul></li><li><p><strong>Returns</strong></p><ul><li><p><strong>fit_result</strong> (<em>array of numbers (complex or float, same of type of datapoints), shape(m, 2)</em>) – The coefficients of the fitted error tail.</p></li><li><p><strong>final_pick</strong> (<em>list of arrays of int or complex, length of m</em>) – The indices of the picked points.</p></li><li><p><strong>penalty_value</strong> (<em>array of numbers (complex or float, same of type of datapoints), shape(m, )</em>) – The result of the penalty function.</p></li></ul></li></ul><h3 id=principia_materiamathematicserrortailgenerate_pickstotal-pick-consecutivefalse>principia_materia.mathematics.errortail.generate_picks(total, pick, consecutive=False)<a class=td-heading-self-link href=#principia_materiamathematicserrortailgenerate_pickstotal-pick-consecutivefalse aria-label="Heading self-link"></a></h3><p>Generator for indices to pick with specified pick scheme.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>total</strong> (int) – The total number of points to pick from.</p></li><li><p><strong>pick</strong> (int) – The number of points to pick.</p></li><li><p><strong>consecutive</strong> (bool, optional, detault to False) – Whether the points need to be picked consecutively.</p></li></ul></li></ul><h3 id=principia_materiamathematicserrortailget_errortaildeltas-values-fdtypec-pick_min3-pick_maxnone-consecutivefalse-penaltyfunction-penalty_linear_mse-separate_complextrue-return_xcoeffalse-return_pickfalse-return_penaltyfalse>principia_materia.mathematics.errortail.get_errortail(deltas, values, fdtype=&lsquo;c&rsquo;, pick_min=3, pick_max=None, consecutive=False, penalty=<function penalty_linear_mse>, separate_complex=True, return_xcoef=False, return_pick=False, return_penalty=False)<a class=td-heading-self-link href=#principia_materiamathematicserrortailget_errortaildeltas-values-fdtypec-pick_min3-pick_maxnone-consecutivefalse-penaltyfunction-penalty_linear_mse-separate_complextrue-return_xcoeffalse-return_pickfalse-return_penaltyfalse aria-label="Heading self-link"></a></h3><p>Compute error tail for finite difference results.</p><p>In this function, contrary to the <code>fit_errortail</code> function, the order of
the errortail is determined by the type of the finite difference instead.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>delta</strong> (array of floats, shape(n, )) – The delta values of the finite difference.</p></li><li><p><strong>values</strong> (array of numbers (complex or float), shape(n, ) or shape(n, m, &mldr;)) – The target function values evaluated at each delta.
If the input dimention is higher than 1, each entry from the second dimention and
beyond is computed separately.</p></li><li><p><strong>fdtype</strong> (str, choice of [&ldquo;c&rdquo;, &ldquo;b&rdquo;, &ldquo;f&rdquo;], default to &ldquo;c&rdquo;) – The type of finite difference calculation, “c” for central,
“b” for backward and “f” for forward.
For forward and backward only FD, the error tail is linear.
For central FD, the error tail is quadratic.</p></li><li><p><strong>pick_min</strong> (int, optional, default to 3) – The minimum number of picks for delta selection.</p></li><li><p><strong>pick_max</strong> (int, optional, default to None) – The maximum number of picks for delta selection.
If None, the pick n scheme is used with n=pick_min.
If not None, the pick N schcme is used with N=[pick_min, pick_max].</p></li><li><p><strong>consecutive_picks</strong> (bool, optional, default to False) – Whether to pick consecutive deltas in the picking process.</p></li><li><p><strong>penalty</strong> (callable, optional, default to penalty_linear_mse) – The penalty function to determine the best fit.</p></li><li><p><strong>separate_complex</strong> (bool, optional, default to False) – Whether to fit real and imaginary part of the complex data points
separetely.</p></li><li><p><strong>return_xcoef</strong> (bool, optional, default to False) – Whether to return the coefficient of the x^order term.</p></li><li><p><strong>return_pick</strong> (bool, optional, default to False) – Whether to return the indices of the picked points.</p></li><li><p><strong>return_penalty</strong> (bool, optional, default to False) – Whether to return the result of the penalty function.</p></li></ul></li><li><p><strong>Returns</strong></p><ul><li><p><strong>result</strong> (<em>array of numbers (complex or float, same of type of values), shape(m, …)</em>) – The intercept of the error tail.</p></li><li><p><strong>xcoef</strong> (<em>array of numbers (complex or float, same of type of values), shape(m, …)</em>) – The coefficient of the x^order term, can be used to plot the fitted error tail.</p></li><li><p><strong>pick</strong> (<em>list of arrays of int or complex, length of m</em>) – The indices of the picked points.</p></li><li><p><strong>penalty</strong> (<em>array of numbers (complex or float, same of type of values), shape(m, …)</em>) – The result of the penalty function.</p></li></ul></li></ul><h3 id=principia_materiamathematicserrortailget_errortail_yaml_wrappertitleerrortail-dataset-iscomplexfalse>principia_materia.mathematics.errortail.get_errortail_yaml_wrapper(title=&lsquo;Errortail Dataset&rsquo;, iscomplex=False)<a class=td-heading-self-link href=#principia_materiamathematicserrortailget_errortail_yaml_wrappertitleerrortail-dataset-iscomplexfalse aria-label="Heading self-link"></a></h3><h3 id=principia_materiamathematicserrortailleast_squarea-b-return_rfalse-return_msefalse-return_sfalse-return_stdxfalse>principia_materia.mathematics.errortail.least_square(A, b, return_R=False, return_mse=False, return_S=False, return_stdx=False)<a class=td-heading-self-link href=#principia_materiamathematicserrortailleast_squarea-b-return_rfalse-return_msefalse-return_sfalse-return_stdxfalse aria-label="Heading self-link"></a></h3><p>Compute least square of Ax=b</p><p>The function computes the least square solution for the equation $A \cdot x=b$,
as well as metrics to evaluate the quality of the solution when the input A is not
square and full rank, and the solution is not exact.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>A</strong> (array of numbers, shape(N, m)) – Matrix A.</p></li><li><p><strong>b</strong> (array of numbers, shape(N, ) or shape(N, l)) – Vector b, if b is 2 dimensional, least square is computed
for each column of b.</p></li><li><p><strong>return_R</strong> (bool) – Whether to return residuals.</p></li><li><p><strong>return_mse</strong> (bool) – Whether to return mean square error.</p></li><li><p><strong>return_S</strong> (bool) – Whether to return covariance matrix.</p></li><li><p><strong>return_stdx</strong> (bool) – Whether to return standard error.</p></li></ul></li><li><p><strong>Returns</strong></p><ul><li><p><strong>x</strong> (<em>array of numbers, shape(l, m)</em>) – Least square solution.</p></li><li><p><strong>R</strong> (<em>array of numbers, shape(l, )</em>) – Residuals of the least square.</p></li><li><p><strong>mse</strong> (<em>array of numbers, shape(l, )</em>) – Mean square error of the least square.</p></li><li><p><strong>S</strong> (<em>array of numbers, shape(l, m, m)</em>) – Covariance matrix of the least square.</p></li><li><p><strong>stdx</strong> (<em>array of numbers, shape(l, m)</em>) – Standard error of the least square.</p></li></ul></li></ul><h3 id=principia_materiamathematicserrortailpenalty_linear_msen-r-mse-s-stdx>principia_materia.mathematics.errortail.penalty_linear_mse(n, R, mse, S, stdx)<a class=td-heading-self-link href=#principia_materiamathematicserrortailpenalty_linear_msen-r-mse-s-stdx aria-label="Heading self-link"></a></h3><p>Compute linear penalty from mse</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>n</strong> (int) – Number of points to fit with</p></li><li><p><strong>R</strong> (float or complex) – Residule of least square</p></li><li><p><strong>mse</strong> (float or complex) – Mean squared error of least square</p></li><li><p><strong>S</strong> (float or complex) – Covariance of least square</p></li><li><p><strong>stdx</strong> (float or complex) – Standard error of least square</p></li></ul></li><li><p><strong>Returns</strong></p><p><strong>penalty</strong> – The penalty</p></li><li><p><strong>Return type</strong></p><p>float or complex</p></li></ul><h3 id=principia_materiamathematicserrortailpenalty_sqrt_msen-r-mse-s-stdx>principia_materia.mathematics.errortail.penalty_sqrt_mse(n, R, mse, S, stdx)<a class=td-heading-self-link href=#principia_materiamathematicserrortailpenalty_sqrt_msen-r-mse-s-stdx aria-label="Heading self-link"></a></h3><p>Compute square root penalty from mse</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>n</strong> (int) – Number of points to fit with</p></li><li><p><strong>R</strong> (float or complex) – Residule of least square</p></li><li><p><strong>mse</strong> (float or complex) – Mean squared error of least square</p></li><li><p><strong>S</strong> (float or complex) – Covariance of least square</p></li><li><p><strong>stdx</strong> (float or complex) – Standard error of least square</p></li></ul></li><li><p><strong>Returns</strong></p><p><strong>penalty</strong> – The penalty</p></li><li><p><strong>Return type</strong></p><p>float or complex</p></li></ul><h3 id=principia_materiamathematicserrortailpenalty_square_msen-r-mse-s-stdx>principia_materia.mathematics.errortail.penalty_square_mse(n, R, mse, S, stdx)<a class=td-heading-self-link href=#principia_materiamathematicserrortailpenalty_square_msen-r-mse-s-stdx aria-label="Heading self-link"></a></h3><p>Compute squared penalty from mse</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>n</strong> (int) – Number of points to fit with</p></li><li><p><strong>R</strong> (float or complex) – Residule of least square</p></li><li><p><strong>mse</strong> (float or complex) – Mean squared error of least square</p></li><li><p><strong>S</strong> (float or complex) – Covariance of least square</p></li><li><p><strong>stdx</strong> (float or complex) – Standard error of least square</p></li></ul></li><li><p><strong>Returns</strong></p><p><strong>penalty</strong> – The penalty</p></li><li><p><strong>Return type</strong></p><p>float or complex</p></li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-83d6bf3b498519f87177d2fa9c8581af>8.34 - Module principia_materia.mathematics.finite_difference</h1><div class=lead>Module principia_materia.mathematics.finite_difference</div><h1 id=principia_materiamathematicsfinite_difference-module>principia_materia.mathematics.finite_difference module<a class=td-heading-self-link href=#principia_materiamathematicsfinite_difference-module aria-label="Heading self-link"></a></h1><h3 id=_class_-principia_materiamathematicsfinite_differencefinitedifferenceorder-fdtypec><em>class</em> principia_materia.mathematics.finite_difference.FiniteDifference(order, fdtype=&lsquo;c&rsquo;)<a class=td-heading-self-link href=#_class_-principia_materiamathematicsfinite_differencefinitedifferenceorder-fdtypec aria-label="Heading self-link"></a></h3><p>Bases: <code>object</code></p><p>Compute finite difference</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>order</strong> (int, or tuple of int) – The order of the finite difference derivative.
If input type int, compute FD of a single variable to given order.
If input tuple of int, compute FD of len(order) variables, to respective order.</p></li><li><p><strong>fdtype</strong> (choice between &ldquo;c&rdquo;, &ldquo;f&rdquo; and &ldquo;b&rdquo;) – Type of finite difference:</p><p>”c” for central,
“f” for forward,
“b” for backward.</p></li></ul></li></ul><h4 id=order>order()<a class=td-heading-self-link href=#order aria-label="Heading self-link"></a></h4><p>The order of derivative at each variable.</p><ul><li><p><strong>Type</strong></p><p>array of int, shape(nvar, )</p></li></ul><h4 id=delta>delta()<a class=td-heading-self-link href=#delta aria-label="Heading self-link"></a></h4><p>The delta(s) to evaluate at using the finite difference.
The delta can be different at each variable.</p><ul><li><p><strong>Type</strong></p><p>array of float, shape(nvar, ndelta)</p></li></ul><h4 id=uniq_steps>uniq_steps()<a class=td-heading-self-link href=#uniq_steps aria-label="Heading self-link"></a></h4><p>The unique steps needed to compute finite difference for the given
order and delta configuration.</p><ul><li><p><strong>Type</strong></p><p>array of float, shape(n, nvar)</p></li></ul><h4 id=add_deltanew_delta-decimal6>add_delta(new_delta, decimal=6)<a class=td-heading-self-link href=#add_deltanew_delta-decimal6 aria-label="Heading self-link"></a></h4><p>Add extra delta(s) and found the map from old steps to new steps.</p><h4 id=compute_finite_differencefvals>compute_finite_difference(fvals)<a class=td-heading-self-link href=#compute_finite_differencefvals aria-label="Heading self-link"></a></h4><p>Compute finite difference</p><ul><li><p><strong>Parameters</strong></p><p><strong>fvals</strong> (array of numbers, shape (len(uniq_steps), ) or (len(uniq_steps), N&mldr;)) – Values of the target function at each step, can process multiple values simultaneously.</p></li><li><p><strong>Returns</strong></p><p><strong>fd_result</strong> – Result of the finite difference.</p></li><li><p><strong>Return type</strong></p><p>array of numbers, shape fvals.shape[1:]</p></li></ul><h4 id=_property_-delta><em>property</em> delta()<a class=td-heading-self-link href=#_property_-delta aria-label="Heading self-link"></a></h4><h4 id=get_stencils_1dorder>get_stencils_1d(order)<a class=td-heading-self-link href=#get_stencils_1dorder aria-label="Heading self-link"></a></h4><p>Compute the single variable FD stencil to given order.</p><p>Equations for coefficients on each stencil can be found on
<a href=https://en.wikipedia.org/wiki/Finite_difference>Finite difference Wikipedia page</a></p><ul><li><p><strong>Parameters</strong></p><p><strong>order</strong> (int) – The order of the derivative</p></li></ul><h4 id=set_deltadelta-overwritefalse>set_delta(delta, overwrite=False)<a class=td-heading-self-link href=#set_deltadelta-overwritefalse aria-label="Heading self-link"></a></h4><p>Set delta for finite difference computation</p><ul><li><p><strong>Parameters</strong></p><p><strong>delta</strong> (float or array of float, shape of (N, ) or (len(order), N)) – ( N != len(order) )
The delta(s) of the derivative.
If pass in a float, use the same delta for each order.
If pass in array:</p><blockquote><ol><li>In the case of shape(N, ), use same delta for all variables,
and compute N deltas at the same time.</li></ol></blockquote><blockquote><ol start=2><li>In the case of shape(len(order), N), use different delta for
each variable, and compute N deltas at the same time.</li></ol></blockquote></li></ul><h4 id=set_stencils>set_stencils()<a class=td-heading-self-link href=#set_stencils aria-label="Heading self-link"></a></h4><p>Set stencils for FD derivatives.</p><p>Find the stencils needed to compute finite difference.</p><h4 id=set_stencils_1d>set_stencils_1d()<a class=td-heading-self-link href=#set_stencils_1d aria-label="Heading self-link"></a></h4><p>Find stencils for each FD variable.</p><h4 id=set_stepsdecimal6>set_steps(decimal=6)<a class=td-heading-self-link href=#set_stepsdecimal6 aria-label="Heading self-link"></a></h4><p>Find unique steps needed to compute finite differece.</p><p>With the found stencils, find all the steps needed to evaluate for the target function,
and find the unique steps as well as the inverse map to the full steps grid.</p><ul><li><p><strong>Parameters</strong></p><p><strong>decimal</strong> (int) – The precision to consider 2 steps equal.</p></li></ul><h4 id=_property_-uniq_steps><em>property</em> uniq_steps()<a class=td-heading-self-link href=#_property_-uniq_steps aria-label="Heading self-link"></a></h4></div><div class=td-content style=page-break-before:always><h1 id=pg-416239491c093397aeb801eb5e41e710>8.35 - Module principia_materia.mathematics.fourier_transform</h1><div class=lead>Module principia_materia.mathematics.fourier_transform</div><h1 id=principia_materiamathematicsfourier_transform-module>principia_materia.mathematics.fourier_transform module<a class=td-heading-self-link href=#principia_materiamathematicsfourier_transform-module aria-label="Heading self-link"></a></h1><h3 id=principia_materiamathematicsfourier_transformbackward_fourier_transformtensors-p-q>principia_materia.mathematics.fourier_transform.backward_fourier_transform(tensors, p, q)<a class=td-heading-self-link href=#principia_materiamathematicsfourier_transformbackward_fourier_transformtensors-p-q aria-label="Heading self-link"></a></h3><p>Backward Fourier Transform for arbitrary orders</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>tensors</strong> (array of complex/float of shape(N, n_1, &mldr;, n_n)) – Tensors to be Fourier Transformed.</p></li><li><p><strong>p</strong> (array of numbers of shape(N, m_1, &mldr;, m_m)) – The corresponding T/Q points of the tensors.</p></li><li><p><strong>q</strong> (array of numbers of shape(M, m_1, &mldr;, m_m) or shape(m_1, &mldr;, m_m)) – The Q/T points for the tensors to be transformed into.</p></li></ul></li><li><p><strong>Returns</strong></p><p><strong>restult</strong> – The result of Fourier Transform.
(If input q has shape of (m_1, …, m_m), returns shape (n_1, …, n_n).)</p></li><li><p><strong>Return type</strong></p><p>length M array of complex/float of shape(M, n_1, …, n_n)</p></li></ul><h3 id=principia_materiamathematicsfourier_transformforward_fourier_transformtensors-p-q>principia_materia.mathematics.fourier_transform.forward_fourier_transform(tensors, p, q)<a class=td-heading-self-link href=#principia_materiamathematicsfourier_transformforward_fourier_transformtensors-p-q aria-label="Heading self-link"></a></h3><p>Forward Fourier Transform for arbitrary orders</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>tensors</strong> (array of complex/float of shape(N, n_1, &mldr;, n_n)) – Tensors to be Fourier Transformed.</p></li><li><p><strong>p</strong> (array of numbers of shape(N, m_1, &mldr;, m_m)) – The corresponding T/Q points of the tensors.</p></li><li><p><strong>q</strong> (array of numbers of shape(M, m_1, &mldr;, m_m) or shape(m_1, &mldr;, m_m)) – The Q/T points for the tensors to be transformed into.</p></li></ul></li><li><p><strong>Returns</strong></p><p><strong>restult</strong> – The result of Fourier Transform.
(If input q has shape of (m_1, …, m_m), returns shape (n_1, …, n_n).)</p></li><li><p><strong>Return type</strong></p><p>length M array of complex/float of shape(M, n_1, …, n_n)</p></li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-5b15543b3f697ae41c5c6429a2d51089>8.36 - Module principia_materia.mathematics.new_fraction</h1><div class=lead>Module principia_materia.mathematics.new_fraction</div><h1 id=principia_materiamathematicsnew_fraction-module>principia_materia.mathematics.new_fraction module<a class=td-heading-self-link href=#principia_materiamathematicsnew_fraction-module aria-label="Heading self-link"></a></h1><h3 id=_class_-principia_materiamathematicsnew_fractionfractionnumerator0-denominatornone--_normalizetrue><em>class</em> principia_materia.mathematics.new_fraction.Fraction(numerator=0, denominator=None, *, _normalize=True)<a class=td-heading-self-link href=#_class_-principia_materiamathematicsnew_fractionfractionnumerator0-denominatornone--_normalizetrue aria-label="Heading self-link"></a></h3><p>Bases: <code>Fraction</code></p><p>Updated methods of built-in Fraction type to fix some deprecation errors.</p><h4 id=limit_denominatormax_denominator1000000>limit_denominator(max_denominator=1000000)<a class=td-heading-self-link href=#limit_denominatormax_denominator1000000 aria-label="Heading self-link"></a></h4><p>Closest Fraction to self with denominator at most max_denominator.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;&gt;&gt;</span> <span style=color:#000>Fraction</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;3.141592653589793&#39;</span><span style=color:#000;font-weight:700>)</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>limit_denominator</span><span style=color:#000;font-weight:700>(</span><span style=color:#0000cf;font-weight:700>10</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#000>Fraction</span><span style=color:#000;font-weight:700>(</span><span style=color:#0000cf;font-weight:700>22</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>7</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;&gt;&gt;</span> <span style=color:#000>Fraction</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;3.141592653589793&#39;</span><span style=color:#000;font-weight:700>)</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>limit_denominator</span><span style=color:#000;font-weight:700>(</span><span style=color:#0000cf;font-weight:700>100</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#000>Fraction</span><span style=color:#000;font-weight:700>(</span><span style=color:#0000cf;font-weight:700>311</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>99</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;&gt;&gt;</span> <span style=color:#000>Fraction</span><span style=color:#000;font-weight:700>(</span><span style=color:#0000cf;font-weight:700>4321</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>8765</span><span style=color:#000;font-weight:700>)</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>limit_denominator</span><span style=color:#000;font-weight:700>(</span><span style=color:#0000cf;font-weight:700>10000</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#000>Fraction</span><span style=color:#000;font-weight:700>(</span><span style=color:#0000cf;font-weight:700>4321</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>8765</span><span style=color:#000;font-weight:700>)</span>
</span></span></code></pre></div></div><div class=td-content style=page-break-before:always><h1 id=pg-b1d1193431f18d9f064df05c7e7509e1>8.37 - Module principia_materia.mathematics.smith_normal_form</h1><div class=lead>Module principia_materia.mathematics.smith_normal_form</div><h1 id=principia_materiamathematicssmith_normal_form-module>principia_materia.mathematics.smith_normal_form module<a class=td-heading-self-link href=#principia_materiamathematicssmith_normal_form-module aria-label="Heading self-link"></a></h1><p>Smith Normal Form and Hermite Normal Form</p><p>An implementation of Smith Normal Form following the algorithm described in <a href=https://en.wikipedia.org/wiki/Smith_normal_form>Smith Normal Form - Wikipedia</a>.</p><p>Hermite Normal Form is implemented following the definition in <a href=https://en.wikipedia.org/wiki/Hermite_normal_form>Hermite Normal Form - Wikipedia</a>.</p><h3 id=principia_materiamathematicssmith_normal_formdiagonalformm>principia_materia.mathematics.smith_normal_form.DiagonalForm(M)<a class=td-heading-self-link href=#principia_materiamathematicssmith_normal_formdiagonalformm aria-label="Heading self-link"></a></h3><p>Finds the diagonalized form of the integer matrix M.</p><h3 id=principia_materiamathematicssmith_normal_formhermitenormalform_aum>principia_materia.mathematics.smith_normal_form.HermiteNormalForm_AU(M)<a class=td-heading-self-link href=#principia_materiamathematicssmith_normal_formhermitenormalform_aum aria-label="Heading self-link"></a></h3><p>Hermite Normal Form of M, Column style</p><p>H = ML</p><h3 id=principia_materiamathematicssmith_normal_formhermitenormalform_uam>principia_materia.mathematics.smith_normal_form.HermiteNormalForm_UA(M)<a class=td-heading-self-link href=#principia_materiamathematicssmith_normal_formhermitenormalform_uam aria-label="Heading self-link"></a></h3><p>Hermite Normal Form of M, Row style</p><p>H = LM</p><h3 id=principia_materiamathematicssmith_normal_formsmithnormalformm>principia_materia.mathematics.smith_normal_form.SmithNormalForm(M)<a class=td-heading-self-link href=#principia_materiamathematicssmith_normal_formsmithnormalformm aria-label="Heading self-link"></a></h3><p>Finds the Smith Normal Form of the integer matrix M.</p><p>The 0 diagonal elements will appear at the end.</p></div><div class=td-content style=page-break-before:always><h1 id=pg-537659e4229c0caacf8973d47f8c7f00>8.38 - Module principia_materia.mathematics.tensor_utils</h1><div class=lead>Module principia_materia.mathematics.tensor_utils</div><h1 id=principia_materiamathematicstensor_utils-module>principia_materia.mathematics.tensor_utils module<a class=td-heading-self-link href=#principia_materiamathematicstensor_utils-module aria-label="Heading self-link"></a></h1><h3 id=principia_materiamathematicstensor_utilsfind_linearly_independent_vectorsvectors-tol1e-06-return_vectorsfalse>principia_materia.mathematics.tensor_utils.find_linearly_independent_vectors(vectors, tol=1e-06, return_vectors=False)<a class=td-heading-self-link href=#principia_materiamathematicstensor_utilsfind_linearly_independent_vectorsvectors-tol1e-06-return_vectorsfalse aria-label="Heading self-link"></a></h3><p>Use Gram-Schmidt to find a set of linearly independent vectors.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>vectors</strong> (array of numbers, shape(n, m)) – The set of vectors to be orthonormalized, in row convention.</p></li><li><p><strong>tol</strong> (float, optional, default to 1.0E-6) – Error tolerance.</p></li><li><p><strong>return_vectors</strong> (bool, optional, default to False) – Whether to return the orthonormalized vectors.</p></li></ul></li><li><p><strong>Returns</strong></p><ul><li><p><strong>liv_indices</strong> (<em>array of int, shape(rank(vectors), )</em>) – The indicies of the linearly independent vectors.</p></li><li><p><strong>vectors</strong> (<em>array of numbers, shape(n, m)</em>) – (if return_vectors == True)
The orthonormalized vectors.</p></li></ul></li></ul><h3 id=principia_materiamathematicstensor_utilsfind_most_linearly_independent_rowsvectors-tol1e-06-return_vectorsfalse>principia_materia.mathematics.tensor_utils.find_most_linearly_independent_rows(vectors, tol=1e-06, return_vectors=False)<a class=td-heading-self-link href=#principia_materiamathematicstensor_utilsfind_most_linearly_independent_rowsvectors-tol1e-06-return_vectorsfalse aria-label="Heading self-link"></a></h3><h3 id=principia_materiamathematicstensor_utilsrotate_tensorrotation_matricies-tensor-rank>principia_materia.mathematics.tensor_utils.rotate_tensor(rotation_matricies, tensor, rank)<a class=td-heading-self-link href=#principia_materiamathematicstensor_utilsrotate_tensorrotation_matricies-tensor-rank aria-label="Heading self-link"></a></h3><p>Rotate a tensor.</p><p>$$
T^{\prime}_{i^{\prime} j^{\prime} k^{\prime} l^{\prime} \cdots} = %
\sum_{i j k l} %
a_{i i^{\prime}} b_{j j^{\prime}} c_{i k^{\prime}} d_{i l^{\prime}} %
\cdots T_{i j k l \cdots}
$$</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>rotation_matricies</strong> (list of arrays of float/complex, length of rank) – (Each array must be a square matrix of same shape of i-th index of tensor)
Rotation matrices to rotate the tensor.</p></li><li><p><strong>tensor</strong> (array of float/complex, shape(n_1, &mldr;, n_{rank}) of shape(n_1, &mldr;, n_{rank + 1})) – The tensor to rotate.</p></li><li><p><strong>rank</strong> (int) – The rank of the tensor.</p></li></ul></li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-e5abf8e11fde65a14562be2df73441b4>8.39 - Module principia_materia.phonon_id</h1><div class=lead>Module principia_materia.phonon_id</div><h1 id=principia_materiaphonon_id-package>principia_materia.phonon_id package<a class=td-heading-self-link href=#principia_materiaphonon_id-package aria-label="Heading self-link"></a></h1><h2 id=submodules>Submodules<a class=td-heading-self-link href=#submodules aria-label="Heading self-link"></a></h2><ul><li><p><a href=/docs/references/principia_materia.phonon_id.analytic_dynamic_tensor.html>principia_materia.phonon_id.analytic_dynamic_tensor module</a></p><ul><li><p><a href=/docs/references/principia_materia.phonon_id.analytic_dynamic_tensor.html#principia_materia.phonon_id.analytic_dynamic_tensor.AnalyticDynamicTensor><code>AnalyticDynamicTensor</code></a></p><ul><li><p><a href=/docs/references/principia_materia.phonon_id.analytic_dynamic_tensor.html#principia_materia.phonon_id.analytic_dynamic_tensor.AnalyticDynamicTensor.Qpoint><code>AnalyticDynamicTensor.Qpoint</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.analytic_dynamic_tensor.html#principia_materia.phonon_id.analytic_dynamic_tensor.AnalyticDynamicTensor.compute_tensor><code>AnalyticDynamicTensor.compute_tensor()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.analytic_dynamic_tensor.html#principia_materia.phonon_id.analytic_dynamic_tensor.AnalyticDynamicTensor.get_irreducible_basis_rowname><code>AnalyticDynamicTensor.get_irreducible_basis_rowname()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.analytic_dynamic_tensor.html#principia_materia.phonon_id.analytic_dynamic_tensor.AnalyticDynamicTensor.get_irreps><code>AnalyticDynamicTensor.get_irreps()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.analytic_dynamic_tensor.html#principia_materia.phonon_id.analytic_dynamic_tensor.AnalyticDynamicTensor.get_rotation_matrix><code>AnalyticDynamicTensor.get_rotation_matrix()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.analytic_dynamic_tensor.html#principia_materia.phonon_id.analytic_dynamic_tensor.AnalyticDynamicTensor.irreducible_derivative_names><code>AnalyticDynamicTensor.irreducible_derivative_names</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.analytic_dynamic_tensor.html#principia_materia.phonon_id.analytic_dynamic_tensor.AnalyticDynamicTensor.n_irreducible_derivatives><code>AnalyticDynamicTensor.n_irreducible_derivatives</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.analytic_dynamic_tensor.html#principia_materia.phonon_id.analytic_dynamic_tensor.AnalyticDynamicTensor.order><code>AnalyticDynamicTensor.order</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.analytic_dynamic_tensor.html#principia_materia.phonon_id.analytic_dynamic_tensor.AnalyticDynamicTensor.qpoint_displacement_rep><code>AnalyticDynamicTensor.qpoint_displacement_rep</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.analytic_dynamic_tensor.html#principia_materia.phonon_id.analytic_dynamic_tensor.AnalyticDynamicTensor.set_irreducible_derivative_names><code>AnalyticDynamicTensor.set_irreducible_derivative_names()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.analytic_dynamic_tensor.html#principia_materia.phonon_id.analytic_dynamic_tensor.AnalyticDynamicTensor.set_irreducible_derivatives><code>AnalyticDynamicTensor.set_irreducible_derivatives()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.analytic_dynamic_tensor.html#principia_materia.phonon_id.analytic_dynamic_tensor.AnalyticDynamicTensor.set_qpoint_displacement_rep><code>AnalyticDynamicTensor.set_qpoint_displacement_rep()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.analytic_dynamic_tensor.html#principia_materia.phonon_id.analytic_dynamic_tensor.AnalyticDynamicTensor.set_vectorized_tensor><code>AnalyticDynamicTensor.set_vectorized_tensor()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.analytic_dynamic_tensor.html#principia_materia.phonon_id.analytic_dynamic_tensor.AnalyticDynamicTensor.solve_irreducible_derivatives><code>AnalyticDynamicTensor.solve_irreducible_derivatives()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.analytic_dynamic_tensor.html#principia_materia.phonon_id.analytic_dynamic_tensor.AnalyticDynamicTensor.symmetrized_tensor_shape><code>AnalyticDynamicTensor.symmetrized_tensor_shape</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.analytic_dynamic_tensor.html#principia_materia.phonon_id.analytic_dynamic_tensor.AnalyticDynamicTensor.symmetrized_vectorized_tensor><code>AnalyticDynamicTensor.symmetrized_vectorized_tensor</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.analytic_dynamic_tensor.html#principia_materia.phonon_id.analytic_dynamic_tensor.AnalyticDynamicTensor.tensor_shape><code>AnalyticDynamicTensor.tensor_shape</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.analytic_dynamic_tensor.html#principia_materia.phonon_id.analytic_dynamic_tensor.AnalyticDynamicTensor.unique_qpoints><code>AnalyticDynamicTensor.unique_qpoints</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.analytic_dynamic_tensor.html#principia_materia.phonon_id.analytic_dynamic_tensor.AnalyticDynamicTensor.vectorized_tensor><code>AnalyticDynamicTensor.vectorized_tensor</code></a></p></li></ul></li><li><p><a href=/docs/references/principia_materia.phonon_id.analytic_dynamic_tensor.html#principia_materia.phonon_id.analytic_dynamic_tensor.get_AnalyticDynamicTensor_hdf5_wrapper><code>get_AnalyticDynamicTensor_hdf5_wrapper()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.analytic_dynamic_tensor.html#principia_materia.phonon_id.analytic_dynamic_tensor.get_IrreducibleDerivatives_hdf5_wrapper><code>get_IrreducibleDerivatives_hdf5_wrapper()</code></a></p></li></ul></li><li><p><a href=/docs/references/principia_materia.phonon_id.analytic_strain_tensor.html>principia_materia.phonon_id.analytic_strain_tensor module</a></p><ul><li><p><a href=/docs/references/principia_materia.phonon_id.analytic_strain_tensor.html#principia_materia.phonon_id.analytic_strain_tensor.AnalyticStrainTensor><code>AnalyticStrainTensor</code></a></p><ul><li><p><a href=/docs/references/principia_materia.phonon_id.analytic_strain_tensor.html#principia_materia.phonon_id.analytic_strain_tensor.AnalyticStrainTensor.compute_tensor><code>AnalyticStrainTensor.compute_tensor()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.analytic_strain_tensor.html#principia_materia.phonon_id.analytic_strain_tensor.AnalyticStrainTensor.get_irreducible_basis_rowname><code>AnalyticStrainTensor.get_irreducible_basis_rowname()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.analytic_strain_tensor.html#principia_materia.phonon_id.analytic_strain_tensor.AnalyticStrainTensor.get_irreps><code>AnalyticStrainTensor.get_irreps()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.analytic_strain_tensor.html#principia_materia.phonon_id.analytic_strain_tensor.AnalyticStrainTensor.get_rotation_matrix><code>AnalyticStrainTensor.get_rotation_matrix()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.analytic_strain_tensor.html#principia_materia.phonon_id.analytic_strain_tensor.AnalyticStrainTensor.identity_subspace><code>AnalyticStrainTensor.identity_subspace</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.analytic_strain_tensor.html#principia_materia.phonon_id.analytic_strain_tensor.AnalyticStrainTensor.irreducible_derivative_names><code>AnalyticStrainTensor.irreducible_derivative_names</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.analytic_strain_tensor.html#principia_materia.phonon_id.analytic_strain_tensor.AnalyticStrainTensor.irreducible_strains><code>AnalyticStrainTensor.irreducible_strains</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.analytic_strain_tensor.html#principia_materia.phonon_id.analytic_strain_tensor.AnalyticStrainTensor.n_irreducible_derivatives><code>AnalyticStrainTensor.n_irreducible_derivatives</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.analytic_strain_tensor.html#principia_materia.phonon_id.analytic_strain_tensor.AnalyticStrainTensor.set_irreducible_derivative_names><code>AnalyticStrainTensor.set_irreducible_derivative_names()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.analytic_strain_tensor.html#principia_materia.phonon_id.analytic_strain_tensor.AnalyticStrainTensor.set_irreducible_derivatives><code>AnalyticStrainTensor.set_irreducible_derivatives()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.analytic_strain_tensor.html#principia_materia.phonon_id.analytic_strain_tensor.AnalyticStrainTensor.set_irreducible_strains><code>AnalyticStrainTensor.set_irreducible_strains()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.analytic_strain_tensor.html#principia_materia.phonon_id.analytic_strain_tensor.AnalyticStrainTensor.set_strain_rep><code>AnalyticStrainTensor.set_strain_rep()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.analytic_strain_tensor.html#principia_materia.phonon_id.analytic_strain_tensor.AnalyticStrainTensor.set_vectorized_tensor><code>AnalyticStrainTensor.set_vectorized_tensor()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.analytic_strain_tensor.html#principia_materia.phonon_id.analytic_strain_tensor.AnalyticStrainTensor.solve_irreducible_derivatives><code>AnalyticStrainTensor.solve_irreducible_derivatives()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.analytic_strain_tensor.html#principia_materia.phonon_id.analytic_strain_tensor.AnalyticStrainTensor.symmetrized_tensor_shape><code>AnalyticStrainTensor.symmetrized_tensor_shape</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.analytic_strain_tensor.html#principia_materia.phonon_id.analytic_strain_tensor.AnalyticStrainTensor.symmetrized_vectorized_tensor><code>AnalyticStrainTensor.symmetrized_vectorized_tensor</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.analytic_strain_tensor.html#principia_materia.phonon_id.analytic_strain_tensor.AnalyticStrainTensor.tensor_shape><code>AnalyticStrainTensor.tensor_shape</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.analytic_strain_tensor.html#principia_materia.phonon_id.analytic_strain_tensor.AnalyticStrainTensor.vectorized_tensor><code>AnalyticStrainTensor.vectorized_tensor</code></a></p></li></ul></li></ul></li><li><p><a href=/docs/references/principia_materia.phonon_id.analytic_tensors.html>principia_materia.phonon_id.analytic_tensors module</a></p><ul><li><p><a href=/docs/references/principia_materia.phonon_id.analytic_tensors.html#principia_materia.phonon_id.analytic_tensors.AnalyticTensors><code>AnalyticTensors</code></a></p><ul><li><p><a href=/docs/references/principia_materia.phonon_id.analytic_tensors.html#principia_materia.phonon_id.analytic_tensors.AnalyticTensors.compute_D_from_ID><code>AnalyticTensors.compute_D_from_ID()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.analytic_tensors.html#principia_materia.phonon_id.analytic_tensors.AnalyticTensors.compute_ID_from_D><code>AnalyticTensors.compute_ID_from_D()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.analytic_tensors.html#principia_materia.phonon_id.analytic_tensors.AnalyticTensors.copy><code>AnalyticTensors.copy()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.analytic_tensors.html#principia_materia.phonon_id.analytic_tensors.AnalyticTensors.irreducible_derivative_names><code>AnalyticTensors.irreducible_derivative_names</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.analytic_tensors.html#principia_materia.phonon_id.analytic_tensors.AnalyticTensors.n_irreducible_derivatives><code>AnalyticTensors.n_irreducible_derivatives</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.analytic_tensors.html#principia_materia.phonon_id.analytic_tensors.AnalyticTensors.set_ADT><code>AnalyticTensors.set_ADT()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.analytic_tensors.html#principia_materia.phonon_id.analytic_tensors.AnalyticTensors.set_D><code>AnalyticTensors.set_D()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.analytic_tensors.html#principia_materia.phonon_id.analytic_tensors.AnalyticTensors.set_irreducible_D><code>AnalyticTensors.set_irreducible_D()</code></a></p></li></ul></li><li><p><a href=/docs/references/principia_materia.phonon_id.analytic_tensors.html#principia_materia.phonon_id.analytic_tensors.get_AnalyticTensors_from_hdf5><code>get_AnalyticTensors_from_hdf5()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.analytic_tensors.html#principia_materia.phonon_id.analytic_tensors.get_AnalyticTensors_hdf5_wrapper><code>get_AnalyticTensors_hdf5_wrapper()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.analytic_tensors.html#principia_materia.phonon_id.analytic_tensors.save_AnalyticTensors_to_hdf5><code>save_AnalyticTensors_to_hdf5()</code></a></p></li></ul></li><li><p><a href=/docs/references/principia_materia.phonon_id.anharmonic_interpolation.html>principia_materia.phonon_id.anharmonic_interpolation module</a></p><ul><li><p><a href=/docs/references/principia_materia.phonon_id.anharmonic_interpolation.html#principia_materia.phonon_id.anharmonic_interpolation.AnharmincInterpolation><code>AnharmincInterpolation</code></a></p><ul><li><p><a href=/docs/references/principia_materia.phonon_id.anharmonic_interpolation.html#principia_materia.phonon_id.anharmonic_interpolation.AnharmincInterpolation.analytic_derivative_dynamic_matrix><code>AnharmincInterpolation.analytic_derivative_dynamic_matrix()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.anharmonic_interpolation.html#principia_materia.phonon_id.anharmonic_interpolation.AnharmincInterpolation.existing_orders><code>AnharmincInterpolation.existing_orders</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.anharmonic_interpolation.html#principia_materia.phonon_id.anharmonic_interpolation.AnharmincInterpolation.fd_derivative_dynamic_matrix><code>AnharmincInterpolation.fd_derivative_dynamic_matrix()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.anharmonic_interpolation.html#principia_materia.phonon_id.anharmonic_interpolation.AnharmincInterpolation.get_Dq2><code>AnharmincInterpolation.get_Dq2()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.anharmonic_interpolation.html#principia_materia.phonon_id.anharmonic_interpolation.AnharmincInterpolation.get_DqN><code>AnharmincInterpolation.get_DqN()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.anharmonic_interpolation.html#principia_materia.phonon_id.anharmonic_interpolation.AnharmincInterpolation.get_Phi><code>AnharmincInterpolation.get_Phi()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.anharmonic_interpolation.html#principia_materia.phonon_id.anharmonic_interpolation.AnharmincInterpolation.get_phonons><code>AnharmincInterpolation.get_phonons()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.anharmonic_interpolation.html#principia_materia.phonon_id.anharmonic_interpolation.AnharmincInterpolation.group_velocity><code>AnharmincInterpolation.group_velocity()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.anharmonic_interpolation.html#principia_materia.phonon_id.anharmonic_interpolation.AnharmincInterpolation.heat_capacity><code>AnharmincInterpolation.heat_capacity()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.anharmonic_interpolation.html#principia_materia.phonon_id.anharmonic_interpolation.AnharmincInterpolation.set_Phi><code>AnharmincInterpolation.set_Phi()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.anharmonic_interpolation.html#principia_materia.phonon_id.anharmonic_interpolation.AnharmincInterpolation.set_dipole><code>AnharmincInterpolation.set_dipole()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.anharmonic_interpolation.html#principia_materia.phonon_id.anharmonic_interpolation.AnharmincInterpolation.set_q_direction><code>AnharmincInterpolation.set_q_direction()</code></a></p></li></ul></li><li><p><a href=/docs/references/principia_materia.phonon_id.anharmonic_interpolation.html#principia_materia.phonon_id.anharmonic_interpolation.mode_heat_capacuty><code>mode_heat_capacuty()</code></a></p></li></ul></li><li><p><a href=/docs/references/principia_materia.phonon_id.bid.html>principia_materia.phonon_id.bid module</a></p><ul><li><p><a href=/docs/references/principia_materia.phonon_id.bid.html#principia_materia.phonon_id.bid.BID><code>BID</code></a></p><ul><li><p><a href=/docs/references/principia_materia.phonon_id.bid.html#principia_materia.phonon_id.bid.BID.compute_irreducible_derivatives><code>BID.compute_irreducible_derivatives()</code></a></p><ul><li><a href=/docs/references/principia_materia.phonon_id.bid.html#principia_materia.phonon_id.bid.BID.irreducible_derivatives><code>BID.irreducible_derivatives</code></a></li></ul></li><li><p><a href=/docs/references/principia_materia.phonon_id.bid.html#principia_materia.phonon_id.bid.BID.create_jobs><code>BID.create_jobs()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.bid.html#principia_materia.phonon_id.bid.BID.derivative_order><code>BID.derivative_order</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.bid.html#principia_materia.phonon_id.bid.BID.find_measurements><code>BID.find_measurements()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.bid.html#principia_materia.phonon_id.bid.BID.get_dynamic_tensors><code>BID.get_dynamic_tensors()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.bid.html#principia_materia.phonon_id.bid.BID.get_fourier_interpolation><code>BID.get_fourier_interpolation()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.bid.html#principia_materia.phonon_id.bid.BID.get_irreducible_derivative_names><code>BID.get_irreducible_derivative_names()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.bid.html#principia_materia.phonon_id.bid.BID.set_chainrule_derivatives><code>BID.set_chainrule_derivatives()</code></a></p><ul><li><a href=/docs/references/principia_materia.phonon_id.bid.html#principia_materia.phonon_id.bid.BID._chainrule><code>BID._chainrule</code></a></li></ul></li><li><p><a href=/docs/references/principia_materia.phonon_id.bid.html#principia_materia.phonon_id.bid.BID.set_chainrule_matrix><code>BID.set_chainrule_matrix()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.bid.html#principia_materia.phonon_id.bid.BID.set_errortail_results><code>BID.set_errortail_results()</code></a></p><ul><li><a href=/docs/references/principia_materia.phonon_id.bid.html#principia_materia.phonon_id.bid.BID._fd_errortail><code>BID._fd_errortail</code></a></li></ul></li><li><p><a href=/docs/references/principia_materia.phonon_id.bid.html#principia_materia.phonon_id.bid.BID.set_measurements><code>BID.set_measurements()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.bid.html#principia_materia.phonon_id.bid.BID.set_results><code>BID.set_results()</code></a></p><ul><li><a href=/docs/references/principia_materia.phonon_id.bid.html#principia_materia.phonon_id.bid.BID._fd_results><code>BID._fd_results</code></a></li></ul></li></ul></li><li><p><a href=/docs/references/principia_materia.phonon_id.bid.html#principia_materia.phonon_id.bid.DisplacementGenerator><code>DisplacementGenerator</code></a></p><ul><li><p><a href=/docs/references/principia_materia.phonon_id.bid.html#principia_materia.phonon_id.bid.DisplacementGenerator.astep><code>DisplacementGenerator.astep()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.bid.html#principia_materia.phonon_id.bid.DisplacementGenerator.astep_one><code>DisplacementGenerator.astep_one()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.bid.html#principia_materia.phonon_id.bid.DisplacementGenerator.n><code>DisplacementGenerator.n</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.bid.html#principia_materia.phonon_id.bid.DisplacementGenerator.next><code>DisplacementGenerator.next()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.bid.html#principia_materia.phonon_id.bid.DisplacementGenerator.reset><code>DisplacementGenerator.reset()</code></a></p></li></ul></li><li><p><a href=/docs/references/principia_materia.phonon_id.bid.html#principia_materia.phonon_id.bid.RandomDisplacementGenerator><code>RandomDisplacementGenerator</code></a></p><ul><li><p><a href=/docs/references/principia_materia.phonon_id.bid.html#principia_materia.phonon_id.bid.RandomDisplacementGenerator.next><code>RandomDisplacementGenerator.next()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.bid.html#principia_materia.phonon_id.bid.RandomDisplacementGenerator.reset><code>RandomDisplacementGenerator.reset()</code></a></p></li></ul></li><li><p><a href=/docs/references/principia_materia.phonon_id.bid.html#principia_materia.phonon_id.bid.format_measurement_label><code>format_measurement_label()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.bid.html#principia_materia.phonon_id.bid.get_BID_from_hdf5><code>get_BID_from_hdf5()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.bid.html#principia_materia.phonon_id.bid.get_BID_hdf5_wrapper><code>get_BID_hdf5_wrapper()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.bid.html#principia_materia.phonon_id.bid.save_BID_to_hdf5><code>save_BID_to_hdf5()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.bid.html#principia_materia.phonon_id.bid.save_bid_errortails><code>save_bid_errortails()</code></a></p></li></ul></li><li><p><a href=/docs/references/principia_materia.phonon_id.chainrule_derivatives.html>principia_materia.phonon_id.chainrule_derivatives module</a></p><ul><li><p><a href=/docs/references/principia_materia.phonon_id.chainrule_derivatives.html#principia_materia.phonon_id.chainrule_derivatives.ChainruleDerivatives><code>ChainruleDerivatives</code></a></p><ul><li><p><a href=/docs/references/principia_materia.phonon_id.chainrule_derivatives.html#principia_materia.phonon_id.chainrule_derivatives.ChainruleDerivatives.add_known_ID><code>ChainruleDerivatives.add_known_ID()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.chainrule_derivatives.html#principia_materia.phonon_id.chainrule_derivatives.ChainruleDerivatives.basis_names><code>ChainruleDerivatives.basis_names</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.chainrule_derivatives.html#principia_materia.phonon_id.chainrule_derivatives.ChainruleDerivatives.basis_vectors><code>ChainruleDerivatives.basis_vectors</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.chainrule_derivatives.html#principia_materia.phonon_id.chainrule_derivatives.ChainruleDerivatives.compute_chainrule><code>ChainruleDerivatives.compute_chainrule()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.chainrule_derivatives.html#principia_materia.phonon_id.chainrule_derivatives.ChainruleDerivatives.decompose_displacements><code>ChainruleDerivatives.decompose_displacements()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.chainrule_derivatives.html#principia_materia.phonon_id.chainrule_derivatives.ChainruleDerivatives.displacement_shape><code>ChainruleDerivatives.displacement_shape</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.chainrule_derivatives.html#principia_materia.phonon_id.chainrule_derivatives.ChainruleDerivatives.get_chainrule_factors><code>ChainruleDerivatives.get_chainrule_factors()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.chainrule_derivatives.html#principia_materia.phonon_id.chainrule_derivatives.ChainruleDerivatives.known_ID><code>ChainruleDerivatives.known_ID</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.chainrule_derivatives.html#principia_materia.phonon_id.chainrule_derivatives.ChainruleDerivatives.nonzero_ID_index><code>ChainruleDerivatives.nonzero_ID_index</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.chainrule_derivatives.html#principia_materia.phonon_id.chainrule_derivatives.ChainruleDerivatives.normalize_displacements><code>ChainruleDerivatives.normalize_displacements()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.chainrule_derivatives.html#principia_materia.phonon_id.chainrule_derivatives.ChainruleDerivatives.set_basis><code>ChainruleDerivatives.set_basis()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.chainrule_derivatives.html#principia_materia.phonon_id.chainrule_derivatives.ChainruleDerivatives.set_naive_basis><code>ChainruleDerivatives.set_naive_basis()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.chainrule_derivatives.html#principia_materia.phonon_id.chainrule_derivatives.ChainruleDerivatives.set_symmetric_basis><code>ChainruleDerivatives.set_symmetric_basis()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.chainrule_derivatives.html#principia_materia.phonon_id.chainrule_derivatives.ChainruleDerivatives.unknown_ID><code>ChainruleDerivatives.unknown_ID</code></a></p></li></ul></li><li><p><a href=/docs/references/principia_materia.phonon_id.chainrule_derivatives.html#principia_materia.phonon_id.chainrule_derivatives.get_ChainruleDerivatives_from_hdf5><code>get_ChainruleDerivatives_from_hdf5()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.chainrule_derivatives.html#principia_materia.phonon_id.chainrule_derivatives.get_ChainruleDerivatives_hdf5_wrapper><code>get_ChainruleDerivatives_hdf5_wrapper()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.chainrule_derivatives.html#principia_materia.phonon_id.chainrule_derivatives.save_ChainruleDerivatives_to_hdf5><code>save_ChainruleDerivatives_to_hdf5()</code></a></p></li></ul></li><li><p><a href=/docs/references/principia_materia.phonon_id.conductivity.html>principia_materia.phonon_id.conductivity module</a></p><ul><li><p><a href=/docs/references/principia_materia.phonon_id.conductivity.html#principia_materia.phonon_id.conductivity.Conductivity><code>Conductivity</code></a></p><ul><li><p><a href=/docs/references/principia_materia.phonon_id.conductivity.html#principia_materia.phonon_id.conductivity.Conductivity.gamma_tetra><code>Conductivity.gamma_tetra()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.conductivity.html#principia_materia.phonon_id.conductivity.Conductivity.gamma_tetra_at_phonon><code>Conductivity.gamma_tetra_at_phonon()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.conductivity.html#principia_materia.phonon_id.conductivity.Conductivity.gamma_tetra_grid><code>Conductivity.gamma_tetra_grid()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.conductivity.html#principia_materia.phonon_id.conductivity.Conductivity.has_Phi_order><code>Conductivity.has_Phi_order()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.conductivity.html#principia_materia.phonon_id.conductivity.Conductivity.scattering_rate_boundary><code>Conductivity.scattering_rate_boundary()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.conductivity.html#principia_materia.phonon_id.conductivity.Conductivity.set_Phi><code>Conductivity.set_Phi()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.conductivity.html#principia_materia.phonon_id.conductivity.Conductivity.set_dipole><code>Conductivity.set_dipole()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.conductivity.html#principia_materia.phonon_id.conductivity.Conductivity.thermal_conductivity_LBTE><code>Conductivity.thermal_conductivity_LBTE()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.conductivity.html#principia_materia.phonon_id.conductivity.Conductivity.thermal_conductivity_RTA><code>Conductivity.thermal_conductivity_RTA()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.conductivity.html#principia_materia.phonon_id.conductivity.Conductivity.two_phonon_dos><code>Conductivity.two_phonon_dos()</code></a></p></li></ul></li><li><p><a href=/docs/references/principia_materia.phonon_id.conductivity.html#principia_materia.phonon_id.conductivity.bedist><code>bedist()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.conductivity.html#principia_materia.phonon_id.conductivity.reciprocal><code>reciprocal()</code></a></p></li></ul></li><li><p><a href=/docs/references/principia_materia.phonon_id.dipole_dipole.html>principia_materia.phonon_id.dipole_dipole module</a></p><ul><li><p><a href=/docs/references/principia_materia.phonon_id.dipole_dipole.html#principia_materia.phonon_id.dipole_dipole.DipoleDipole><code>DipoleDipole</code></a></p><ul><li><p><a href=/docs/references/principia_materia.phonon_id.dipole_dipole.html#principia_materia.phonon_id.dipole_dipole.DipoleDipole.Gvecs><code>DipoleDipole.Gvecs</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.dipole_dipole.html#principia_materia.phonon_id.dipole_dipole.DipoleDipole.c_dd><code>DipoleDipole.c_dd()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.dipole_dipole.html#principia_materia.phonon_id.dipole_dipole.DipoleDipole.c_dd_batch><code>DipoleDipole.c_dd_batch()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.dipole_dipole.html#principia_materia.phonon_id.dipole_dipole.DipoleDipole.c_dd_q0><code>DipoleDipole.c_dd_q0</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.dipole_dipole.html#principia_materia.phonon_id.dipole_dipole.DipoleDipole.dc_dd_G_dK><code>DipoleDipole.dc_dd_G_dK()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.dipole_dipole.html#principia_materia.phonon_id.dipole_dipole.DipoleDipole.dc_dd_dK><code>DipoleDipole.dc_dd_dK()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.dipole_dipole.html#principia_materia.phonon_id.dipole_dipole.DipoleDipole.dc_dd_dK_batch><code>DipoleDipole.dc_dd_dK_batch()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.dipole_dipole.html#principia_materia.phonon_id.dipole_dipole.DipoleDipole.get_c_dd_q0><code>DipoleDipole.get_c_dd_q0()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.dipole_dipole.html#principia_materia.phonon_id.dipole_dipole.DipoleDipole.get_valid_slice><code>DipoleDipole.get_valid_slice()</code></a></p></li></ul></li><li><p><a href=/docs/references/principia_materia.phonon_id.dipole_dipole.html#principia_materia.phonon_id.dipole_dipole.get_DipoleDipole_from_yaml><code>get_DipoleDipole_from_yaml()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.dipole_dipole.html#principia_materia.phonon_id.dipole_dipole.get_dipole_dataset_yaml_wrapper><code>get_dipole_dataset_yaml_wrapper()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.dipole_dipole.html#principia_materia.phonon_id.dipole_dipole.save_DipoleDipole_to_yaml><code>save_DipoleDipole_to_yaml()</code></a></p></li></ul></li><li><p><a href=/docs/references/principia_materia.phonon_id.dynamic_tensors.html>principia_materia.phonon_id.dynamic_tensors module</a></p><ul><li><p><a href=/docs/references/principia_materia.phonon_id.dynamic_tensors.html#principia_materia.phonon_id.dynamic_tensors.DynamicTensors><code>DynamicTensors</code></a></p><ul><li><p><a href=/docs/references/principia_materia.phonon_id.dynamic_tensors.html#principia_materia.phonon_id.dynamic_tensors.DynamicTensors.copy><code>DynamicTensors.copy()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.dynamic_tensors.html#principia_materia.phonon_id.dynamic_tensors.DynamicTensors.get_D_at_Q><code>DynamicTensors.get_D_at_Q()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.dynamic_tensors.html#principia_materia.phonon_id.dynamic_tensors.DynamicTensors.get_full_D><code>DynamicTensors.get_full_D()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.dynamic_tensors.html#principia_materia.phonon_id.dynamic_tensors.DynamicTensors.prepend_hiden_q><code>DynamicTensors.prepend_hiden_q()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.dynamic_tensors.html#principia_materia.phonon_id.dynamic_tensors.DynamicTensors.set_D><code>DynamicTensors.set_D()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.dynamic_tensors.html#principia_materia.phonon_id.dynamic_tensors.DynamicTensors.set_dipoledipole><code>DynamicTensors.set_dipoledipole()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.dynamic_tensors.html#principia_materia.phonon_id.dynamic_tensors.DynamicTensors.set_dipoledipole_contribution><code>DynamicTensors.set_dipoledipole_contribution()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.dynamic_tensors.html#principia_materia.phonon_id.dynamic_tensors.DynamicTensors.set_irreducible_D><code>DynamicTensors.set_irreducible_D()</code></a></p></li></ul></li><li><p><a href=/docs/references/principia_materia.phonon_id.dynamic_tensors.html#principia_materia.phonon_id.dynamic_tensors.get_DynamicTensors_from_hdf5><code>get_DynamicTensors_from_hdf5()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.dynamic_tensors.html#principia_materia.phonon_id.dynamic_tensors.get_DynamicTensors_hdf5_wrapper><code>get_DynamicTensors_hdf5_wrapper()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.dynamic_tensors.html#principia_materia.phonon_id.dynamic_tensors.save_DynamicTensors_to_hdf5><code>save_DynamicTensors_to_hdf5()</code></a></p></li></ul></li><li><p><a href=/docs/references/principia_materia.phonon_id.fd_series.html>principia_materia.phonon_id.fd_series module</a></p><ul><li><p><a href=/docs/references/principia_materia.phonon_id.fd_series.html#principia_materia.phonon_id.fd_series.FDSeries><code>FDSeries</code></a></p><ul><li><p><a href=/docs/references/principia_materia.phonon_id.fd_series.html#principia_materia.phonon_id.fd_series.FDSeries.create_jobs><code>FDSeries.create_jobs()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.fd_series.html#principia_materia.phonon_id.fd_series.FDSeries.project_fd_results><code>FDSeries.project_fd_results()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.fd_series.html#principia_materia.phonon_id.fd_series.FDSeries.set_deltas><code>FDSeries.set_deltas()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.fd_series.html#principia_materia.phonon_id.fd_series.FDSeries.set_errortail_results><code>FDSeries.set_errortail_results()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.fd_series.html#principia_materia.phonon_id.fd_series.FDSeries.set_jobname_prefix><code>FDSeries.set_jobname_prefix()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.fd_series.html#principia_materia.phonon_id.fd_series.FDSeries.set_measurement_alias><code>FDSeries.set_measurement_alias()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.fd_series.html#principia_materia.phonon_id.fd_series.FDSeries.set_measurements><code>FDSeries.set_measurements()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.fd_series.html#principia_materia.phonon_id.fd_series.FDSeries.set_results><code>FDSeries.set_results()</code></a></p><ul><li><a href=/docs/references/principia_materia.phonon_id.fd_series.html#principia_materia.phonon_id.fd_series.FDSeries._fd_results><code>FDSeries._fd_results</code></a></li></ul></li></ul></li><li><p><a href=/docs/references/principia_materia.phonon_id.fd_series.html#principia_materia.phonon_id.fd_series.format_delta_dirname><code>format_delta_dirname()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.fd_series.html#principia_materia.phonon_id.fd_series.get_FDSeries_from_hdf5><code>get_FDSeries_from_hdf5()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.fd_series.html#principia_materia.phonon_id.fd_series.get_FDSeries_hdf5_wrapper><code>get_FDSeries_hdf5_wrapper()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.fd_series.html#principia_materia.phonon_id.fd_series.get_FDSeries_results_hdf5_wrapper><code>get_FDSeries_results_hdf5_wrapper()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.fd_series.html#principia_materia.phonon_id.fd_series.save_FDSeries_results_to_hdf5><code>save_FDSeries_results_to_hdf5()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.fd_series.html#principia_materia.phonon_id.fd_series.save_FDSeries_to_hdf5><code>save_FDSeries_to_hdf5()</code></a></p></li></ul></li><li><p><a href=/docs/references/principia_materia.phonon_id.finite_displacements.html>principia_materia.phonon_id.finite_displacements module</a></p><ul><li><p><a href=/docs/references/principia_materia.phonon_id.finite_displacements.html#principia_materia.phonon_id.finite_displacements.FiniteDisplacements><code>FiniteDisplacements</code></a></p><ul><li><p><a href=/docs/references/principia_materia.phonon_id.finite_displacements.html#principia_materia.phonon_id.finite_displacements.FiniteDisplacements.add_delta><code>FiniteDisplacements.add_delta()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.finite_displacements.html#principia_materia.phonon_id.finite_displacements.FiniteDisplacements.compute_finite_displacements><code>FiniteDisplacements.compute_finite_displacements()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.finite_displacements.html#principia_materia.phonon_id.finite_displacements.FiniteDisplacements.create_jobs><code>FiniteDisplacements.create_jobs()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.finite_displacements.html#principia_materia.phonon_id.finite_displacements.FiniteDisplacements.delta><code>FiniteDisplacements.delta</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.finite_displacements.html#principia_materia.phonon_id.finite_displacements.FiniteDisplacements.get_jobname><code>FiniteDisplacements.get_jobname</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.finite_displacements.html#principia_materia.phonon_id.finite_displacements.FiniteDisplacements.set_delta><code>FiniteDisplacements.set_delta()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.finite_displacements.html#principia_materia.phonon_id.finite_displacements.FiniteDisplacements.set_displacement_vectors><code>FiniteDisplacements.set_displacement_vectors()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.finite_displacements.html#principia_materia.phonon_id.finite_displacements.FiniteDisplacements.set_jobname_template><code>FiniteDisplacements.set_jobname_template()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.finite_displacements.html#principia_materia.phonon_id.finite_displacements.FiniteDisplacements.set_jobs><code>FiniteDisplacements.set_jobs()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.finite_displacements.html#principia_materia.phonon_id.finite_displacements.FiniteDisplacements.set_raw_results><code>FiniteDisplacements.set_raw_results()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.finite_displacements.html#principia_materia.phonon_id.finite_displacements.FiniteDisplacements.uniq_displacements><code>FiniteDisplacements.uniq_displacements</code></a></p></li></ul></li><li><p><a href=/docs/references/principia_materia.phonon_id.finite_displacements.html#principia_materia.phonon_id.finite_displacements.get_FD_from_configuration><code>get_FD_from_configuration()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.finite_displacements.html#principia_materia.phonon_id.finite_displacements.get_fd_config_hdf5_wrapper><code>get_fd_config_hdf5_wrapper()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.finite_displacements.html#principia_materia.phonon_id.finite_displacements.get_fd_config_yaml_wrapper><code>get_fd_config_yaml_wrapper()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.finite_displacements.html#principia_materia.phonon_id.finite_displacements.get_fd_results_hdf5_wrapper><code>get_fd_results_hdf5_wrapper()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.finite_displacements.html#principia_materia.phonon_id.finite_displacements.get_fd_results_yaml_wrapper><code>get_fd_results_yaml_wrapper()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.finite_displacements.html#principia_materia.phonon_id.finite_displacements.save_FD_config_to_hdf5><code>save_FD_config_to_hdf5()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.finite_displacements.html#principia_materia.phonon_id.finite_displacements.save_FD_config_to_yaml><code>save_FD_config_to_yaml()</code></a></p></li></ul></li><li><p><a href=/docs/references/principia_materia.phonon_id.fourier_interpolation.html>principia_materia.phonon_id.fourier_interpolation module</a></p><ul><li><p><a href=/docs/references/principia_materia.phonon_id.fourier_interpolation.html#principia_materia.phonon_id.fourier_interpolation.FourierInterpolation><code>FourierInterpolation</code></a></p><ul><li><p><a href=/docs/references/principia_materia.phonon_id.fourier_interpolation.html#principia_materia.phonon_id.fourier_interpolation.FourierInterpolation.analytic_derivative_dynamic_tensor><code>FourierInterpolation.analytic_derivative_dynamic_tensor()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.fourier_interpolation.html#principia_materia.phonon_id.fourier_interpolation.FourierInterpolation.copy><code>FourierInterpolation.copy()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.fourier_interpolation.html#principia_materia.phonon_id.fourier_interpolation.FourierInterpolation.fourier_transform><code>FourierInterpolation.fourier_transform()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.fourier_interpolation.html#principia_materia.phonon_id.fourier_interpolation.FourierInterpolation.from_dynamic_tensors><code>FourierInterpolation.from_dynamic_tensors()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.fourier_interpolation.html#principia_materia.phonon_id.fourier_interpolation.FourierInterpolation.get_Phi><code>FourierInterpolation.get_Phi()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.fourier_interpolation.html#principia_materia.phonon_id.fourier_interpolation.FourierInterpolation.get_Phi_WS_at_Tpoint><code>FourierInterpolation.get_Phi_WS_at_Tpoint()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.fourier_interpolation.html#principia_materia.phonon_id.fourier_interpolation.FourierInterpolation.get_Phi_WS_dict><code>FourierInterpolation.get_Phi_WS_dict()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.fourier_interpolation.html#principia_materia.phonon_id.fourier_interpolation.FourierInterpolation.get_Tindex><code>FourierInterpolation.get_Tindex()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.fourier_interpolation.html#principia_materia.phonon_id.fourier_interpolation.FourierInterpolation.get_Tpoints><code>FourierInterpolation.get_Tpoints()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.fourier_interpolation.html#principia_materia.phonon_id.fourier_interpolation.FourierInterpolation.interpolate_Qpoint><code>FourierInterpolation.interpolate_Qpoint()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.fourier_interpolation.html#principia_materia.phonon_id.fourier_interpolation.FourierInterpolation.prepend_hiden_t><code>FourierInterpolation.prepend_hiden_t()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.fourier_interpolation.html#principia_materia.phonon_id.fourier_interpolation.FourierInterpolation.set_D><code>FourierInterpolation.set_D()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.fourier_interpolation.html#principia_materia.phonon_id.fourier_interpolation.FourierInterpolation.set_Phi><code>FourierInterpolation.set_Phi()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.fourier_interpolation.html#principia_materia.phonon_id.fourier_interpolation.FourierInterpolation.set_Wigner_Seitz_map><code>FourierInterpolation.set_Wigner_Seitz_map()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.fourier_interpolation.html#principia_materia.phonon_id.fourier_interpolation.FourierInterpolation.set_dipoledipole_contribution><code>FourierInterpolation.set_dipoledipole_contribution()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.fourier_interpolation.html#principia_materia.phonon_id.fourier_interpolation.FourierInterpolation.set_irreducible_D><code>FourierInterpolation.set_irreducible_D()</code></a></p></li></ul></li><li><p><a href=/docs/references/principia_materia.phonon_id.fourier_interpolation.html#principia_materia.phonon_id.fourier_interpolation.get_FourierInterpolation_from_hdf5><code>get_FourierInterpolation_from_hdf5()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.fourier_interpolation.html#principia_materia.phonon_id.fourier_interpolation.get_FourierInterpolation_hdf5_wrapper><code>get_FourierInterpolation_hdf5_wrapper()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.fourier_interpolation.html#principia_materia.phonon_id.fourier_interpolation.save_FourierInterpolation_to_hdf5><code>save_FourierInterpolation_to_hdf5()</code></a></p></li></ul></li><li><p><a href=/docs/references/principia_materia.phonon_id.frozen_phonons.html>principia_materia.phonon_id.frozen_phonons module</a></p><ul><li><p><a href=/docs/references/principia_materia.phonon_id.frozen_phonons.html#principia_materia.phonon_id.frozen_phonons.FrozenPhonons><code>FrozenPhonons</code></a></p><ul><li><p><a href=/docs/references/principia_materia.phonon_id.frozen_phonons.html#principia_materia.phonon_id.frozen_phonons.FrozenPhonons.check_supercell><code>FrozenPhonons.check_supercell()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.frozen_phonons.html#principia_materia.phonon_id.frozen_phonons.FrozenPhonons.create_jobs><code>FrozenPhonons.create_jobs()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.frozen_phonons.html#principia_materia.phonon_id.frozen_phonons.FrozenPhonons.derivative_order><code>FrozenPhonons.derivative_order</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.frozen_phonons.html#principia_materia.phonon_id.frozen_phonons.FrozenPhonons.get_dynamic_tensor><code>FrozenPhonons.get_dynamic_tensor()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.frozen_phonons.html#principia_materia.phonon_id.frozen_phonons.FrozenPhonons.order><code>FrozenPhonons.order</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.frozen_phonons.html#principia_materia.phonon_id.frozen_phonons.FrozenPhonons.set_displacements><code>FrozenPhonons.set_displacements()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.frozen_phonons.html#principia_materia.phonon_id.frozen_phonons.FrozenPhonons.set_displacements_basis><code>FrozenPhonons.set_displacements_basis()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.frozen_phonons.html#principia_materia.phonon_id.frozen_phonons.FrozenPhonons.set_errortail_results><code>FrozenPhonons.set_errortail_results()</code></a></p><ul><li><a href=/docs/references/principia_materia.phonon_id.frozen_phonons.html#principia_materia.phonon_id.frozen_phonons.FrozenPhonons._fp_errortail><code>FrozenPhonons._fp_errortail</code></a></li></ul></li><li><p><a href=/docs/references/principia_materia.phonon_id.frozen_phonons.html#principia_materia.phonon_id.frozen_phonons.FrozenPhonons.set_realspace_displacements><code>FrozenPhonons.set_realspace_displacements()</code></a></p><ul><li><p><a href=/docs/references/principia_materia.phonon_id.frozen_phonons.html#principia_materia.phonon_id.frozen_phonons.FrozenPhonons.realdisp_cs_index><code>FrozenPhonons.realdisp_cs_index</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.frozen_phonons.html#principia_materia.phonon_id.frozen_phonons.FrozenPhonons.realdisp_transformation_matrices><code>FrozenPhonons.realdisp_transformation_matrices</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.frozen_phonons.html#principia_materia.phonon_id.frozen_phonons.FrozenPhonons.realdisp_associated_displacements><code>FrozenPhonons.realdisp_associated_displacements</code></a></p></li></ul></li><li><p><a href=/docs/references/principia_materia.phonon_id.frozen_phonons.html#principia_materia.phonon_id.frozen_phonons.FrozenPhonons.set_results><code>FrozenPhonons.set_results()</code></a></p><ul><li><a href=/docs/references/principia_materia.phonon_id.frozen_phonons.html#principia_materia.phonon_id.frozen_phonons.FrozenPhonons._fp_results><code>FrozenPhonons._fp_results</code></a></li></ul></li></ul></li><li><p><a href=/docs/references/principia_materia.phonon_id.frozen_phonons.html#principia_materia.phonon_id.frozen_phonons.LoneQ_FP><code>LoneQ_FP</code></a></p><ul><li><p><a href=/docs/references/principia_materia.phonon_id.frozen_phonons.html#principia_materia.phonon_id.frozen_phonons.LoneQ_FP.set_displacements><code>LoneQ_FP.set_displacements()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.frozen_phonons.html#principia_materia.phonon_id.frozen_phonons.LoneQ_FP.set_displacements_basis><code>LoneQ_FP.set_displacements_basis()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.frozen_phonons.html#principia_materia.phonon_id.frozen_phonons.LoneQ_FP.set_dynamic_tensor><code>LoneQ_FP.set_dynamic_tensor()</code></a></p><ul><li><a href=/docs/references/principia_materia.phonon_id.frozen_phonons.html#principia_materia.phonon_id.frozen_phonons.LoneQ_FP._dynamic_tensor><code>LoneQ_FP._dynamic_tensor</code></a></li></ul></li><li><p><a href=/docs/references/principia_materia.phonon_id.frozen_phonons.html#principia_materia.phonon_id.frozen_phonons.LoneQ_FP.set_naive_displacements><code>LoneQ_FP.set_naive_displacements()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.frozen_phonons.html#principia_materia.phonon_id.frozen_phonons.LoneQ_FP.set_naive_displacements_basis><code>LoneQ_FP.set_naive_displacements_basis()</code></a></p></li></ul></li><li><p><a href=/docs/references/principia_materia.phonon_id.frozen_phonons.html#principia_materia.phonon_id.frozen_phonons.find_realspace_displacements><code>find_realspace_displacements()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.frozen_phonons.html#principia_materia.phonon_id.frozen_phonons.find_unique><code>find_unique()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.frozen_phonons.html#principia_materia.phonon_id.frozen_phonons.format_irrep_instances><code>format_irrep_instances()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.frozen_phonons.html#principia_materia.phonon_id.frozen_phonons.format_measurement_label><code>format_measurement_label()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.frozen_phonons.html#principia_materia.phonon_id.frozen_phonons.get_FrozenPhonons_hdf5_wrapper><code>get_FrozenPhonons_hdf5_wrapper()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.frozen_phonons.html#principia_materia.phonon_id.frozen_phonons.get_LoneQ_from_hdf5><code>get_LoneQ_from_hdf5()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.frozen_phonons.html#principia_materia.phonon_id.frozen_phonons.get_dynamic_tensor_wrapper><code>get_dynamic_tensor_wrapper()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.frozen_phonons.html#principia_materia.phonon_id.frozen_phonons.is_qpoint_real><code>is_qpoint_real()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.frozen_phonons.html#principia_materia.phonon_id.frozen_phonons.load_fp_errortails><code>load_fp_errortails()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.frozen_phonons.html#principia_materia.phonon_id.frozen_phonons.make_displacement_identifier><code>make_displacement_identifier()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.frozen_phonons.html#principia_materia.phonon_id.frozen_phonons.save_LoneQ_to_hdf5><code>save_LoneQ_to_hdf5()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.frozen_phonons.html#principia_materia.phonon_id.frozen_phonons.save_dynamic_tensor_to_hdf5><code>save_dynamic_tensor_to_hdf5()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.frozen_phonons.html#principia_materia.phonon_id.frozen_phonons.save_fp_errortails><code>save_fp_errortails()</code></a></p></li></ul></li><li><p><a href=/docs/references/principia_materia.phonon_id.hsbid.html>principia_materia.phonon_id.hsbid module</a></p><ul><li><p><a href=/docs/references/principia_materia.phonon_id.hsbid.html#principia_materia.phonon_id.hsbid.HSBID><code>HSBID</code></a></p><ul><li><p><a href=/docs/references/principia_materia.phonon_id.hsbid.html#principia_materia.phonon_id.hsbid.HSBID.QpointsN><code>HSBID.QpointsN</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.hsbid.html#principia_materia.phonon_id.hsbid.HSBID.compute_irreducible_derivatives><code>HSBID.compute_irreducible_derivatives()</code></a></p><ul><li><a href=/docs/references/principia_materia.phonon_id.hsbid.html#principia_materia.phonon_id.hsbid.HSBID.irreducible_derivatives><code>HSBID.irreducible_derivatives</code></a></li></ul></li><li><p><a href=/docs/references/principia_materia.phonon_id.hsbid.html#principia_materia.phonon_id.hsbid.HSBID.create_jobs><code>HSBID.create_jobs()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.hsbid.html#principia_materia.phonon_id.hsbid.HSBID.derivative_order><code>HSBID.derivative_order</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.hsbid.html#principia_materia.phonon_id.hsbid.HSBID.find_measurements><code>HSBID.find_measurements()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.hsbid.html#principia_materia.phonon_id.hsbid.HSBID.get_dynamic_tensors><code>HSBID.get_dynamic_tensors()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.hsbid.html#principia_materia.phonon_id.hsbid.HSBID.get_fourier_interpolation><code>HSBID.get_fourier_interpolation()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.hsbid.html#principia_materia.phonon_id.hsbid.HSBID.get_irreducible_derivative_names><code>HSBID.get_irreducible_derivative_names()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.hsbid.html#principia_materia.phonon_id.hsbid.HSBID.load_hsbid><code>HSBID.load_hsbid()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.hsbid.html#principia_materia.phonon_id.hsbid.HSBID.set_chainrule_derivatives><code>HSBID.set_chainrule_derivatives()</code></a></p><ul><li><a href=/docs/references/principia_materia.phonon_id.hsbid.html#principia_materia.phonon_id.hsbid.HSBID._chainrule><code>HSBID._chainrule</code></a></li></ul></li><li><p><a href=/docs/references/principia_materia.phonon_id.hsbid.html#principia_materia.phonon_id.hsbid.HSBID.set_errortail_results><code>HSBID.set_errortail_results()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.hsbid.html#principia_materia.phonon_id.hsbid.HSBID.set_hsbid><code>HSBID.set_hsbid()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.hsbid.html#principia_materia.phonon_id.hsbid.HSBID.set_results><code>HSBID.set_results()</code></a></p></li></ul></li><li><p><a href=/docs/references/principia_materia.phonon_id.hsbid.html#principia_materia.phonon_id.hsbid.find_hierarchical_supercells><code>find_hierarchical_supercells()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.hsbid.html#principia_materia.phonon_id.hsbid.format_supa_dirname><code>format_supa_dirname()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.hsbid.html#principia_materia.phonon_id.hsbid.get_HSBID_from_hdf5><code>get_HSBID_from_hdf5()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.hsbid.html#principia_materia.phonon_id.hsbid.get_HSBID_hdf5_wrapper><code>get_HSBID_hdf5_wrapper()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.hsbid.html#principia_materia.phonon_id.hsbid.save_HSBID_to_hdf5><code>save_HSBID_to_hdf5()</code></a></p></li></ul></li><li><p><a href=/docs/references/principia_materia.phonon_id.lid.html>principia_materia.phonon_id.lid module</a></p><ul><li><p><a href=/docs/references/principia_materia.phonon_id.lid.html#principia_materia.phonon_id.lid.LoneID_FP><code>LoneID_FP</code></a></p><ul><li><p><a href=/docs/references/principia_materia.phonon_id.lid.html#principia_materia.phonon_id.lid.LoneID_FP.get_irreducible_derivative_names><code>LoneID_FP.get_irreducible_derivative_names()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.lid.html#principia_materia.phonon_id.lid.LoneID_FP.get_irreducible_derivatives><code>LoneID_FP.get_irreducible_derivatives()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.lid.html#principia_materia.phonon_id.lid.LoneID_FP.irreducible_derivatives><code>LoneID_FP.irreducible_derivatives</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.lid.html#principia_materia.phonon_id.lid.LoneID_FP.set_analytic_tensor><code>LoneID_FP.set_analytic_tensor()</code></a></p><ul><li><a href=/docs/references/principia_materia.phonon_id.lid.html#principia_materia.phonon_id.lid.LoneID_FP._adt><code>LoneID_FP._adt</code></a></li></ul></li><li><p><a href=/docs/references/principia_materia.phonon_id.lid.html#principia_materia.phonon_id.lid.LoneID_FP.set_displacements><code>LoneID_FP.set_displacements()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.lid.html#principia_materia.phonon_id.lid.LoneID_FP.set_displacements_basis><code>LoneID_FP.set_displacements_basis()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.lid.html#principia_materia.phonon_id.lid.LoneID_FP.set_dynamic_tensor><code>LoneID_FP.set_dynamic_tensor()</code></a></p><ul><li><a href=/docs/references/principia_materia.phonon_id.lid.html#principia_materia.phonon_id.lid.LoneID_FP._dynamic_tensor><code>LoneID_FP._dynamic_tensor</code></a></li></ul></li><li><p><a href=/docs/references/principia_materia.phonon_id.lid.html#principia_materia.phonon_id.lid.LoneID_FP.set_irreducible_derivatives><code>LoneID_FP.set_irreducible_derivatives()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.lid.html#principia_materia.phonon_id.lid.LoneID_FP.set_target_irrep_products><code>LoneID_FP.set_target_irrep_products()</code></a></p></li></ul></li><li><p><a href=/docs/references/principia_materia.phonon_id.lid.html#principia_materia.phonon_id.lid.get_LoneID_from_hdf5><code>get_LoneID_from_hdf5()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.lid.html#principia_materia.phonon_id.lid.get_LoneID_hdf5_wrapper><code>get_LoneID_hdf5_wrapper()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.lid.html#principia_materia.phonon_id.lid.save_LoneID_to_hdf5><code>save_LoneID_to_hdf5()</code></a></p></li></ul></li><li><p><a href=/docs/references/principia_materia.phonon_id.lid_mesh.html>principia_materia.phonon_id.lid_mesh module</a></p><ul><li><p><a href=/docs/references/principia_materia.phonon_id.lid_mesh.html#principia_materia.phonon_id.lid_mesh.LIDMesh><code>LIDMesh</code></a></p><ul><li><p><a href=/docs/references/principia_materia.phonon_id.lid_mesh.html#principia_materia.phonon_id.lid_mesh.LIDMesh.create_jobs><code>LIDMesh.create_jobs()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.lid_mesh.html#principia_materia.phonon_id.lid_mesh.LIDMesh.get_dynamic_tensors><code>LIDMesh.get_dynamic_tensors()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.lid_mesh.html#principia_materia.phonon_id.lid_mesh.LIDMesh.get_fourier_interpolation><code>LIDMesh.get_fourier_interpolation()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.lid_mesh.html#principia_materia.phonon_id.lid_mesh.LIDMesh.get_irreducible_derivative_names><code>LIDMesh.get_irreducible_derivative_names()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.lid_mesh.html#principia_materia.phonon_id.lid_mesh.LIDMesh.get_irreducible_derivatives><code>LIDMesh.get_irreducible_derivatives()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.lid_mesh.html#principia_materia.phonon_id.lid_mesh.LIDMesh.irreducible_derivatives><code>LIDMesh.irreducible_derivatives</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.lid_mesh.html#principia_materia.phonon_id.lid_mesh.LIDMesh.load_lid><code>LIDMesh.load_lid()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.lid_mesh.html#principia_materia.phonon_id.lid_mesh.LIDMesh.set_errortail_results><code>LIDMesh.set_errortail_results()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.lid_mesh.html#principia_materia.phonon_id.lid_mesh.LIDMesh.set_lid><code>LIDMesh.set_lid()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.lid_mesh.html#principia_materia.phonon_id.lid_mesh.LIDMesh.set_results><code>LIDMesh.set_results()</code></a></p></li></ul></li><li><p><a href=/docs/references/principia_materia.phonon_id.lid_mesh.html#principia_materia.phonon_id.lid_mesh.get_LIDMesh_config_wrapper><code>get_LIDMesh_config_wrapper()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.lid_mesh.html#principia_materia.phonon_id.lid_mesh.get_LIDMesh_from_hdf5><code>get_LIDMesh_from_hdf5()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.lid_mesh.html#principia_materia.phonon_id.lid_mesh.get_LIDMesh_from_yaml><code>get_LIDMesh_from_yaml()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.lid_mesh.html#principia_materia.phonon_id.lid_mesh.get_LIDMesh_hdf5_wrapper><code>get_LIDMesh_hdf5_wrapper()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.lid_mesh.html#principia_materia.phonon_id.lid_mesh.save_LIDMesh_to_hdf5><code>save_LIDMesh_to_hdf5()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.lid_mesh.html#principia_materia.phonon_id.lid_mesh.save_LIDMesh_to_yaml><code>save_LIDMesh_to_yaml()</code></a></p></li></ul></li><li><p><a href=/docs/references/principia_materia.phonon_id.little_group_adt.html>principia_materia.phonon_id.little_group_adt module</a></p><ul><li><p><a href=/docs/references/principia_materia.phonon_id.little_group_adt.html#principia_materia.phonon_id.little_group_adt.LittleGroupADT><code>LittleGroupADT</code></a></p><ul><li><p><a href=/docs/references/principia_materia.phonon_id.little_group_adt.html#principia_materia.phonon_id.little_group_adt.LittleGroupADT.set_irreducible_derivatives><code>LittleGroupADT.set_irreducible_derivatives()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.little_group_adt.html#principia_materia.phonon_id.little_group_adt.LittleGroupADT.set_qpoint_displacement_rep><code>LittleGroupADT.set_qpoint_displacement_rep()</code></a></p></li></ul></li><li><p><a href=/docs/references/principia_materia.phonon_id.little_group_adt.html#principia_materia.phonon_id.little_group_adt.get_LittleGroupADT_from_hdf5><code>get_LittleGroupADT_from_hdf5()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.little_group_adt.html#principia_materia.phonon_id.little_group_adt.inverse_qpoint><code>inverse_qpoint()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.little_group_adt.html#principia_materia.phonon_id.little_group_adt.save_LittleGroupADT_to_hdf5><code>save_LittleGroupADT_to_hdf5()</code></a></p></li></ul></li><li><p><a href=/docs/references/principia_materia.phonon_id.phonon_db.html>principia_materia.phonon_id.phonon_db module</a></p><ul><li><p><a href=/docs/references/principia_materia.phonon_id.phonon_db.html#principia_materia.phonon_id.phonon_db.create_BID_table><code>create_BID_table()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.phonon_db.html#principia_materia.phonon_id.phonon_db.create_LID_table><code>create_LID_table()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.phonon_db.html#principia_materia.phonon_id.phonon_db.create_metadata_table><code>create_metadata_table()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.phonon_db.html#principia_materia.phonon_id.phonon_db.create_strain_table><code>create_strain_table()</code></a></p></li></ul></li><li><p><a href=/docs/references/principia_materia.phonon_id.phonon_report_util.html>principia_materia.phonon_id.phonon_report_util module</a></p><ul><li><p><a href=/docs/references/principia_materia.phonon_id.phonon_report_util.html#principia_materia.phonon_id.phonon_report_util.summarize_bid><code>summarize_bid()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.phonon_report_util.html#principia_materia.phonon_id.phonon_report_util.summarize_hsbid><code>summarize_hsbid()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.phonon_report_util.html#principia_materia.phonon_id.phonon_report_util.summarize_lid><code>summarize_lid()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.phonon_report_util.html#principia_materia.phonon_id.phonon_report_util.summarize_lid_mesh><code>summarize_lid_mesh()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.phonon_report_util.html#principia_materia.phonon_id.phonon_report_util.summarize_structure><code>summarize_structure()</code></a></p></li></ul></li><li><p><a href=/docs/references/principia_materia.phonon_id.phonon_tools.html>principia_materia.phonon_id.phonon_tools module</a></p><ul><li><p><a href=/docs/references/principia_materia.phonon_id.phonon_tools.html#principia_materia.phonon_id.phonon_tools.adjust_eigenvectors_subspace><code>adjust_eigenvectors_subspace()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.phonon_tools.html#principia_materia.phonon_id.phonon_tools.compute_eigenvalues><code>compute_eigenvalues()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.phonon_tools.html#principia_materia.phonon_id.phonon_tools.compute_phonon_frequencies_from_eigenvalues><code>compute_phonon_frequencies_from_eigenvalues()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.phonon_tools.html#principia_materia.phonon_id.phonon_tools.compute_phonons><code>compute_phonons()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.phonon_tools.html#principia_materia.phonon_id.phonon_tools.find_degenerate_frequencies><code>find_degenerate_frequencies()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.phonon_tools.html#principia_materia.phonon_id.phonon_tools.get_mass_matrix><code>get_mass_matrix()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.phonon_tools.html#principia_materia.phonon_id.phonon_tools.multiply_mass_matrix><code>multiply_mass_matrix()</code></a></p></li></ul></li><li><p><a href=/docs/references/principia_materia.phonon_id.strained_finite_displacements.html>principia_materia.phonon_id.strained_finite_displacements module</a></p><ul><li><p><a href=/docs/references/principia_materia.phonon_id.strained_finite_displacements.html#principia_materia.phonon_id.strained_finite_displacements.StrainedFiniteDisplacements><code>StrainedFiniteDisplacements</code></a></p><ul><li><p><a href=/docs/references/principia_materia.phonon_id.strained_finite_displacements.html#principia_materia.phonon_id.strained_finite_displacements.StrainedFiniteDisplacements.create_jobs><code>StrainedFiniteDisplacements.create_jobs()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.strained_finite_displacements.html#principia_materia.phonon_id.strained_finite_displacements.StrainedFiniteDisplacements.delta><code>StrainedFiniteDisplacements.delta</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.strained_finite_displacements.html#principia_materia.phonon_id.strained_finite_displacements.StrainedFiniteDisplacements.get_jobname><code>StrainedFiniteDisplacements.get_jobname</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.strained_finite_displacements.html#principia_materia.phonon_id.strained_finite_displacements.StrainedFiniteDisplacements.order><code>StrainedFiniteDisplacements.order</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.strained_finite_displacements.html#principia_materia.phonon_id.strained_finite_displacements.StrainedFiniteDisplacements.set_delta><code>StrainedFiniteDisplacements.set_delta()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.strained_finite_displacements.html#principia_materia.phonon_id.strained_finite_displacements.StrainedFiniteDisplacements.set_displacement_vectors><code>StrainedFiniteDisplacements.set_displacement_vectors()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.strained_finite_displacements.html#principia_materia.phonon_id.strained_finite_displacements.StrainedFiniteDisplacements.set_finite_difference><code>StrainedFiniteDisplacements.set_finite_difference()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.strained_finite_displacements.html#principia_materia.phonon_id.strained_finite_displacements.StrainedFiniteDisplacements.set_jobname_template><code>StrainedFiniteDisplacements.set_jobname_template()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.strained_finite_displacements.html#principia_materia.phonon_id.strained_finite_displacements.StrainedFiniteDisplacements.set_jobs><code>StrainedFiniteDisplacements.set_jobs()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.strained_finite_displacements.html#principia_materia.phonon_id.strained_finite_displacements.StrainedFiniteDisplacements.set_strain><code>StrainedFiniteDisplacements.set_strain()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.strained_finite_displacements.html#principia_materia.phonon_id.strained_finite_displacements.StrainedFiniteDisplacements.set_strain_delta><code>StrainedFiniteDisplacements.set_strain_delta()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.strained_finite_displacements.html#principia_materia.phonon_id.strained_finite_displacements.StrainedFiniteDisplacements.set_strain_internal_displacements><code>StrainedFiniteDisplacements.set_strain_internal_displacements()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.strained_finite_displacements.html#principia_materia.phonon_id.strained_finite_displacements.StrainedFiniteDisplacements.strain_delta><code>StrainedFiniteDisplacements.strain_delta</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.strained_finite_displacements.html#principia_materia.phonon_id.strained_finite_displacements.StrainedFiniteDisplacements.uniq_strains><code>StrainedFiniteDisplacements.uniq_strains</code></a></p></li></ul></li><li><p><a href=/docs/references/principia_materia.phonon_id.strained_finite_displacements.html#principia_materia.phonon_id.strained_finite_displacements.get_StrainedFD_from_configuration><code>get_StrainedFD_from_configuration()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.strained_finite_displacements.html#principia_materia.phonon_id.strained_finite_displacements.get_strain_fd_config_hdf5_wrapper><code>get_strain_fd_config_hdf5_wrapper()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.strained_finite_displacements.html#principia_materia.phonon_id.strained_finite_displacements.get_strain_fd_config_yaml_wrapper><code>get_strain_fd_config_yaml_wrapper()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.strained_finite_displacements.html#principia_materia.phonon_id.strained_finite_displacements.save_StrainedFD_config_to_hdf5><code>save_StrainedFD_config_to_hdf5()</code></a></p></li><li><p><a href=/docs/references/principia_materia.phonon_id.strained_finite_displacements.html#principia_materia.phonon_id.strained_finite_displacements.save_StrainedFD_config_to_yaml><code>save_StrainedFD_config_to_yaml()</code></a></p></li></ul></li></ul><h2 id=module-contents>Module contents<a class=td-heading-self-link href=#module-contents aria-label="Heading self-link"></a></h2></div><div class=td-content style=page-break-before:always><h1 id=pg-cc74ba7df02f15e9e1a274f57929f8ff>8.40 - Module principia_materia.phonon_id.analytic_dynamic_tensor</h1><div class=lead>Module principia_materia.phonon_id.analytic_dynamic_tensor</div><h1 id=principia_materiaphonon_idanalytic_dynamic_tensor-module>principia_materia.phonon_id.analytic_dynamic_tensor module<a class=td-heading-self-link href=#principia_materiaphonon_idanalytic_dynamic_tensor-module aria-label="Heading self-link"></a></h1><h3 id=_class_-principia_materiaphonon_idanalytic_dynamic_tensoranalyticdynamictensorstructure-pg-qpoint-tol1e-06><em>class</em> principia_materia.phonon_id.analytic_dynamic_tensor.AnalyticDynamicTensor(structure, pg, Qpoint, tol=1e-06)<a class=td-heading-self-link href=#_class_-principia_materiaphonon_idanalytic_dynamic_tensoranalyticdynamictensorstructure-pg-qpoint-tol1e-06 aria-label="Heading self-link"></a></h3><p>Bases: <code>object</code></p><p>Abstract class for analytic representation of dynamic tensor under group theory.</p><p>Exploits the group theory to find the irreducible derivatives, and construct the dynamic
tensor analytically in both symmetrized basis and naive basis. The analytic form of the
dynamic tensor is stored in a vectorized form to facilitate further computation.</p><p>The analytic tensor allows us to perform further analysis of the dynamics and thermodynamics
of the crystal.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>structure</strong> (CrystalFTG object or a structure file of <a href=/docs/references/principia_materia.translation_group.crystal_ftg.html#principia_materia.translation_group.crystal_ftg.CrystalFTG>CrystalFTG</a>) – The crystal structure.</p></li><li><p><strong>pg</strong> (str or PointGroup object) – The point group.</p></li><li><p><strong>Qpoint</strong> (array of Fraction or a <code>parse_array</code> supported Fraction array.) – The Q-point</p></li><li><p><strong>tol</strong> (float, optional, default to 1.0E-6) – Error tolerence.</p></li></ul></li></ul><h4 id=_property_-qpoint><em>property</em> Qpoint()<a class=td-heading-self-link href=#_property_-qpoint aria-label="Heading self-link"></a></h4><h4 id=compute_tensorirreducible_derivatives-symmetrized_basisfalse>compute_tensor(irreducible_derivatives, symmetrized_basis=False)<a class=td-heading-self-link href=#compute_tensorirreducible_derivatives-symmetrized_basisfalse aria-label="Heading self-link"></a></h4><p>Substute irreducible derivatives into vectorized tensor to compute dynamic tensor.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>irreducible_derivatives</strong> (array of complex, shape(self.n_irreducible_derivatives, )) – The value of irreducible derivatives to substitute in.</p></li><li><p><strong>symmetrized_basis</strong> (bool, optional, default to False) – Whether to return the tensor in symmetrized basis or in naive basis.</p></li></ul></li><li><p><strong>Returns</strong></p><p><strong>tensor</strong> – The resulting dynamic tensor after the substitution.
If <code>symmetrized_basis==True</code>, shape equals self.symmetrized_tensor_shape,
If <code>symmetrized_basis==False</code>, shape equals self.tensor_shape.</p></li><li><p><strong>Return type</strong></p><p>array of complex</p></li></ul><h4 id=get_irreducible_basis_rownameqpoint>get_irreducible_basis_rowname(qpoint)<a class=td-heading-self-link href=#get_irreducible_basis_rownameqpoint aria-label="Heading self-link"></a></h4><p>Get the list of names of the rows for the irreducible basis</p><ul><li><p><strong>Parameters</strong></p><p><strong>qpoint</strong> (array of <a href=/docs/references/principia_materia.mathematics.new_fraction.html#principia_materia.mathematics.new_fraction.Fraction>Fraction</a>, shape(dim, )) – A q-point of the Q-point that is being studied.</p></li></ul><h4 id=get_irrepsqpoint>get_irreps(qpoint)<a class=td-heading-self-link href=#get_irrepsqpoint aria-label="Heading self-link"></a></h4><p>Get the list of irreducible representations and it’s instance number of a q-point.</p><ul><li><p><strong>Parameters</strong></p><p><strong>qpoint</strong> (array of <a href=/docs/references/principia_materia.mathematics.new_fraction.html#principia_materia.mathematics.new_fraction.Fraction>Fraction</a>, shape(dim, )) – A q-point of the Q-point that is being studied.</p></li></ul><h4 id=get_rotation_matrixqpoint>get_rotation_matrix(qpoint)<a class=td-heading-self-link href=#get_rotation_matrixqpoint aria-label="Heading self-link"></a></h4><p>Get the rotation matrix from symmetrized basis to naive basis of a q-point within the Q-point.</p><ul><li><p><strong>Parameters</strong></p><p><strong>qpoint</strong> (array of <a href=/docs/references/principia_materia.mathematics.new_fraction.html#principia_materia.mathematics.new_fraction.Fraction>Fraction</a>, shape(dim, )) – A q-point of the Q-point that is being studied.</p></li></ul><h4 id=_property_-irreducible_derivative_names><em>property</em> irreducible_derivative_names()<a class=td-heading-self-link href=#_property_-irreducible_derivative_names aria-label="Heading self-link"></a></h4><p>The list of names of of all irreducible derivatives in the tensor, also reference for the vectorized tensors.</p><h4 id=_property_-n_irreducible_derivatives><em>property</em> n_irreducible_derivatives()<a class=td-heading-self-link href=#_property_-n_irreducible_derivatives aria-label="Heading self-link"></a></h4><p>Number of irreducible derivatives</p><h4 id=_property_-order><em>property</em> order()<a class=td-heading-self-link href=#_property_-order aria-label="Heading self-link"></a></h4><p>The order of the irreducible derivatives.</p><h4 id=_property_-qpoint_displacement_rep><em>property</em> qpoint_displacement_rep()<a class=td-heading-self-link href=#_property_-qpoint_displacement_rep aria-label="Heading self-link"></a></h4><h4 id=set_irreducible_derivative_namesirreducible_derivative_names-allow_missingfalse>set_irreducible_derivative_names(irreducible_derivative_names, allow_missing=False)<a class=td-heading-self-link href=#set_irreducible_derivative_namesirreducible_derivative_names-allow_missingfalse aria-label="Heading self-link"></a></h4><p>Set the irreducible derivatives names.</p><ul><li><p><strong>Parameters</strong></p><p><strong>irreducible_derivative_names</strong> (list of tuples) – The names of irreducible derivatives.</p></li></ul><h4 id=_abstract_-set_irreducible_derivatives><em>abstract</em> set_irreducible_derivatives()<a class=td-heading-self-link href=#_abstract_-set_irreducible_derivatives aria-label="Heading self-link"></a></h4><p>Constructs irreducible derivatives as well as the coefficients for them in the symmetrized basis.</p><h4 id=_abstract_-set_qpoint_displacement_rep><em>abstract</em> set_qpoint_displacement_rep()<a class=td-heading-self-link href=#_abstract_-set_qpoint_displacement_rep aria-label="Heading self-link"></a></h4><p>Find all irreducible derivatives allowed in the given Qpoint and PointGroup.</p><h4 id=set_vectorized_tensorallow_missingfalse>set_vectorized_tensor(allow_missing=False)<a class=td-heading-self-link href=#set_vectorized_tensorallow_missingfalse aria-label="Heading self-link"></a></h4><p>Constructed vectorized tensor from computed irreducible derivatives.</p><h4 id=solve_irreducible_derivativesdynamic_tensor-symmetrized_basisfalse-tolnone>solve_irreducible_derivatives(dynamic_tensor, symmetrized_basis=False, tol=None)<a class=td-heading-self-link href=#solve_irreducible_derivativesdynamic_tensor-symmetrized_basisfalse-tolnone aria-label="Heading self-link"></a></h4><p>Solve for irreducible derivatives from the numerical tensor.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>dynamic_tensor</strong> (array of complex) – The numerical dynamic tensor to solve irreducible derivatives with.
If <code>symmetrized_basis==True</code>, <code>dynamic_tensor.shape == self.symmetrized_tensor_shape</code>,
If <code>symmetrized_basis==False</code>, <code>dynamic_tensor.shape == self.tensor_shape</code>.</p></li><li><p><strong>symmetrized_basis</strong> (bool, optional, default to False) – If True, the input <code>dynamic_tensor</code> is in symmetrized basis,
if False, the input is in naive basis.</p></li><li><p><strong>tol</strong> (float, optional, default to None) – Error tolerance, if None, use <code>self.tol</code>.</p></li></ul></li><li><p><strong>Returns</strong></p><ul><li><p><strong>irreducible_derivatives</strong> (<em>array of complex, shape(self.n_irreducible_derivatives, )</em>) – The least square result of the irreducible derivatives.</p></li><li><p><strong>residues</strong> (<em>float</em>) – The residues of the least square.</p></li><li><p><strong>rank</strong> (<em>int</em>) – The rank of the reshaped analytic tensor,
which equals the number of irreducible derivatives.</p></li><li><p><strong>s</strong> (<em>array of complex</em>) – Singular values of the reshaped analytic tensor.</p></li></ul></li></ul><h4 id=_property_-symmetrized_tensor_shape><em>property</em> symmetrized_tensor_shape()<a class=td-heading-self-link href=#_property_-symmetrized_tensor_shape aria-label="Heading self-link"></a></h4><p>The shape of the dynamic tensor in symmetrized basis.</p><h4 id=_property_-symmetrized_vectorized_tensor><em>property</em> symmetrized_vectorized_tensor()<a class=td-heading-self-link href=#_property_-symmetrized_vectorized_tensor aria-label="Heading self-link"></a></h4><p>Vectorized analytic dynamic tensor in symmetrized basis.</p><h4 id=_property_-tensor_shape><em>property</em> tensor_shape()<a class=td-heading-self-link href=#_property_-tensor_shape aria-label="Heading self-link"></a></h4><p>The shape of the dynamic tensor in naive basis.</p><h4 id=_property_-unique_qpoints><em>property</em> unique_qpoints()<a class=td-heading-self-link href=#_property_-unique_qpoints aria-label="Heading self-link"></a></h4><p>Unique q-points in the Q-point.</p><h4 id=_property_-vectorized_tensor><em>property</em> vectorized_tensor()<a class=td-heading-self-link href=#_property_-vectorized_tensor aria-label="Heading self-link"></a></h4><p>Vectorized analytic dynamic tensor in naive basis.</p><h3 id=principia_materiaphonon_idanalytic_dynamic_tensorget_analyticdynamictensor_hdf5_wrapper>principia_materia.phonon_id.analytic_dynamic_tensor.get_AnalyticDynamicTensor_hdf5_wrapper()<a class=td-heading-self-link href=#principia_materiaphonon_idanalytic_dynamic_tensorget_analyticdynamictensor_hdf5_wrapper aria-label="Heading self-link"></a></h3><p>HDF5 data wrapper for AnalyticDynamicTensor class.</p><h3 id=principia_materiaphonon_idanalytic_dynamic_tensorget_irreduciblederivatives_hdf5_wrapper>principia_materia.phonon_id.analytic_dynamic_tensor.get_IrreducibleDerivatives_hdf5_wrapper()<a class=td-heading-self-link href=#principia_materiaphonon_idanalytic_dynamic_tensorget_irreduciblederivatives_hdf5_wrapper aria-label="Heading self-link"></a></h3><p>HDF5 data wrapper for irreducible derivatives.</p></div><div class=td-content style=page-break-before:always><h1 id=pg-cf9c6fdd7aaadc68478240516672aeca>8.41 - Module principia_materia.phonon_id.analytic_strain_tensor</h1><div class=lead>Module principia_materia.phonon_id.analytic_strain_tensor</div><h1 id=principia_materiaphonon_idanalytic_strain_tensor-module>principia_materia.phonon_id.analytic_strain_tensor module<a class=td-heading-self-link href=#principia_materiaphonon_idanalytic_strain_tensor-module aria-label="Heading self-link"></a></h1><h3 id=_class_-principia_materiaphonon_idanalytic_strain_tensoranalyticstraintensororder-pg-dim3-tol1e-06><em>class</em> principia_materia.phonon_id.analytic_strain_tensor.AnalyticStrainTensor(order, pg, dim=3, tol=1e-06)<a class=td-heading-self-link href=#_class_-principia_materiaphonon_idanalytic_strain_tensoranalyticstraintensororder-pg-dim3-tol1e-06 aria-label="Heading self-link"></a></h3><p>Bases: <code>object</code></p><h4 id=compute_tensorirreducible_derivatives-symmetrized_basisfalse>compute_tensor(irreducible_derivatives, symmetrized_basis=False)<a class=td-heading-self-link href=#compute_tensorirreducible_derivatives-symmetrized_basisfalse aria-label="Heading self-link"></a></h4><p>Substute irreducible derivatives into vectorized tensor to compute strain tensor.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>irreducible_derivatives</strong> (array of complex, shape(self.n_irreducible_derivatives, )) – The value of irreducible derivatives to substitute in.</p></li><li><p><strong>symmetrized_basis</strong> (bool, optional, default to False) – Whether to return the tensor in symmetrized basis or in naive basis.</p></li></ul></li><li><p><strong>Returns</strong></p><p><strong>tensor</strong> – The resulting strain tensor after the substitution.
If <code>symmetrized_basis==True</code>, shape equals self.symmetrized_tensor_shape,
If <code>symmetrized_basis==False</code>, shape equals self.tensor_shape.</p></li><li><p><strong>Return type</strong></p><p>array of complex</p></li></ul><h4 id=get_irreducible_basis_rowname>get_irreducible_basis_rowname()<a class=td-heading-self-link href=#get_irreducible_basis_rowname aria-label="Heading self-link"></a></h4><p>Get the list of names of the rows for the irreducible basis</p><h4 id=get_irreps>get_irreps()<a class=td-heading-self-link href=#get_irreps aria-label="Heading self-link"></a></h4><p>Get the list of irreducible representations and it’s instance number of the strain rep.</p><h4 id=get_rotation_matrix>get_rotation_matrix()<a class=td-heading-self-link href=#get_rotation_matrix aria-label="Heading self-link"></a></h4><p>Get the rotation matrix from symmetrized basis to naive basis of strain rep.</p><h4 id=_property_-identity_subspace><em>property</em> identity_subspace()<a class=td-heading-self-link href=#_property_-identity_subspace aria-label="Heading self-link"></a></h4><h4 id=_property_-irreducible_derivative_names><em>property</em> irreducible_derivative_names()<a class=td-heading-self-link href=#_property_-irreducible_derivative_names aria-label="Heading self-link"></a></h4><p>The list of names of of all irreducible derivatives in the tensor, also reference for the vectorized tensors.</p><h4 id=_property_-irreducible_strains><em>property</em> irreducible_strains()<a class=td-heading-self-link href=#_property_-irreducible_strains aria-label="Heading self-link"></a></h4><h4 id=_property_-n_irreducible_derivatives><em>property</em> n_irreducible_derivatives()<a class=td-heading-self-link href=#_property_-n_irreducible_derivatives aria-label="Heading self-link"></a></h4><p>Number of irreducible derivatives</p><h4 id=set_irreducible_derivative_namesirreducible_derivative_names>set_irreducible_derivative_names(irreducible_derivative_names)<a class=td-heading-self-link href=#set_irreducible_derivative_namesirreducible_derivative_names aria-label="Heading self-link"></a></h4><p>Set the irreducible derivatives names.</p><ul><li><p><strong>Parameters</strong></p><p><strong>irreducible_derivative_names</strong> (list of tuples) – The names of irreducible derivatives.</p></li></ul><h4 id=set_irreducible_derivativesuse_int_irrvecfalse>set_irreducible_derivatives(use_int_irrvec=False)<a class=td-heading-self-link href=#set_irreducible_derivativesuse_int_irrvecfalse aria-label="Heading self-link"></a></h4><p>The irreducible derivatives is constructued as well as the coefficients for them in the symmetrized basis.</p><h4 id=set_irreducible_strains>set_irreducible_strains()<a class=td-heading-self-link href=#set_irreducible_strains aria-label="Heading self-link"></a></h4><h4 id=set_strain_rep>set_strain_rep()<a class=td-heading-self-link href=#set_strain_rep aria-label="Heading self-link"></a></h4><h4 id=set_vectorized_tensor>set_vectorized_tensor()<a class=td-heading-self-link href=#set_vectorized_tensor aria-label="Heading self-link"></a></h4><p>Constructed vectorized tensor from computed irreducible derivatives.</p><h4 id=solve_irreducible_derivativesstrain_tensor-symmetrized_basisfalse-tolnone>solve_irreducible_derivatives(strain_tensor, symmetrized_basis=False, tol=None)<a class=td-heading-self-link href=#solve_irreducible_derivativesstrain_tensor-symmetrized_basisfalse-tolnone aria-label="Heading self-link"></a></h4><p>Solve for irreducible derivatives from the numerical tensor.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>strain_tensor</strong> (array of complex) – The numerical strain tensor to solve irreducible derivatives with.
If <code>symmetrized_basis==True</code>, <code>strain_tensor.shape == self.symmetrized_tensor_shape</code>,
If <code>symmetrized_basis==False</code>, <code>strain_tensor.shape == self.tensor_shape</code>.</p></li><li><p><strong>symmetrized_basis</strong> (bool, optional, default to False) – If True, the input <code>strain_tensor</code> is in symmetrized basis,
if False, the input is in naive basis.</p></li><li><p><strong>tol</strong> (float, optional, default to None) – Error tolerance, if None, use <code>self.tol</code>.</p></li></ul></li><li><p><strong>Returns</strong></p><ul><li><p><strong>irreducible_derivatives</strong> (<em>array of complex, shape(self.n_irreducible_derivatives, )</em>) – The least square result of the irreducible derivatives.</p></li><li><p><strong>residues</strong> (<em>float</em>) – The residues of the least square.</p></li><li><p><strong>rank</strong> (<em>int</em>) – The rank of the reshaped analytic tensor,
which equals the number of irreducible derivatives.</p></li><li><p><strong>s</strong> (<em>array of complex</em>) – Singular values of the reshaped analytic tensor.</p></li></ul></li></ul><h4 id=_property_-symmetrized_tensor_shape><em>property</em> symmetrized_tensor_shape()<a class=td-heading-self-link href=#_property_-symmetrized_tensor_shape aria-label="Heading self-link"></a></h4><p>The shape of the strain tensor in symmetrized basis.</p><h4 id=_property_-symmetrized_vectorized_tensor><em>property</em> symmetrized_vectorized_tensor()<a class=td-heading-self-link href=#_property_-symmetrized_vectorized_tensor aria-label="Heading self-link"></a></h4><p>Vectorized analytic strain tensor in symmetrized basis.</p><h4 id=_property_-tensor_shape><em>property</em> tensor_shape()<a class=td-heading-self-link href=#_property_-tensor_shape aria-label="Heading self-link"></a></h4><p>The shape of the strain tensor in naive basis.</p><h4 id=_property_-vectorized_tensor><em>property</em> vectorized_tensor()<a class=td-heading-self-link href=#_property_-vectorized_tensor aria-label="Heading self-link"></a></h4><p>Vectorized analytic strain tensor in naive basis.</p></div><div class=td-content style=page-break-before:always><h1 id=pg-b52558880439e5f190494baa65406b81>8.42 - Module principia_materia.phonon_id.analytic_tensors</h1><div class=lead>Module principia_materia.phonon_id.analytic_tensors</div><h1 id=principia_materiaphonon_idanalytic_tensors-module>principia_materia.phonon_id.analytic_tensors module<a class=td-heading-self-link href=#principia_materiaphonon_idanalytic_tensors-module aria-label="Heading self-link"></a></h1><h3 id=_class_-principia_materiaphonon_idanalytic_tensorsanalytictensorsstructure-supa-order-pgc1-tol1e-06><em>class</em> principia_materia.phonon_id.analytic_tensors.AnalyticTensors(structure, supa, order, pg=&lsquo;C1&rsquo;, tol=1e-06)<a class=td-heading-self-link href=#_class_-principia_materiaphonon_idanalytic_tensorsanalytictensorsstructure-supa-order-pgc1-tol1e-06 aria-label="Heading self-link"></a></h3><p>Bases: <a href=/docs/references/principia_materia.phonon_id.dynamic_tensors.html#principia_materia.phonon_id.dynamic_tensors.DynamicTensors><code>DynamicTensors</code></a></p><p>Analytic dynamic tensor of a reciprocal mesh at a given order.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>structure</strong> (CrystalFTG object or a structure file of <a href=/docs/references/principia_materia.translation_group.crystal_ftg.html#principia_materia.translation_group.crystal_ftg.CrystalFTG>CrystalFTG</a>) – The crystal structure.</p></li><li><p><strong>supa</strong> (array of int, shape(dim, dim)) – The supercell matrix.</p></li><li><p><strong>order</strong> (int) – Order of the dynamic tensor.</p></li><li><p><strong>pg</strong> (str or PointGroup object) – The point group.</p></li><li><p><strong>tol</strong> (float, optional, default to 1.0E-6) – Error tolerence.</p></li></ul></li></ul><h4 id=compute_d_from_idirreducible_derivatives>compute_D_from_ID(irreducible_derivatives)<a class=td-heading-self-link href=#compute_d_from_idirreducible_derivatives aria-label="Heading self-link"></a></h4><p>Compute D by substituting in irreducible derivatives.</p><ul><li><p><strong>Parameters</strong></p><p><strong>irreducible_derivatives</strong> (array of complex, shape(n_irreducible_derivatives, )) – The values of the irreducible derivatives.</p></li></ul><h4 id=compute_id_from_ddynamic_tensors>compute_ID_from_D(dynamic_tensors)<a class=td-heading-self-link href=#compute_id_from_ddynamic_tensors aria-label="Heading self-link"></a></h4><p>Compute irreducible derivatives from dynamic tensors.</p><ul><li><p><strong>Parameters</strong></p><p><strong>dynamic_tensors</strong> (array of complex, shape(len(self._D), norbitals, &mldr;, norbitals)) – The dynamic tensors to compute irreducible derivatives from.</p></li></ul><h4 id=copy>copy()<a class=td-heading-self-link href=#copy aria-label="Heading self-link"></a></h4><p>Make a copy</p><ul><li><p><strong>Returns</strong></p><p><strong>new</strong> – A copy of AnalyticTensors object.</p></li><li><p><strong>Return type</strong></p><p>AnalyticTensors</p></li></ul><h4 id=_property_-irreducible_derivative_names><em>property</em> irreducible_derivative_names()<a class=td-heading-self-link href=#_property_-irreducible_derivative_names aria-label="Heading self-link"></a></h4><p>List of names of irreducible derivatives.</p><h4 id=_property_-n_irreducible_derivatives><em>property</em> n_irreducible_derivatives()<a class=td-heading-self-link href=#_property_-n_irreducible_derivatives aria-label="Heading self-link"></a></h4><p>Number of irreducible derivatives.</p><h4 id=set_adtfull_symmetryfalse-conjugatefalse-verbosefalse>set_ADT(full_symmetry=False, conjugate=False, verbose=False)<a class=td-heading-self-link href=#set_adtfull_symmetryfalse-conjugatefalse-verbosefalse aria-label="Heading self-link"></a></h4><p>Construct analytic dynamic tensors of the irreducible Q-points.</p><p>Construct analytic dynamic tensor of the irreducible Q-points, collect all
irreducible derivatives in a list, and vectorize all the analytic tensors
in the irreducible zone with respect to the irreducible derivatives list.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>full_symmetry</strong> (bool, optional, default to False) – If True use full symmetry approach to find the irreducible derivatives;
If False use little group approach instead.</p></li><li><p><strong>verbose</strong> (bool, optional, default to False) – Whether to print out steps verbally.</p></li></ul></li></ul><h4 id=set_dqpoints-d>set_D(Qpoints, D)<a class=td-heading-self-link href=#set_dqpoints-d aria-label="Heading self-link"></a></h4><p>Set vectorized dynamic tensors.</p><h4 id=set_irreducible_dd>set_irreducible_D(D)<a class=td-heading-self-link href=#set_irreducible_dd aria-label="Heading self-link"></a></h4><p>Set vectorized dynamic tensors for irreducible Q-points.</p><h3 id=principia_materiaphonon_idanalytic_tensorsget_analytictensors_from_hdf5h5file-tol1e-06>principia_materia.phonon_id.analytic_tensors.get_AnalyticTensors_from_hdf5(h5file, tol=1e-06)<a class=td-heading-self-link href=#principia_materiaphonon_idanalytic_tensorsget_analytictensors_from_hdf5h5file-tol1e-06 aria-label="Heading self-link"></a></h3><p>Load AnalyticTensors from HDF5 file.</p><h3 id=principia_materiaphonon_idanalytic_tensorsget_analytictensors_hdf5_wrapper>principia_materia.phonon_id.analytic_tensors.get_AnalyticTensors_hdf5_wrapper()<a class=td-heading-self-link href=#principia_materiaphonon_idanalytic_tensorsget_analytictensors_hdf5_wrapper aria-label="Heading self-link"></a></h3><p>HDF5 data wrapper for AnalyticTensors class.</p><h3 id=principia_materiaphonon_idanalytic_tensorssave_analytictensors_to_hdf5obj-h5fileanalytic_tensorshdf5-overwritefalse>principia_materia.phonon_id.analytic_tensors.save_AnalyticTensors_to_hdf5(obj, h5file=&lsquo;analytic_tensors.hdf5&rsquo;, overwrite=False)<a class=td-heading-self-link href=#principia_materiaphonon_idanalytic_tensorssave_analytictensors_to_hdf5obj-h5fileanalytic_tensorshdf5-overwritefalse aria-label="Heading self-link"></a></h3><p>Save AnalyticTensors data into HDF5 file.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>obj</strong> (AnalyticTensors) – A AnalyticTensors object.</p></li><li><p><strong>h5file</strong> (str or h5py.File/h5py.Group obejct, optional, default to &ldquo;dynamic_tensors.hdf5&rdquo;) – Path to a HDF5 file or a h5py.File/h5py.Group object.</p></li><li><p><strong>overwrite</strong> (bool, optional, default to False) – When the file exists, whether to replace the content of the file
with the content to be saved.</p></li></ul></li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-7f2142b5e0b299d1f44908daea8bf1ec>8.43 - Module principia_materia.phonon_id.anharmonic_interpolation</h1><div class=lead>Module principia_materia.phonon_id.anharmonic_interpolation</div><h1 id=principia_materiaphonon_idanharmonic_interpolation-module>principia_materia.phonon_id.anharmonic_interpolation module<a class=td-heading-self-link href=#principia_materiaphonon_idanharmonic_interpolation-module aria-label="Heading self-link"></a></h1><h3 id=_class_-principia_materiaphonon_idanharmonic_interpolationanharmincinterpolationstructure-tol1e-06><em>class</em> principia_materia.phonon_id.anharmonic_interpolation.AnharmincInterpolation(structure, tol=1e-06)<a class=td-heading-self-link href=#_class_-principia_materiaphonon_idanharmonic_interpolationanharmincinterpolationstructure-tol1e-06 aria-label="Heading self-link"></a></h3><p>Bases: <code>object</code></p><p>Interpolation of anharmonic phonon interaction coefficients.</p><p>This class will store PhiN of arbitrary order together and perform interpolation to arbitrary Q.
And generate phonon interaction tensors in desired conventen & basis.</p><h4 id=analytic_derivative_dynamic_matrixqpoints>analytic_derivative_dynamic_matrix(Qpoints)<a class=td-heading-self-link href=#analytic_derivative_dynamic_matrixqpoints aria-label="Heading self-link"></a></h4><p>Analytical derivatives of the dynamical matrices wrt Q-points.</p><p>The short range part is calculated as as following.</p><p>$$
\frac{\partial\hat D_{\mathbf{K}}}{\partial K_\alpha} =
\sum_{\mathbf{y}} \imag T_\alpha e^{\imag \mathbf{K}
\cdot \mathbf{y}\hat a} \hat \Phi_{\mathbf{y}}
$$</p><h4 id=_property_-existing_orders><em>property</em> existing_orders()<a class=td-heading-self-link href=#_property_-existing_orders aria-label="Heading self-link"></a></h4><h4 id=fd_derivative_dynamic_matrixqpoints-amplitute1e-05>fd_derivative_dynamic_matrix(qpoints, amplitute=1e-05)<a class=td-heading-self-link href=#fd_derivative_dynamic_matrixqpoints-amplitute1e-05 aria-label="Heading self-link"></a></h4><p>Derivative dynamic matrix using central finite difference method.</p><h4 id=get_dq2qpoints>get_Dq2(qpoints)<a class=td-heading-self-link href=#get_dq2qpoints aria-label="Heading self-link"></a></h4><p>Get second order dynamic matrices of input q-points.</p><ul><li><p><strong>Parameters</strong></p><p><strong>qpoints</strong> (array of float or <a href=/docs/references/principia_materia.mathematics.new_fraction.html#principia_materia.mathematics.new_fraction.Fraction>Fraction</a>, shape(dim, ) or (1, dim) or (N, 1, dim)) – q-points to to compute dynamic matrices. The hidden q-points will be prepended,
and Fourier transform will be executed.</p></li></ul><h4 id=get_dqnqpoints-order>get_DqN(Qpoints, order)<a class=td-heading-self-link href=#get_dqnqpoints-order aria-label="Heading self-link"></a></h4><p>Get the DqN tensor of a given q at a given order.</p><h4 id=get_phiorder>get_Phi(order)<a class=td-heading-self-link href=#get_phiorder aria-label="Heading self-link"></a></h4><p>Get the PhiN of a given order.</p><h4 id=get_phononsqpoints-return_eigenvectorstrue-unitsthz>get_phonons(qpoints, return_eigenvectors=True, units=&lsquo;THz&rsquo;)<a class=td-heading-self-link href=#get_phononsqpoints-return_eigenvectorstrue-unitsthz aria-label="Heading self-link"></a></h4><h4 id=group_velocityqpoints-fdfalse-amplitute1e-05-tol1e-05-unitsthz>group_velocity(qpoints, fd=False, amplitute=1e-05, tol=1e-05, units=&lsquo;THz&rsquo;)<a class=td-heading-self-link href=#group_velocityqpoints-fdfalse-amplitute1e-05-tol1e-05-unitsthz aria-label="Heading self-link"></a></h4><p>Compute group velocity using either the analytic derivative or CFD.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>qpoints</strong> (array of floats, shape(N, 3) or coordinate parse compatible format.) – Qpoints to evaluate group velocity at.</p></li><li><p><strong>amplitute</strong> (float) – Displacement amplitute on qpoints.</p></li><li><p><strong>tol</strong> (float) – Tolerance.</p></li><li><p><strong>units</strong> (str) – Unit of phonon frequencies.</p></li></ul></li><li><p><strong>Returns</strong></p><p><strong>gv</strong> – Group velocity.</p></li><li><p><strong>Return type</strong></p><p>array of float, shape(len(qpoints), norbitals, 3)</p></li></ul><h4 id=heat_capacityqpoints-temperature-phonon_unitsev-phonon_cutoffnone-tol00001>heat_capacity(qpoints, temperature, phonon_units=&lsquo;eV&rsquo;, phonon_cutoff=None, tol=0.0001)<a class=td-heading-self-link href=#heat_capacityqpoints-temperature-phonon_unitsev-phonon_cutoffnone-tol00001 aria-label="Heading self-link"></a></h4><p>Mode heat capacity at given q-points and temperature.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>qpoints</strong> (array of float, shape(nqpoints, 3)) – q-points to evaulate the mode heat capacity</p></li><li><p><strong>temperature</strong> (float or array of float, shape(ntemp)) – temperature to evaulate the mode heat capacity</p></li></ul></li><li><p><strong>Returns</strong></p><p><strong>cv</strong> – Mode heat capacity in units of eV/K.</p></li><li><p><strong>Return type</strong></p><p>array of float, shape(nqpoints, ntemp, norbitals)</p></li></ul><h4 id=set_phiphi-order>set_Phi(Phi, order)<a class=td-heading-self-link href=#set_phiphi-order aria-label="Heading self-link"></a></h4><p>Add a Phi of a given order.</p><h4 id=set_dipoleepsilon-q_directionnone>set_dipole(epsilon, q_direction=None)<a class=td-heading-self-link href=#set_dipoleepsilon-q_directionnone aria-label="Heading self-link"></a></h4><h4 id=set_q_directionq_directionnone>set_q_direction(q_direction=None)<a class=td-heading-self-link href=#set_q_directionq_directionnone aria-label="Heading self-link"></a></h4><h3 id=principia_materiaphonon_idanharmonic_interpolationmode_heat_capacutyfrequencies-temperature-phonon_unitsthz-phonon_cutoffnone-tol00001>principia_materia.phonon_id.anharmonic_interpolation.mode_heat_capacuty(frequencies, temperature, phonon_units=&lsquo;THz&rsquo;, phonon_cutoff=None, tol=0.0001)<a class=td-heading-self-link href=#principia_materiaphonon_idanharmonic_interpolationmode_heat_capacutyfrequencies-temperature-phonon_unitsthz-phonon_cutoffnone-tol00001 aria-label="Heading self-link"></a></h3><p>Compute mode heat capacity from phonon freuqencies.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>frequencies</strong> (array of float, shape(nqpoints, norbitals))</p></li><li><p><strong>temperature</strong> (float or array of float, shape(ntemp))</p></li></ul></li><li><p><strong>Returns</strong></p><p><strong>cv</strong></p></li><li><p><strong>Return type</strong></p><p>array of float, shape(nqpoints, ntemp, norbitals)</p></li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-e17f3f20301f74d2babd0d06f1aa231b>8.44 - Module principia_materia.phonon_id.bid</h1><div class=lead>Module principia_materia.phonon_id.bid</div><h1 id=principia_materiaphonon_idbid-module>principia_materia.phonon_id.bid module<a class=td-heading-self-link href=#principia_materiaphonon_idbid-module aria-label="Heading self-link"></a></h1><h3 id=_class_-principia_materiaphonon_idbidbidstructure-supa-order-pgc1-full_symmetryfalse-hidden_order1-fdtypec-tol1e-06><em>class</em> principia_materia.phonon_id.bid.BID(structure, supa, order, pg=&lsquo;C1&rsquo;, full_symmetry=False, hidden_order=1, fdtype=&lsquo;c&rsquo;, tol=1e-06)<a class=td-heading-self-link href=#_class_-principia_materiaphonon_idbidbidstructure-supa-order-pgc1-full_symmetryfalse-hidden_order1-fdtypec-tol1e-06 aria-label="Heading self-link"></a></h3><p>Bases: <code>object</code></p><p>Use Bundled Irreducible Derivatives approach to compute phonons and their interactions.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>structure</strong> (CrystalFTG object or a structure file of <a href=/docs/references/principia_materia.translation_group.crystal_ftg.html#principia_materia.translation_group.crystal_ftg.CrystalFTG>CrystalFTG</a>) – The crystal structure.</p></li><li><p><strong>supa</strong> (array of int, shape(dim, dim)) – The supercell matrix.</p></li><li><p><strong>order</strong> (int) – Order of the phonon interaction.</p></li><li><p><strong>pg</strong> (str or PointGroup object, optional, default to &ldquo;C1&rdquo;) – The point group.</p></li><li><p><strong>full_symmetry</strong> (bool, optional, default to False) – If True, use full group analysis (not implemented yet).
If False, use little group analysis.</p></li><li><p><strong>hidden_order</strong> (int, optional, default to 1) – The order of derivatives from first principles.</p></li><li><p><strong>fdtype</strong> (str, choice of [&ldquo;c&rdquo;, &ldquo;f&rdquo;, &ldquo;b&rdquo;]) – Type of finite displacement.</p></li><li><p><strong>tol</strong> (float, optional, default to 1.0E-6) – Error tolerence.</p></li></ul></li></ul><h4 id=compute_irreducible_derivativesknown_id>compute_irreducible_derivatives(known_ID=[])<a class=td-heading-self-link href=#compute_irreducible_derivativesknown_id aria-label="Heading self-link"></a></h4><p>Compute irreducible derivatives with finite displacements result and chainrule matrices/tensors.</p><ul><li><p><strong>Parameters</strong></p><p><strong>known_ID</strong> (array of complex, shape(len(self._chainrule._known_ID_index), )) – The values of the known irreducible derivatives.</p></li></ul><h4 id=irreducible_derivatives>irreducible_derivatives()<a class=td-heading-self-link href=#irreducible_derivatives aria-label="Heading self-link"></a></h4><p>The values of all irreducible derivatives in the current system.</p><ul><li><p><strong>Type</strong></p><p>array of complex shape(n_irreducible_derivatives, )</p></li></ul><h4 id=create_jobsjob_handler-deltas-prefixnone-delta_formatfunction-format_delta_dirname-measurement_labelfunction-format_measurement_label-jobname_prefix-config_filefinite_displacementsyml-appendfalse-dry_runfalse>create_jobs(job_handler, deltas, prefix=None, delta_format=<function format_delta_dirname>, measurement_label=<function format_measurement_label>, jobname_prefix=&rsquo;&rsquo;, config_file=&lsquo;finite_displacements.yml&rsquo;, append=False, dry_run=False)<a class=td-heading-self-link href=#create_jobsjob_handler-deltas-prefixnone-delta_formatfunction-format_delta_dirname-measurement_labelfunction-format_measurement_label-jobname_prefix-config_filefinite_displacementsyml-appendfalse-dry_runfalse aria-label="Heading self-link"></a></h4><p>Create compute jobs for the BID calculations.</p><p>The displacement amplitudes applied to the crystal follow the convention discussed in the paper
Phys. Rev. B 100, 014303 (2019).</p><p>$$
u_{\textbf{t}}*{\left(b, \beta\right)} = \sum_{\textbf{q} \in \hat{S}_{BZ}}
u_{\textbf{q}}*{\left(b, \beta\right)} e^{2\pi\imag \textbf{t} \cdot \textbf{q}}
$$</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>job_handler</strong> (<a href=/docs/references/principia_materia.io_interface.compute_job_series.html#principia_materia.io_interface.compute_job_series.ComputeJobSeries>ComputeJobSeries</a> or <a href=/docs/references/principia_materia.io_interface.jobs_db.html#principia_materia.io_interface.jobs_db.JobsDB>JobsDB</a>) – Either a ComputeJobSeries or a JobsDB object as the interface to the jobs.</p></li><li><p><strong>deltas</strong> (list of numbers, list of arrays, 1-d or 2-d array) – Displacement amplitude.
Can take following types:</p></li></ul><blockquote><pre><code>1. a number, will be broadcast into a shape(n_measurements, 1) array.
</code></pre></blockquote><blockquote><pre><code>2. an 1-d array of length N, will be broadcast into a shape(n_measurements, N) array.
</code></pre></blockquote><blockquote><pre><code>3. a 2-d array of shape(n_measurements, N).
</code></pre></blockquote><ul><li><p><strong>prefix</strong> (str, optional, default to None) – Prefix to the jobnames.</p></li><li><p><strong>delta_format</strong> (callable, optional, default to function: format_delta_dirname.) – A function that format a delta into a string for directory name.
Must be in form of <code>def function(delta, ...): ...</code>.</p></li><li><p><strong>measurement_label</strong> (callable, optional, default to format_measurement_label) – A function that format the measurement indices into certain string format.
Must be in form of def function(measurement_index, …): …</p></li><li><p><strong>jobname_prefix</strong> (str) – Prefix for jobnames.</p></li><li><p><strong>config_file</strong> (str, optional, default to &ldquo;finite_displacements.yml&rdquo;) – The name of the finite displacements configuration file.</p></li><li><p><strong>dry_run</strong> (bool, optional, default to False) – If True, don’t actually create the job.</p></li></ul></li></ul><h4 id=_property_-derivative_order><em>property</em> derivative_order()<a class=td-heading-self-link href=#_property_-derivative_order aria-label="Heading self-link"></a></h4><p>The order of the finite displacements derivative.</p><h4 id=find_measurementsextra_measurements0-test_measurements5-verbosefalse-max_search20>find_measurements(extra_measurements=0, test_measurements=5, verbose=False, max_search=20)<a class=td-heading-self-link href=#find_measurementsextra_measurements0-test_measurements5-verbosefalse-max_search20 aria-label="Heading self-link"></a></h4><p>Find measurements that can solve the chainrule matrix.</p><p>The steps are as follows:</p><blockquote><ol><li>Find the number of unknown irreducible derivatives.</li></ol></blockquote><blockquote><ol start=2><li>With <code>test_measurements</code> test measurements, find
the maximum rank a single displacement can provide.</li></ol></blockquote><blockquote><ol start=3><li>Assume the initial number of measurement as
<code>ceil(n_unknowns/single_measurement_rank)</code>.</li></ol></blockquote><blockquote><ol start=4><li>If <code>extra_measurements</code> is none zero, multiply
<code>n_measurements</code> by <code>extra_measurements + 1</code>.</li></ol></blockquote><blockquote><ol start=5><li>Start with trying out several sets of <code>n_measurements</code>
measurements to see if the chainrule matrices/tensors
can reach condition <code>rank==n_unknowns</code>.</li></ol></blockquote><blockquote><ol start=6><li>If above condition can’t be met after several (5) attemps,
increase <code>n_measurements</code> by 1 and repeat step 5-6,
until the condition is reached. However, after too many
failed attempts (20), the code will quit and throw an error
saying the measurements can’t be found.</li></ol></blockquote><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>extra_measurements</strong> (int, optional, default to 0) – The amount of extra measurement, the new number of
measurement is calculated with the equation:
<code>n_measurements \*= extra_measurements + 1</code>.</p></li><li><p><strong>test_measurements</strong> (int, optional, default to 5) – The number of test measurements.</p></li><li><p><strong>verbose</strong> (bool, optional, default to False) – Verbosity.</p></li><li><p><strong>max_search</strong> (int, optional, default to 20) – Number of attempts to search for the measurements.</p></li></ul></li></ul><h4 id=get_dynamic_tensors>get_dynamic_tensors()<a class=td-heading-self-link href=#get_dynamic_tensors aria-label="Heading self-link"></a></h4><p>Compute dynamic tensors of the irreducible Q-points from irreducible derivatives.</p><ul><li><p><strong>Returns</strong></p><p><strong>dynamic_tensors</strong> – (where N_IQ is the number of irreducible Q-points)
The dynamic tensors of the irreducible Q-points.</p></li><li><p><strong>Return type</strong></p><p>array of complex, shape(N_IQ, ) + (norbitals, ) * order</p></li></ul><h4 id=get_fourier_interpolation>get_fourier_interpolation()<a class=td-heading-self-link href=#get_fourier_interpolation aria-label="Heading self-link"></a></h4><p>Construct the FourierInterpolation object from dynamic tensors of irreducible Q-points.</p><ul><li><p><strong>Returns</strong></p><p><strong>fourier_interpolation</strong> – A FourierInterpolation object.</p></li><li><p><strong>Return type</strong></p><p><a href=/docs/references/principia_materia.phonon_id.fourier_interpolation.html#principia_materia.phonon_id.fourier_interpolation.FourierInterpolation>FourierInterpolation</a></p></li></ul><h4 id=get_irreducible_derivative_names>get_irreducible_derivative_names()<a class=td-heading-self-link href=#get_irreducible_derivative_names aria-label="Heading self-link"></a></h4><h4 id=set_chainrule_derivativesverbosefalse>set_chainrule_derivatives(verbose=False)<a class=td-heading-self-link href=#set_chainrule_derivativesverbosefalse aria-label="Heading self-link"></a></h4><p>Instantiate the ChainruleDerivatives class to compute chainrule matrices/tensors.</p><ul><li><p><strong>Parameters</strong></p><p><strong>verbose</strong> (bool, optional, default to False) – Whether to print out the analysis steps in the construction of the
ChainruleDerivatives object.</p></li></ul><h4 id=_chainrule>_chainrule()<a class=td-heading-self-link href=#_chainrule aria-label="Heading self-link"></a></h4><p>The ChainruleDerivatives object for the system.</p><ul><li><p><strong>Type</strong></p><p><a href=/docs/references/principia_materia.phonon_id.chainrule_derivatives.html#principia_materia.phonon_id.chainrule_derivatives.ChainruleDerivatives>ChainruleDerivatives</a></p></li></ul><h4 id=set_chainrule_matrix>set_chainrule_matrix()<a class=td-heading-self-link href=#set_chainrule_matrix aria-label="Heading self-link"></a></h4><p>Compute chainrule matrices/tensors for the set measurements.</p><h4 id=set_errortail_resultspick_min3-pick_maxnone-consecutivefalse-penaltyfunction-penalty_linear_mse-separate_complextrue-outputnone-overwritetrue>set_errortail_results(pick_min=3, pick_max=None, consecutive=False, penalty=<function penalty_linear_mse>, separate_complex=True, output=None, overwrite=True)<a class=td-heading-self-link href=#set_errortail_resultspick_min3-pick_maxnone-consecutivefalse-penaltyfunction-penalty_linear_mse-separate_complextrue-outputnone-overwritetrue aria-label="Heading self-link"></a></h4><p>Compute error tail for the BID finite displacements result.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>pick_min</strong> (int, optional, default to 3) – The minimum number of picks for delta selection.</p></li><li><p><strong>pick_max</strong> (int, optional, default to None) – The maximum number of picks for delta selection.
If None, the pick n scheme is used with n=pick_min.
If not None, the pick N schcme is used with N=[pick_min, pick_max].</p></li><li><p><strong>consecutive</strong> (bool, optional, default to False) – Whether to pick consecutive deltas in the picking process.</p></li><li><p><strong>penalty</strong> (callable, optional, default to penalty_linear_mse) – The penalty function to determine the best fit.</p></li><li><p><strong>separate_complex</strong> (bool, optional, default to False) – Whether to fit real and imaginary part of the complex data points
separetely.</p></li><li><p><strong>output</strong> (str, optional, default to None) – Path of the output file.
If not None, save the output of errortail fit to the file.</p></li></ul></li></ul><h4 id=_fd_errortail>_fd_errortail()<a class=td-heading-self-link href=#_fd_errortail aria-label="Heading self-link"></a></h4><p>The errortail extrapolated finite displacements results of
the BID finite displacements calculations.</p><ul><li><p><strong>Type</strong></p><p>array of complex</p></li></ul><h4 id=set_measurementsmeasurements>set_measurements(measurements)<a class=td-heading-self-link href=#set_measurementsmeasurements aria-label="Heading self-link"></a></h4><p>Set measurements, normalize them and compute chainrule matrices/tensor for them.</p><h4 id=set_resultsjob_handler-data_type-prefixnone-config_filefinite_displacementsyml>set_results(job_handler, data_type, prefix=None, config_file=&lsquo;finite_displacements.yml&rsquo;)<a class=td-heading-self-link href=#set_resultsjob_handler-data_type-prefixnone-config_filefinite_displacementsyml aria-label="Heading self-link"></a></h4><p>Get finite displacements results from calculations.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>job_handler</strong> (<a href=/docs/references/principia_materia.io_interface.compute_job_series.html#principia_materia.io_interface.compute_job_series.ComputeJobSeries>ComputeJobSeries</a> or <a href=/docs/references/principia_materia.io_interface.jobs_db.html#principia_materia.io_interface.jobs_db.JobsDB>JobsDB</a>) – Either a ComputeJobSeries or a JobsDB object as the interface to the jobs.</p></li><li><p><strong>data_type</strong> (str, choices of &ldquo;forces&rdquo; and &ldquo;energy&rdquo;) – Type of data to read from compute jobs.</p></li><li><p><strong>config_file</strong> (str, optional, default to &ldquo;finite_displacements.yml&rdquo;) – The name of the finite displacements configuration file.</p></li></ul></li></ul><h4 id=_fd_results>_fd_results()<a class=td-heading-self-link href=#_fd_results aria-label="Heading self-link"></a></h4><p>The result of the finite displacements calculations.</p><ul><li><p><strong>Type</strong></p><p>list of arrays of complex, length of number of measurements</p></li></ul><h3 id=_class_-principia_materiaphonon_idbiddisplacementgeneratorshape-decimals8><em>class</em> principia_materia.phonon_id.bid.DisplacementGenerator(shape, decimals=8)<a class=td-heading-self-link href=#_class_-principia_materiaphonon_idbiddisplacementgeneratorshape-decimals8 aria-label="Heading self-link"></a></h3><p>Bases: <code>object</code></p><p>Displacement vector generator.</p><p>The algorithm of this displacement generator is described in the <a href=https://doi.org/10.1103/PhysRevB.100.014303>paper</a>.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>shape</strong> (tuple of integers) – Shape of the displacement.</p></li><li><p><strong>decimals</strong> (interger) – The decimal points to round up the displacement vector.</p></li></ul></li></ul><h4 id=astep>astep()<a class=td-heading-self-link href=#astep aria-label="Heading self-link"></a></h4><h4 id=astep_one>astep_one()<a class=td-heading-self-link href=#astep_one aria-label="Heading self-link"></a></h4><h4 id=_property_-n><em>property</em> n()<a class=td-heading-self-link href=#_property_-n aria-label="Heading self-link"></a></h4><h4 id=next>next()<a class=td-heading-self-link href=#next aria-label="Heading self-link"></a></h4><h4 id=reset>reset()<a class=td-heading-self-link href=#reset aria-label="Heading self-link"></a></h4><h3 id=_class_-principia_materiaphonon_idbidrandomdisplacementgeneratorshape-decimals8><em>class</em> principia_materia.phonon_id.bid.RandomDisplacementGenerator(shape, decimals=8)<a class=td-heading-self-link href=#_class_-principia_materiaphonon_idbidrandomdisplacementgeneratorshape-decimals8 aria-label="Heading self-link"></a></h3><p>Bases: <code>object</code></p><p>Random number displacement vector generator.</p><p>Generate displacement vectors with purely random numbers.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>shape</strong> (tuple of integers) – Shape of the displacement.</p></li><li><p><strong>decimals</strong> (interger) – The decimal points to round up the displacement vector.</p></li></ul></li></ul><h4 id=next-1>next()<a class=td-heading-self-link href=#next-1 aria-label="Heading self-link"></a></h4><h4 id=reset-1>reset()<a class=td-heading-self-link href=#reset-1 aria-label="Heading self-link"></a></h4><h3 id=principia_materiaphonon_idbidformat_measurement_labelmeasurement_index-zero_padding0>principia_materia.phonon_id.bid.format_measurement_label(measurement_index, zero_padding=0)<a class=td-heading-self-link href=#principia_materiaphonon_idbidformat_measurement_labelmeasurement_index-zero_padding0 aria-label="Heading self-link"></a></h3><p>Format measurement indices into str labels.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>measurement_index</strong> (int) – The index of the measurement.</p></li><li><p><strong>zero_padding</strong> (int, optional, default to 0) – The amount of zero padding on the left of the measurement indices.</p></li></ul></li><li><p><strong>Returns</strong></p><p><strong>label</strong> – The label for the measurement.</p></li><li><p><strong>Return type</strong></p><p>str</p></li></ul><h3 id=principia_materiaphonon_idbidget_bid_from_hdf5h5file-tol1e-06>principia_materia.phonon_id.bid.get_BID_from_hdf5(h5file, tol=1e-06)<a class=td-heading-self-link href=#principia_materiaphonon_idbidget_bid_from_hdf5h5file-tol1e-06 aria-label="Heading self-link"></a></h3><p>Read data from HDF5 file and construct a BID object.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>h5file</strong> (str or h5py.File/h5py.Group obejct) – Path to a HDF5 file or a h5py.File/h5py.Group object.</p></li><li><p><strong>tol</strong> (float, optional, default to 1.0E-6) – Error tolerance.</p></li></ul></li></ul><h3 id=principia_materiaphonon_idbidget_bid_hdf5_wrapper>principia_materia.phonon_id.bid.get_BID_hdf5_wrapper()<a class=td-heading-self-link href=#principia_materiaphonon_idbidget_bid_hdf5_wrapper aria-label="Heading self-link"></a></h3><p>HDF5 data wrapper for BID class.</p><h3 id=principia_materiaphonon_idbidsave_bid_to_hdf5obj-h5filebidhdf5-overwritefalse>principia_materia.phonon_id.bid.save_BID_to_hdf5(obj, h5file=&lsquo;bid.hdf5&rsquo;, overwrite=False)<a class=td-heading-self-link href=#principia_materiaphonon_idbidsave_bid_to_hdf5obj-h5filebidhdf5-overwritefalse aria-label="Heading self-link"></a></h3><p>Save data of a BID object into a HDF5 file.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>obj</strong> (BID) – A BID object.</p></li><li><p><strong>h5file</strong> (str or h5py.File/h5py.Group obejct, optional, default to &ldquo;bid.hdf5&rdquo;) – Path to a HDF5 file or a h5py.File/h5py.Group object.</p></li></ul></li></ul><h3 id=principia_materiaphonon_idbidsave_bid_errortailsoutput-fdtype-deltas-fd_values-result-xcoef-pick-penalty-overwritetrue>principia_materia.phonon_id.bid.save_bid_errortails(output, fdtype, deltas, fd_values, result, xcoef, pick, penalty, overwrite=True)<a class=td-heading-self-link href=#principia_materiaphonon_idbidsave_bid_errortailsoutput-fdtype-deltas-fd_values-result-xcoef-pick-penalty-overwritetrue aria-label="Heading self-link"></a></h3><p>Save errortail data of frozen phonon runs into HDF5 file.</p></div><div class=td-content style=page-break-before:always><h1 id=pg-50fc30103a944c894c9eb921845f8b2b>8.45 - Module principia_materia.phonon_id.chainrule_derivatives</h1><div class=lead>Module principia_materia.phonon_id.chainrule_derivatives</div><h1 id=principia_materiaphonon_idchainrule_derivatives-module>principia_materia.phonon_id.chainrule_derivatives module<a class=td-heading-self-link href=#principia_materiaphonon_idchainrule_derivatives-module aria-label="Heading self-link"></a></h1><h3 id=_class_-principia_materiaphonon_idchainrule_derivativeschainrulederivativesstructure-supa-order-pgc1-use_symmetric_basisfalse-tol1e-06><em>class</em> principia_materia.phonon_id.chainrule_derivatives.ChainruleDerivatives(structure, supa, order, pg=&lsquo;C1&rsquo;, use_symmetric_basis=False, tol=1e-06)<a class=td-heading-self-link href=#_class_-principia_materiaphonon_idchainrule_derivativeschainrulederivativesstructure-supa-order-pgc1-use_symmetric_basisfalse-tol1e-06 aria-label="Heading self-link"></a></h3><p>Bases: <a href=/docs/references/principia_materia.phonon_id.analytic_tensors.html#principia_materia.phonon_id.analytic_tensors.AnalyticTensors><code>AnalyticTensors</code></a></p><p>Compute chainrule derivatives of a measurement for a given crystal system at given FTG and order.</p><p>In bundled irreducible derivatives (BID) method, for a given measurement basis, at a given order,
structure and supercell, we can obtain a series of derivatives from finite displacement computations,
referred to as $\textbf{V}_{b}^{\hat{S}_{BZ}}$, where $\hat{S}_{BZ}$ is the supercell matrix.</p><p>These measurement basis derivatives are linear combinations of irreducible derivatives in this
system,</p><p>$$
\textbf{V}_{b}^{\hat{S}_{BZ}} = \hat{C}_b^{\hat{S}_{BZ}} \textbf{d}_{ir}^{\hat{S}_{BZ}}
$$
, where $\hat{C}_b^{\hat{S}_{BZ}}$ is the chainrule matrix,
and $\textbf{d}_{ir}^{\hat{S}_{BZ}}$ is the vector of irreducible derivatives.
This chainrule matrix is what we are aiming to find in this class, such linear combinations
$\hat{C}_b^{\hat{S}_{BZ}}$ can be calculated using chain rule derivatives. With the
chainrule matrix and measurement basis derivatives, we can solve for irreducible derivatives.</p><p>Additionally, in hierarchical supercell BID method, at a given supercell, the irreducible
derivatives that fit in smaller supercells are already computed. Thus we can split the
chainrule matrix into 2 parts: a known part and an unknown part, where the task at hand
is to solve the unknown part for the irreducible derivatives.</p><p>$$
\textbf{V}_{b}^{\hat{S}_{BZ}} -
\hat{C}_{b,known}^{\hat{S}_{BZ}} \textbf{d}_{ir,known}^{\hat{S}_{BZ}}
=
\hat{C}_{b,unknown}^{\hat{S}_{BZ}} \textbf{d}_{ir,unknown}^{\hat{S}_{BZ}}
$$</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>structure</strong> (CrystalFTG object or a structure file of <a href=/docs/references/principia_materia.translation_group.crystal_ftg.html#principia_materia.translation_group.crystal_ftg.CrystalFTG>CrystalFTG</a>) – The crystal structure.</p></li><li><p><strong>supa</strong> (array of int, shape(dim, dim)) – The supercell matrix.</p></li><li><p><strong>order</strong> (int) – Order of the dynamic tensor.</p></li><li><p><strong>pg</strong> (str or PointGroup object) – The point group.</p></li><li><p><strong>use_symmetric_basis</strong> (bool, optional, default to False) – Whether to use the symmetric basis or the naive basis for the
hidden orders of the chainrule matrix.</p></li><li><p><strong>tol</strong> (float, optional, default to 1.0E-6) – Error tolerence.</p></li></ul></li></ul><h4 id=add_known_idknown_id>add_known_ID(known_ID)<a class=td-heading-self-link href=#add_known_idknown_id aria-label="Heading self-link"></a></h4><p>Mark irreducible derivatives as know ID.</p><ul><li><p><strong>Parameters</strong></p><p><strong>known_ID</strong> (list of nested tuples) – Irreducible derivaties to be marked as known.</p></li></ul><h4 id=_property_-basis_names><em>property</em> basis_names()<a class=td-heading-self-link href=#_property_-basis_names aria-label="Heading self-link"></a></h4><h4 id=_property_-basis_vectors><em>property</em> basis_vectors()<a class=td-heading-self-link href=#_property_-basis_vectors aria-label="Heading self-link"></a></h4><h4 id=compute_chainruledisplacements-hidden_order1>compute_chainrule(displacements, hidden_order=1)<a class=td-heading-self-link href=#compute_chainruledisplacements-hidden_order1 aria-label="Heading self-link"></a></h4><p>Compute chainrule matrices/tensors that converts between irreducible derivatives and the measurement
basis derivatives.</p><p>For a single measurement.</p><p>$$
C_Q(u_1, \cdots, u_{O_{h}}) = \frac{1}{\left(O-O_{h}\right)!} \sum_{u_{O_{h} + 1}, \cdots, u_{O}}
D_{Q}^{O}[u_{O_{h} + 1}, \cdots, u_{O}] \prod_{i=O_{h} + 1}^{O}
\frac{\partial u_i}{\partial v_i}
$$
where $O$ is order, $O_{h}$ is the hidden order, $u$ is q-space displacement basis,
$v$ is the measurement bases at otrder $O$, $V$ is the $u_0$ line of
the chainrule matrix, and $D_Q^{O}$ is the tensor vector of $Q$.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>displacements</strong> (array of floats, shape(N, order - hidden_order, natoms, dim) or (order - hidden_order, natoms, dim)) – Measurement basis displacements, can be 1 set of measurement or multiple measurements at the same time.</p></li><li><p><strong>hidden_order</strong> (int, optional, default to 1) – The order of derivatives from first principles calculation.</p></li></ul></li><li><p><strong>Returns</strong></p><p><strong>chainrule_tensor</strong> – The chainrule matrix in a tensor form.
If the input displacements shape is (order - hidden_order, natoms, dim), return value will be in shape
(n_QpointsN, norbitals) * hidden_order + (n_irreducible_derivatives, ).</p></li><li><p><strong>Return type</strong></p><p>array of complex, shape(N, ) + (n_QpointsN, norbitals) * hidden_order + (n_irreducible_derivatives, )</p></li></ul><h4 id=decompose_displacementsdisplacements>decompose_displacements(displacements)<a class=td-heading-self-link href=#decompose_displacementsdisplacements aria-label="Heading self-link"></a></h4><p>Decompose the displacements in real space into reciprocal space.</p><ul><li><p><strong>Parameters</strong></p><p><strong>displacements</strong> (array of float, shape (n, ) + self.displacement_shape) – A measurement, which consists of several displacements.</p></li></ul><h4 id=_property_-displacement_shape><em>property</em> displacement_shape()<a class=td-heading-self-link href=#_property_-displacement_shape aria-label="Heading self-link"></a></h4><p>Shape of a single displacement.</p><p>A measurement basis usually consists of several displacements.</p><h4 id=get_chainrule_factorsmeasurement-hidden_order1>get_chainrule_factors(measurement, hidden_order=1)<a class=td-heading-self-link href=#get_chainrule_factorsmeasurement-hidden_order1 aria-label="Heading self-link"></a></h4><p>Compute chainrule factor of a measurement.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>measurement</strong> (array of float, shape(order - hidden_order, supercell.natoms, dim)) – A set of displacement to displace the system.</p></li><li><p><strong>hidden_order</strong> (int, optional, default to 1) – The order of derivatives from first principles.</p></li></ul></li><li><p><strong>Returns</strong></p><p><strong>decomp_measurement</strong> – The chainrule factors.</p></li><li><p><strong>Return type</strong></p><p>array of complex, shape(order - hidden_order, multiplicity, norbitals)</p></li></ul><h4 id=_property_-known_id><em>property</em> known_ID()<a class=td-heading-self-link href=#_property_-known_id aria-label="Heading self-link"></a></h4><p>Names of known irreducible derivatives.</p><h4 id=_property_-nonzero_id_index><em>property</em> nonzero_ID_index()<a class=td-heading-self-link href=#_property_-nonzero_id_index aria-label="Heading self-link"></a></h4><h4 id=normalize_displacementsdisplacements>normalize_displacements(displacements)<a class=td-heading-self-link href=#normalize_displacementsdisplacements aria-label="Heading self-link"></a></h4><p>Normalize a measurement in reciprocal space.</p><p>The normalization makes the reciprocal space decomposition of the displacements to 1.</p><ul><li><p><strong>Parameters</strong></p><p><strong>displacements</strong> (array of float, shape (n, ) + self.displacement_shape) – A measurement, which consists of several displacements.</p></li></ul><h4 id=set_basis>set_basis()<a class=td-heading-self-link href=#set_basis aria-label="Heading self-link"></a></h4><p>Compute all the reciprocal displacement basis that fit in the supercell.</p><h4 id=set_naive_basis>set_naive_basis()<a class=td-heading-self-link href=#set_naive_basis aria-label="Heading self-link"></a></h4><p>Compute all the naive reciprocal displacement basis that fit in the supercell.</p><h4 id=set_symmetric_basis>set_symmetric_basis()<a class=td-heading-self-link href=#set_symmetric_basis aria-label="Heading self-link"></a></h4><p>Compute all the symmetric reciprocal displacement basis that fit in the supercell.</p><h4 id=_property_-unknown_id><em>property</em> unknown_ID()<a class=td-heading-self-link href=#_property_-unknown_id aria-label="Heading self-link"></a></h4><p>Names of unknown irreducible derivatives.</p><h3 id=principia_materiaphonon_idchainrule_derivativesget_chainrulederivatives_from_hdf5h5file-tol1e-06>principia_materia.phonon_id.chainrule_derivatives.get_ChainruleDerivatives_from_hdf5(h5file, tol=1e-06)<a class=td-heading-self-link href=#principia_materiaphonon_idchainrule_derivativesget_chainrulederivatives_from_hdf5h5file-tol1e-06 aria-label="Heading self-link"></a></h3><p>Load ChainruleDerivatives from HDF5 file.</p><h3 id=principia_materiaphonon_idchainrule_derivativesget_chainrulederivatives_hdf5_wrapper>principia_materia.phonon_id.chainrule_derivatives.get_ChainruleDerivatives_hdf5_wrapper()<a class=td-heading-self-link href=#principia_materiaphonon_idchainrule_derivativesget_chainrulederivatives_hdf5_wrapper aria-label="Heading self-link"></a></h3><p>HDF5 data wrapper for ChainruleDerivatives class.</p><h3 id=principia_materiaphonon_idchainrule_derivativessave_chainrulederivatives_to_hdf5obj-h5fileanalytic_tensorshdf5-overwritefalse>principia_materia.phonon_id.chainrule_derivatives.save_ChainruleDerivatives_to_hdf5(obj, h5file=&lsquo;analytic_tensors.hdf5&rsquo;, overwrite=False)<a class=td-heading-self-link href=#principia_materiaphonon_idchainrule_derivativessave_chainrulederivatives_to_hdf5obj-h5fileanalytic_tensorshdf5-overwritefalse aria-label="Heading self-link"></a></h3><p>Save ChainruleDerivatives data into HDF5 file.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>obj</strong> (ChainruleDerivatives) – A ChainruleDerivatives object.</p></li><li><p><strong>h5file</strong> (str or h5py.File/h5py.Group obejct, optional, default to &ldquo;dynamic_tensors.hdf5&rdquo;) – Path to a HDF5 file or a h5py.File/h5py.Group object.</p></li><li><p><strong>overwrite</strong> (bool, optional, default to False) – When the file exists, whether to replace the content of the file
with the content to be saved.</p></li></ul></li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-00d736c23ea3be295cc350dd02ed9187>8.46 - Module principia_materia.phonon_id.conductivity</h1><div class=lead>Module principia_materia.phonon_id.conductivity</div><h1 id=principia_materiaphonon_idconductivity-module>principia_materia.phonon_id.conductivity module<a class=td-heading-self-link href=#principia_materiaphonon_idconductivity-module aria-label="Heading self-link"></a></h1><h3 id=_class_-principia_materiaphonon_idconductivityconductivitystructure-mesh-pg-tol1e-06><em>class</em> principia_materia.phonon_id.conductivity.Conductivity(structure, mesh, pg, tol=1e-06)<a class=td-heading-self-link href=#_class_-principia_materiaphonon_idconductivityconductivitystructure-mesh-pg-tol1e-06 aria-label="Heading self-link"></a></h3><p>Bases: <code>object</code></p><p>Calculate thermal conductivity</p><h4 id=gamma_tetraqpoint-temperature-frequencies-phonon_unitsthz-unitsthz-phonon_cutoffnone-tol1e-06-high_temp_limitfalse>gamma_tetra(qpoint, temperature, frequencies, phonon_units=&lsquo;THz&rsquo;, units=&lsquo;THz&rsquo;, phonon_cutoff=None, tol=1e-06, high_temp_limit=False)<a class=td-heading-self-link href=#gamma_tetraqpoint-temperature-frequencies-phonon_unitsthz-unitsthz-phonon_cutoffnone-tol1e-06-high_temp_limitfalse aria-label="Heading self-link"></a></h4><p>Use the tetrahedron method to calculate the imaginary self energy (ISE).</p><p>This version is mostly implemented in fortran.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>qpoint</strong> (array of float or <a href=/docs/references/principia_materia.mathematics.new_fraction.html#principia_materia.mathematics.new_fraction.Fraction>Fraction</a>, shape(3, ); or coordinate_parse compatible format) – The Q-vector to calculate ISE.</p></li><li><p><strong>temperature</strong> (float of array of float, shape(ntemp, )) – The temperature(s) to calculate ISE.</p></li><li><p><strong>frequencies</strong> (array of float, shape(nbin, )) – The frequencies to evaluate ISE at.</p></li><li><p><strong>phonon_units</strong> (str, default &ldquo;THz&rdquo;, optional) – The unit of phonon frequencies.</p></li><li><p><strong>units</strong> (str, default &ldquo;THz&rdquo;, optional) – The unit of ISE.</p></li><li><p><strong>phonon_cutoff</strong> (None or float, default None, optional) – The phonon cutoff frequencies, all frequencies below cutoff are replaced with the value of cutoff.
If omitted, the value of tol is used.</p></li><li><p><strong>tol</strong> (float, default 1.0E-6, optional) – The error tolerence.</p></li></ul></li><li><p><strong>Returns</strong></p><p><strong>gammas</strong> – The ISE of given q at all given temperatures at each frequencies.</p></li><li><p><strong>Return type</strong></p><p>array of float, shape(ntemp, nbin, self.structure.norbitals)</p></li></ul><h4 id=gamma_tetra_at_phononqpoint-temperature-phonon_unitsthz-unitsthz-tol1e-06-phonon_cutoffnone-high_temp_limitfalse>gamma_tetra_at_phonon(qpoint, temperature, phonon_units=&lsquo;THz&rsquo;, units=&lsquo;THz&rsquo;, tol=1e-06, phonon_cutoff=None, high_temp_limit=False)<a class=td-heading-self-link href=#gamma_tetra_at_phononqpoint-temperature-phonon_unitsthz-unitsthz-tol1e-06-phonon_cutoffnone-high_temp_limitfalse aria-label="Heading self-link"></a></h4><p>Calculate imaginary self energy at the phonon frequencies at the given q.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>qpoint</strong> (array of float or <a href=/docs/references/principia_materia.mathematics.new_fraction.html#principia_materia.mathematics.new_fraction.Fraction>Fraction</a>, shape(3, ); or coordinate_parse compatible format) – The Q-vector to calculate ISE.</p></li><li><p><strong>temperature</strong> (float of array of float, shape(ntemp, )) – The temperature(s) to calculate ISE.</p></li><li><p><strong>phonon_units</strong> (str, default &ldquo;THz&rdquo;, optional) – The unit of phonon frequencies.</p></li><li><p><strong>units</strong> (str, default &ldquo;THz&rdquo;, optional) – The unit of ISE.</p></li><li><p><strong>phonon_cutoff</strong> (None or float, default None, optional) – The phonon cutoff frequencies, all frequencies below cutoff are replaced with the value of cutoff.
If omitted, the value of tol is used.</p></li><li><p><strong>tol</strong> (float, default 1.0E-6, optional) – The error tolerence.</p></li></ul></li><li><p><strong>Returns</strong></p><p><strong>gammas</strong> – The ISE of given q at all given temperatures.</p></li><li><p><strong>Return type</strong></p><p>array of float, shape(ntemp, self.structure.norbitals)</p></li></ul><h4 id=gamma_tetra_gridtemperature-frequenciesnone-grid_qvecsnone-phonon_unitsthz-unitsthz-debugfalse-phonon_cutoffnone-tol1e-06-return_phononfalse-return_eigenvectorsfalse>gamma_tetra_grid(temperature, frequencies=None, grid_qvecs=None, phonon_units=&lsquo;THz&rsquo;, units=&lsquo;THz&rsquo;, debug=False, phonon_cutoff=None, tol=1e-06, return_phonon=False, return_eigenvectors=False)<a class=td-heading-self-link href=#gamma_tetra_gridtemperature-frequenciesnone-grid_qvecsnone-phonon_unitsthz-unitsthz-debugfalse-phonon_cutoffnone-tol1e-06-return_phononfalse-return_eigenvectorsfalse aria-label="Heading self-link"></a></h4><p>Use the tetrahedron method to calculate the imaginary self energy.</p><p>This version is set to take advantage of the grid and calculate ISE of the grid.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>temperature</strong> (float of array of float, shape(ntemp, )) – The temperature(s) to calculate ISE.</p></li><li><p><strong>frequencies</strong> (array of float, shape(nbin, )) – The frequencies to evaluate ISE at.</p></li><li><p><strong>grid_qves</strong> (array of float or <a href=/docs/references/principia_materia.mathematics.new_fraction.html#principia_materia.mathematics.new_fraction.Fraction>Fraction</a>, shape(3, ) or shape(N, 3); or coordinate_parse compatible format) – A subset of Q-vectors on the grid the calculate ISE at.</p></li><li><p><strong>phonon_units</strong> (str, default &ldquo;THz&rdquo;, optional) – The unit of phonon frequencies.</p></li><li><p><strong>units</strong> (str, default &ldquo;THz&rdquo;, optional) – The unit of ISE.</p></li><li><p><strong>debug</strong> (bool, default False, optional) – A debug flag.</p></li><li><p><strong>phonon_cutoff</strong> (None or float, default None, optional) – The phonon cutoff frequencies, all frequencies below cutoff are replaced with the value of cutoff.
If omitted, the value of tol is used.</p></li><li><p><strong>tol</strong> (float, default 1.0E-6, optional) – The error tolerence.</p></li><li><p><strong>return_phonon</strong> (bool, defult False, optional) – Whether to return phonon frequencies.</p></li><li><p><strong>return_eigenvectors</strong> (bool, default False, optional) – Whether to return phonon eigenvectors.</p></li></ul></li><li><p><strong>Returns</strong></p><ul><li><strong>gammas</strong> (<em>array of float</em>) – (if frequencies is None: shape(N, ntemp, self.structure.norbitals))</li></ul><p>The ISE of given q at all given temperatures.</p><p>(if frequencies is not None: shape(N, ntemp, nbin, self.structure.norbitals))</p><p>The ISE of given q at all given temperatures at each frequencies.</p><ul><li><strong>phonon_frequencies</strong> (<em>array of float, shape(N, self.structure.norbitals)</em>) – (if return_phonon == True)</li></ul><p>The phonon frequencies of Q_vectors on the grid. If grid_qvecs is not None,
the phonon frequencies of the grid_qvecs will be returned.</p><ul><li><strong>eigenvectors</strong> (<em>array of complex, shape(N, self.structure.norbitals, self.structure.norbitals)</em>) – (if return_eigenvectors == True)</li></ul><p>The phonon eigenvectors of Q_vectors on the grid. If grid_qvecs is not None,
the phonon eigenvectors of the grid_qvecs will be returned.</p></li></ul><h4 id=has_phi_orderorders>has_Phi_order(orders)<a class=td-heading-self-link href=#has_phi_orderorders aria-label="Heading self-link"></a></h4><h4 id=scattering_rate_boundarytemperature-boundary-qpointsnone-phonon_cutoffnone-tol00001>scattering_rate_boundary(temperature, boundary, qpoints=None, phonon_cutoff=None, tol=0.0001)<a class=td-heading-self-link href=#scattering_rate_boundarytemperature-boundary-qpointsnone-phonon_cutoffnone-tol00001 aria-label="Heading self-link"></a></h4><h4 id=set_phiphi-order-tol1e-05>set_Phi(Phi, order, tol=1e-05)<a class=td-heading-self-link href=#set_phiphi-order-tol1e-05 aria-label="Heading self-link"></a></h4><h4 id=set_dipoleepsilon-q_directionnone>set_dipole(epsilon, q_direction=None)<a class=td-heading-self-link href=#set_dipoleepsilon-q_directionnone aria-label="Heading self-link"></a></h4><h4 id=thermal_conductivity_lbtetemperature-phonon_cutoffnone-debugfalse-tol1e-06>thermal_conductivity_LBTE(temperature, phonon_cutoff=None, debug=False, tol=1e-06)<a class=td-heading-self-link href=#thermal_conductivity_lbtetemperature-phonon_cutoffnone-debugfalse-tol1e-06 aria-label="Heading self-link"></a></h4><p>The implementation follows paper by Chaput, Phys. Rev. Lett. 110, 265506 (2013).
It is basically identical to the paper by Fugallo, et al. Phys. Rev. B 88, 045430 (2013),
apart from the latter opting to use an iterative approach instead of solving it directly.</p><ul><li><p><strong>Returns</strong></p><p><strong>kappa</strong></p></li><li><p><strong>Return type</strong></p><p>array of float, shape(len(qpoints), ntemp, norbitals, 3, 3)</p></li></ul><h4 id=thermal_conductivity_rtatemperature-qpointsnone-phonon_cutoffnone-tol1e-06>thermal_conductivity_RTA(temperature, qpoints=None, phonon_cutoff=None, tol=1e-06)<a class=td-heading-self-link href=#thermal_conductivity_rtatemperature-qpointsnone-phonon_cutoffnone-tol1e-06 aria-label="Heading self-link"></a></h4><ul><li><p><strong>Returns</strong></p><ul><li><p><strong>mode_kappa</strong> (<em>array of float, shape(ntemp, len(qpoints), norbitals, 3, 3)</em>)</p></li><li><p><strong>kappa</strong> (<em>array of float, shape(ntemp, 3, 3)</em>)</p></li></ul></li></ul><h4 id=two_phonon_dosq-temperature-frequenciesnone-include_phononsfalse-unitsthz-phonon_cutoffnone-tol1e-06>two_phonon_dos(q, temperature, frequencies=None, include_phonons=False, units=&lsquo;THz&rsquo;, phonon_cutoff=None, tol=1e-06)<a class=td-heading-self-link href=#two_phonon_dosq-temperature-frequenciesnone-include_phononsfalse-unitsthz-phonon_cutoffnone-tol1e-06 aria-label="Heading self-link"></a></h4><p>Two-phonon density of states.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>q</strong> (array of float or <a href=/docs/references/principia_materia.mathematics.new_fraction.html#principia_materia.mathematics.new_fraction.Fraction>Fraction</a>, shape(3, ); or coordinate_parse compatible format) – The Q-vector to calculate ISE.</p></li><li><p><strong>temperature</strong> (float of array of float, shape(ntemp, )) – The temperature(s).</p></li><li><p><strong>frequencies</strong> (array of float, shape(nbin, )) – The frequencies to evaluate two-phonon DOS at.</p></li><li><p><strong>include_phonons</strong> (bool, optinoal, default to False) – Whether or not include the product of phonon frequencies in the coefficients.</p></li><li><p><strong>phonon_cutoff</strong> (None or float, default None, optional) – The phonon cutoff frequencies, all frequencies below cutoff are replaced with the value of cutoff.
If omitted, the value of tol is used.
This would also cutoff all imaginary phonons.</p></li><li><p><strong>tol</strong> (float, default 1.0E-6, optional) – The error tolerence.</p></li></ul></li><li><p><strong>Returns</strong></p><p><strong>two_phonon_dos</strong> – Two-phonon density of states of the phonon q, in 2 parts.</p></li><li><p><strong>Return type</strong></p><p>array of float, shape(2, ntemp, len(frequencies))</p></li></ul><h3 id=principia_materiaphonon_idconductivitybedistfreq-temperature-freq_unitsthz-tol00001>principia_materia.phonon_id.conductivity.bedist(freq, temperature, freq_units=&lsquo;THz&rsquo;, tol=0.0001)<a class=td-heading-self-link href=#principia_materiaphonon_idconductivitybedistfreq-temperature-freq_unitsthz-tol00001 aria-label="Heading self-link"></a></h3><p>Bose-Einstein distribution</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>freq</strong> (float of array of float, shape(N, )) – The frequencies to evaluate Bose-Einstein distribution.</p></li><li><p><strong>freq_units</strong> (str, default &ldquo;THz&rdquo;) – The unit of frequencies.</p></li><li><p><strong>temperature</strong> (float or array of float, shape(ntemp, )) – Temperature(s) in unit of K.</p></li><li><p><strong>tol</strong> (float) – The tolerence for low temperature limit.</p></li></ul></li><li><p><strong>Returns</strong></p><p><strong>bedist</strong> – The Bose-Einstein distribution</p></li><li><p><strong>Return type</strong></p><p>float or array of float, shape(ntemp, N)</p></li></ul><h3 id=principia_materiaphonon_idconductivityreciprocalarr-tol1e-06-fill_zero00>principia_materia.phonon_id.conductivity.reciprocal(arr, tol=1e-06, fill_zero=0.0)<a class=td-heading-self-link href=#principia_materiaphonon_idconductivityreciprocalarr-tol1e-06-fill_zero00 aria-label="Heading self-link"></a></h3></div><div class=td-content style=page-break-before:always><h1 id=pg-a9627a736c6f7f0f2e272adf47720e60>8.47 - Module principia_materia.phonon_id.dipole_dipole</h1><div class=lead>Module principia_materia.phonon_id.dipole_dipole</div><h1 id=principia_materiaphonon_iddipole_dipole-module>principia_materia.phonon_id.dipole_dipole module<a class=td-heading-self-link href=#principia_materiaphonon_iddipole_dipole-module aria-label="Heading self-link"></a></h1><h3 id=_class_-principia_materiaphonon_iddipole_dipoledipoledipolestructure-zeunone-epsilonnone-datasetnone-g_ran5-lambda02-factor10-tol1e-06><em>class</em> principia_materia.phonon_id.dipole_dipole.DipoleDipole(structure, zeu=None, epsilon=None, dataset=None, G_ran=5, Lambda=0.2, factor=1.0, tol=1e-06)<a class=td-heading-self-link href=#_class_-principia_materiaphonon_iddipole_dipoledipoledipolestructure-zeunone-epsilonnone-datasetnone-g_ran5-lambda02-factor10-tol1e-06 aria-label="Heading self-link"></a></h3><p>Bases: <code>object</code></p><p>Method implemented is descrived in papers Phys. Rev. B 50, 13035(R) (1994) and Phys. Rev. B 55, 10355 (1997).</p><p>$$
\tilde{C}^{DD}_{\kappa \alpha \kappa^{\prime} \beta} (\textbf{q})
=
\hat{C}^{DD}_{\kappa \alpha \kappa^{\prime} \beta} (\textbf{q})
-\delta_{\kappa \kappa^{\prime}}
\sum_{\kappa^{\prime\prime}}
\hat{C}^{DD}_{\kappa \alpha \kappa^{\prime\prime} \beta} (\textbf{q}=\bf{\Gamma})
$$</p><p>$$
\hat{C}^{DD}_{\kappa \alpha \kappa^{\prime} \beta} (\textbf{q})
=
\sum_{\alpha^{\prime} \beta^{\prime}}
Z^{\ast}_{\kappa, \alpha\alpha^{\prime}}
Z^{\ast}_{\kappa^{\prime}, \beta\beta^{\prime}}
\overline{C}^{DD}_{\kappa \alpha^{\prime} \kappa^{\prime} \beta^{\prime}} (\textbf{q})
$$</p><p>$$
\overline{C}^{DD}_{\kappa \alpha \kappa^{\prime} \beta} (\textbf{q})
=
\sum_{\textbf{G} \textrm{ with } \textbf{K} = \textbf{q} + \textbf{G}}
\frac{4\pi}{\Omega}
\frac{K_{\alpha}K_{\beta}}{
\sum_{\gamma\gamma^{\prime}} K_{\gamma}\epsilon_{\gamma\gamma^{\prime}}K_{\gamma^{\prime}}
}
e^{i \textbf{K} \cdot (\tau_{\kappa} - \tau_{\kappa^{\prime}})}
\exp{\left(-\frac{
\sum_{\gamma\gamma^{\prime}} K_{\gamma}\epsilon_{\gamma\gamma^{\prime}}K_{\gamma^{\prime}}
}{4\Lambda^2}
\right)
}
$$
Units:</p><pre><code>Since the dielectric tensor is unitless, the Born effective charges are in units of e (a.u.) and the unit
of distances is in Angstroms in our convention, the unit of our dipole-dipole corrections is $\frac{e}/{\AA^3}$, to
convert it to the unit of the force constants, we take note that $\frac{e}{a\_0^2}=\frac{E\_{hartree}}{a\_0}$,
which means $\frac{e}{a\_0^3}=\frac{E\_{hartree}}{a\_0^2}$. Then we can convert from $\frac{e}/{\AA^3}$
to $\frac{eV}{\AA^2}$ with the factor of ~14.40.
</code></pre><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>structure</strong> (str or CrystalFTG instance) – Path to the CrystalFTG structure file or a CrystalFTG instance.</p></li><li><p><strong>dataset</strong> (str) – Path to a file that contains all the necessary data.
(In the case when zeu and epsilon are absent, this dataset file is
required, otherwise it is ignored. If any of optional parameters
(i.e. G_ran, Lamda, factor and tol) is missing, the default value
will be used.)</p></li><li><p><strong>zeu</strong> (array of float, shape(natoms, dim, dim)) – Born effective charge tensor.</p></li><li><p><strong>epsilon</strong> (array of float, shape(dim, dim)) – Dielectric constant tensor.</p></li><li><p><strong>G_ran</strong> (int, optional, default to 5) – Range of G vectors.</p></li><li><p><strong>Lambda</strong> (float, optional, default to 0.20) – Lamda value in the equation.</p></li><li><p><strong>factor</strong> (float, optional, default to 1.0) – Overall unit conversion factor for the output matrix.</p></li><li><p><strong>tol</strong> (float, optional, default to 1.0E-6) – Tolerence.</p></li></ul></li></ul><h4 id=_property_-gvecs><em>property</em> Gvecs()<a class=td-heading-self-link href=#_property_-gvecs aria-label="Heading self-link"></a></h4><p>The reciprocal space vectors to sum over.</p><h4 id=c_ddq-q_directionnone>c_dd(q, q_direction=None)<a class=td-heading-self-link href=#c_ddq-q_directionnone aria-label="Heading self-link"></a></h4><p>The dipole dipole contribution term.</p><p>$$
\tilde{C}^{DD}_{\kappa \alpha \kappa^{\prime} \beta} (\textbf{q})
=
\hat{C}^{DD}_{\kappa \alpha \kappa^{\prime} \beta} (\textbf{q})
-\delta_{\kappa \kappa^{\prime}}
\sum_{\kappa^{\prime\prime}}
\hat{C}^{DD}_{\kappa \alpha \kappa^{\prime\prime} \beta} (\textbf{q}=\bf{\Gamma})
$$</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>q</strong> (array of <a href=/docs/references/principia_materia.mathematics.new_fraction.html#principia_materia.mathematics.new_fraction.Fraction>Fraction</a> or float) – The q-point.</p></li><li><p><strong>q_direction</strong> (array of <a href=/docs/references/principia_materia.mathematics.new_fraction.html#principia_materia.mathematics.new_fraction.Fraction>Fraction</a> or float, optional, default to None) – The direction of q->0 when q is the Gamma point.</p></li></ul></li></ul><h4 id=c_dd_batchqs-q_directionnone>c_dd_batch(qs, q_direction=None)<a class=td-heading-self-link href=#c_dd_batchqs-q_directionnone aria-label="Heading self-link"></a></h4><p>Compute the dipole dipole contribution term for multiple q-points at the same time in parallel.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>qs</strong> (array of <a href=/docs/references/principia_materia.mathematics.new_fraction.html#principia_materia.mathematics.new_fraction.Fraction>Fraction</a> or float) – An array of q-points.</p></li><li><p><strong>q_direction</strong> (array of <a href=/docs/references/principia_materia.mathematics.new_fraction.html#principia_materia.mathematics.new_fraction.Fraction>Fraction</a> or float, optional, default to None) – The direction of q->0 when q is the Gamma point.</p></li></ul></li></ul><h4 id=_property_-c_dd_q0><em>property</em> c_dd_q0()<a class=td-heading-self-link href=#_property_-c_dd_q0 aria-label="Heading self-link"></a></h4><p>Compute the $C^DD(\textbf{t}=0)$ term.</p><h4 id=dc_dd_g_dkq-ideriv-use_q_directiontrue>dc_dd_G_dK(q, ideriv, use_q_direction=True)<a class=td-heading-self-link href=#dc_dd_g_dkq-ideriv-use_q_directiontrue aria-label="Heading self-link"></a></h4><p>The core term of the derivative of dipole-dipole contribution with respect to
the q-points in Cartesian coordinates.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>q</strong> (array of <a href=/docs/references/principia_materia.mathematics.new_fraction.html#principia_materia.mathematics.new_fraction.Fraction>Fraction</a> or float) – The q-point.</p></li><li><p><strong>ideriv</strong> (int, range(i, dim)) – The axis of the derivative.</p></li><li><p><strong>q_direction</strong> (array of <a href=/docs/references/principia_materia.mathematics.new_fraction.html#principia_materia.mathematics.new_fraction.Fraction>Fraction</a> or float, optional, default to None) – The direction of q->0 when q is the Gamma point.</p></li></ul></li></ul><h4 id=dc_dd_dkq-ideriv-use_q_directionnone>dc_dd_dK(q, ideriv, use_q_direction=None)<a class=td-heading-self-link href=#dc_dd_dkq-ideriv-use_q_directionnone aria-label="Heading self-link"></a></h4><p>The derivative of dipole-dipole contribution with respect to the q-points in Cartesian coordinates.</p><p>$$
\frac{\partial \tilde{C}^{DD}_{\kappa \alpha \kappa^{\prime} \beta} (\textbf{q})}{\partial \textbf{K}}
$$
where $\textbf{K}$ is the q-point $\textbf{q}$ in Cartesian coordinates.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>q</strong> (array of <a href=/docs/references/principia_materia.mathematics.new_fraction.html#principia_materia.mathematics.new_fraction.Fraction>Fraction</a> or float) – The q-point.</p></li><li><p><strong>ideriv</strong> (int, range(i, dim)) – The axis of the derivative.</p></li><li><p><strong>use_q_direction</strong> (bool, optional, default to True) – Whether to use q-direction the for derivative.</p></li></ul></li></ul><h4 id=dc_dd_dk_batchqs-use_q_directiontrue>dc_dd_dK_batch(qs, use_q_direction=True)<a class=td-heading-self-link href=#dc_dd_dk_batchqs-use_q_directiontrue aria-label="Heading self-link"></a></h4><p>Compute the derivative of dipole-dipole contribution with respect to the q-points in Cartesian
coordinates for multiple q-points in parallel.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>qs</strong> (array of <a href=/docs/references/principia_materia.mathematics.new_fraction.html#principia_materia.mathematics.new_fraction.Fraction>Fraction</a> or float) – An array of q-points.</p></li><li><p><strong>use_q_direction</strong> (bool, optional, default to True) – Whether to use q-direction the for derivative.</p></li></ul></li></ul><h4 id=get_c_dd_q0>get_c_dd_q0()<a class=td-heading-self-link href=#get_c_dd_q0 aria-label="Heading self-link"></a></h4><p>Compute the $C^DD(\textbf{t}=0)$ term.</p><p>$$
\delta_{\kappa \kappa^{\prime}}
\sum_{\kappa^{\prime\prime}}
\hat{C}^{DD}_{\kappa \alpha \kappa^{\prime\prime} \beta} (\textbf{q}=\bf{\Gamma})
$$</p><h4 id=get_valid_slice>get_valid_slice()<a class=td-heading-self-link href=#get_valid_slice aria-label="Heading self-link"></a></h4><p>Determined the indices to slice out base on the orbitals of the structure.</p><h3 id=principia_materiaphonon_iddipole_dipoleget_dipoledipole_from_yamlinp-structurenone-tol1e-06>principia_materia.phonon_id.dipole_dipole.get_DipoleDipole_from_yaml(inp, structure=None, tol=1e-06)<a class=td-heading-self-link href=#principia_materiaphonon_iddipole_dipoleget_dipoledipole_from_yamlinp-structurenone-tol1e-06 aria-label="Heading self-link"></a></h3><h3 id=principia_materiaphonon_iddipole_dipoleget_dipole_dataset_yaml_wrappertitledipole-dipole-dataset>principia_materia.phonon_id.dipole_dipole.get_dipole_dataset_yaml_wrapper(title=&lsquo;Dipole-dipole dataset&rsquo;)<a class=td-heading-self-link href=#principia_materiaphonon_iddipole_dipoleget_dipole_dataset_yaml_wrappertitledipole-dipole-dataset aria-label="Heading self-link"></a></h3><h3 id=principia_materiaphonon_iddipole_dipolesave_dipoledipole_to_yamlobj-filenameepsilonyml-systemnone-include_structurefalse-overwritefalse>principia_materia.phonon_id.dipole_dipole.save_DipoleDipole_to_yaml(obj, filename=&lsquo;epsilon.yml&rsquo;, system=None, include_structure=False, overwrite=False)<a class=td-heading-self-link href=#principia_materiaphonon_iddipole_dipolesave_dipoledipole_to_yamlobj-filenameepsilonyml-systemnone-include_structurefalse-overwritefalse aria-label="Heading self-link"></a></h3></div><div class=td-content style=page-break-before:always><h1 id=pg-a0ab690085835abbecb20d1262fef8e6>8.48 - Module principia_materia.phonon_id.dynamic_tensors</h1><div class=lead>Module principia_materia.phonon_id.dynamic_tensors</div><h1 id=principia_materiaphonon_iddynamic_tensors-module>principia_materia.phonon_id.dynamic_tensors module<a class=td-heading-self-link href=#principia_materiaphonon_iddynamic_tensors-module aria-label="Heading self-link"></a></h1><h3 id=_class_-principia_materiaphonon_iddynamic_tensorsdynamictensorsstructure-supa-order-pgc1-tol1e-06><em>class</em> principia_materia.phonon_id.dynamic_tensors.DynamicTensors(structure, supa, order, pg=&lsquo;C1&rsquo;, tol=1e-06)<a class=td-heading-self-link href=#_class_-principia_materiaphonon_iddynamic_tensorsdynamictensorsstructure-supa-order-pgc1-tol1e-06 aria-label="Heading self-link"></a></h3><p>Bases: <code>object</code></p><p>Dynamic tensors of a reciprocal mesh at arbitrary order.</p><p>As a fundation to many other tools, this class accommodatas dynamic tensors,
can rotate them from irreducible Q-points to full BZ. For second order, it
can also accounts for dipole-dipole interaction.</p><p>Instead of a dictionary, the dynamic tensors of different Q-points are stored
as an array of tensors in the same order of the Q-points designated by
principia_materia.translation_group.QpointsN class. In a sense, we created
a custom hash table.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>structure</strong> (CrystalFTG object or a structure file of <a href=/docs/references/principia_materia.translation_group.crystal_ftg.html#principia_materia.translation_group.crystal_ftg.CrystalFTG>CrystalFTG</a>) – The crystal structure.</p></li><li><p><strong>supa</strong> (array of int, shape(dim, dim)) – The supercell matrix.</p></li><li><p><strong>order</strong> (int) – Order of the dynamic tensor.</p></li><li><p><strong>pg</strong> (str or PointGroup object) – The point group.</p></li><li><p><strong>tol</strong> (float, optional, default to 1.0E-6) – Error tolerence.</p></li></ul></li></ul><h4 id=copy>copy()<a class=td-heading-self-link href=#copy aria-label="Heading self-link"></a></h4><p>Make a copy</p><ul><li><p><strong>Returns</strong></p><p><strong>new</strong> – A copy of the object.</p></li><li><p><strong>Return type</strong></p><p>DynamicTensors</p></li></ul><h4 id=get_d_at_qq>get_D_at_Q(Q)<a class=td-heading-self-link href=#get_d_at_qq aria-label="Heading self-link"></a></h4><p>Get dynamic tensor at a given Q-point</p><p>If the stored dynamic tensors are from irreducible Q-points and Q is not in the
irreducible Q-points, rotate the dynamic tensor from the corresponding irreducible
Q-point to Q.</p><ul><li><p><strong>Parameters</strong></p><p><strong>Q</strong> (array of <a href=/docs/references/principia_materia.mathematics.new_fraction.html#principia_materia.mathematics.new_fraction.Fraction>Fraction</a>, shape(order, dim)) – A Q-point.</p></li><li><p><strong>Returns</strong></p><p><strong>dynamic_tensor</strong> – Dynamic tensor at Q-point.</p></li><li><p><strong>Return type</strong></p><p>array of complex, shape(ndof, …, ndof) or shape(ndof, …, ndof, m)</p></li></ul><h4 id=get_full_d>get_full_D()<a class=td-heading-self-link href=#get_full_d aria-label="Heading self-link"></a></h4><p>Get dynamic tensors of full BZ.</p><ul><li><p><strong>Returns</strong></p><p><strong>dynamic_tensors</strong> – Dynamic tensors of full BZ.</p></li><li><p><strong>Return type</strong></p><p>array of complex, shape(N, ndof, …, ndof) or shape(N, ndof, …, ndof, m)</p></li></ul><h4 id=prepend_hiden_qqpoints>prepend_hiden_q(Qpoints)<a class=td-heading-self-link href=#prepend_hiden_qqpoints aria-label="Heading self-link"></a></h4><p>Prepend the hidden q-point to Q-points</p><p>For Q-points that didn’t keep the hidden q-point, this method
can prepend the q-point back.
(Due to the conservation of momentum, all q-points in a Q-point
need to add up equivalent to Gamma point, thus there are only
order-1 linearly independent q-points in a given Q-point, and
the dependent one can be omitted. The convention here is to omit
the first q-point, and referred to as the hidden q-point.)</p><ul><li><p><strong>Parameters</strong></p><p><strong>Qpoints</strong> (array of <a href=/docs/references/principia_materia.mathematics.new_fraction.html#principia_materia.mathematics.new_fraction.Fraction>Fraction</a>, shape(N, order - 1, dim)) – Q-points without the hidden q-point.</p></li></ul><h4 id=set_dqpoints-d>set_D(Qpoints, D)<a class=td-heading-self-link href=#set_dqpoints-d aria-label="Heading self-link"></a></h4><p>Set dynamic tensors.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>Qpoints</strong> (array of <a href=/docs/references/principia_materia.mathematics.new_fraction.html#principia_materia.mathematics.new_fraction.Fraction>Fraction</a>, shape(N, order - 1, dim) or shape(N, order, dim)) – Q-points either of the irreducible zone or the full BZ.
Can be the full Q-points or the Q-points without the hidden q-point.</p></li><li><p><strong>D</strong> (array of complex, shape(N, ndof, &mldr;, ndof), shape(N, ndof, &mldr;, ndof, m)) – Dynamic tensors in the same order as the Qpoints.
Can be dynamic tensors of irreducible Q-points, or of full BZ.
Can be trivial dynamic tensors or vectorized tensors with the last axis being the
vector axis.</p></li></ul></li></ul><h4 id=set_dipoledipolezeunone-epsilonnone-datasetnone-g_ran5-lambda02-factor10>set_dipoledipole(zeu=None, epsilon=None, dataset=None, G_ran=5, Lambda=0.2, factor=1.0)<a class=td-heading-self-link href=#set_dipoledipolezeunone-epsilonnone-datasetnone-g_ran5-lambda02-factor10 aria-label="Heading self-link"></a></h4><p>For the case of second order, initialize dipole dipole contribution data.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>zeu</strong> (array of float, shape(natoms, dim, dim)) – Born effective charge tensor.</p></li><li><p><strong>epsilon</strong> (array of float, shape(dim, dim)) – Dielectric constant tensor.</p></li><li><p><strong>dataset</strong> (str) – Path to a file that contains all the necessary data.
(In the case when zeu and epsilon are absent, this dataset file is
required, otherwise it is ignored. If any of optional parameters
(i.e. G_ran, Lamda, factor and tol) is missing, the default value
will be used.)</p></li><li><p><strong>G_ran</strong> (int, optional, default to 5) – Range of G vectors.</p></li><li><p><strong>Lambda</strong> (float, optional, default to 0.20) – Lamda value in the equation.</p></li><li><p><strong>factor</strong> (float, optional, default to 1.0) – Overall unit conversion factor for the output matrix.</p></li></ul></li></ul><h4 id=set_dipoledipole_contribution>set_dipoledipole_contribution()<a class=td-heading-self-link href=#set_dipoledipole_contribution aria-label="Heading self-link"></a></h4><p>For 2nd order, subtract the dipole-dipole contribution from the dynamic matrices.</p><p>This step is only supported when the stored dynamic matrices are of full BZ.</p><h4 id=set_irreducible_dd>set_irreducible_D(D)<a class=td-heading-self-link href=#set_irreducible_dd aria-label="Heading self-link"></a></h4><p>Set irreducible dynamic tensors.</p><ul><li><p><strong>Parameters</strong></p><p><strong>D</strong> (array of complex, shape(N, ndof, &mldr;, ndof), shape(N, ndof, &mldr;, ndof, m)) – Dynamic tensors of irreducible Q-points.
Can be trivial dynamic tensors or vectorized tensors with the last axis being the
vector axis.</p></li></ul><h3 id=principia_materiaphonon_iddynamic_tensorsget_dynamictensors_from_hdf5h5file-tol1e-06>principia_materia.phonon_id.dynamic_tensors.get_DynamicTensors_from_hdf5(h5file, tol=1e-06)<a class=td-heading-self-link href=#principia_materiaphonon_iddynamic_tensorsget_dynamictensors_from_hdf5h5file-tol1e-06 aria-label="Heading self-link"></a></h3><p>Load DynamicTensors from HDF5 file.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>h5file</strong> (str or h5py.File/h5py.Group obejct) – Path to a HDF5 file or a h5py.File/h5py.Group object.</p></li><li><p><strong>tol</strong> (float, optional, default to 1.0E-6) – Error tolerance to use when constructing the LittleGroupADT object.</p></li></ul></li></ul><h3 id=principia_materiaphonon_iddynamic_tensorsget_dynamictensors_hdf5_wrapper>principia_materia.phonon_id.dynamic_tensors.get_DynamicTensors_hdf5_wrapper()<a class=td-heading-self-link href=#principia_materiaphonon_iddynamic_tensorsget_dynamictensors_hdf5_wrapper aria-label="Heading self-link"></a></h3><p>HDF5 data wrapper for DynamicTensors class.</p><h3 id=principia_materiaphonon_iddynamic_tensorssave_dynamictensors_to_hdf5obj-h5filedynamic_tensorshdf5-overwritefalse>principia_materia.phonon_id.dynamic_tensors.save_DynamicTensors_to_hdf5(obj, h5file=&lsquo;dynamic_tensors.hdf5&rsquo;, overwrite=False)<a class=td-heading-self-link href=#principia_materiaphonon_iddynamic_tensorssave_dynamictensors_to_hdf5obj-h5filedynamic_tensorshdf5-overwritefalse aria-label="Heading self-link"></a></h3><p>Save DynamicTensors data into HDF5 file.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>obj</strong> (DynamicTensors) – A DynamicTensors object.</p></li><li><p><strong>h5file</strong> (str or h5py.File/h5py.Group obejct, optional, default to &ldquo;dynamic_tensors.hdf5&rdquo;) – Path to a HDF5 file or a h5py.File/h5py.Group object.</p></li><li><p><strong>overwrite</strong> (bool, optional, default to False) – When the file exists, whether to replace the content of the file
with the content to be saved.</p></li></ul></li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-b0f0d1237065bafb9acca56b78d5856a>8.49 - Module principia_materia.phonon_id.fd_series</h1><div class=lead>Module principia_materia.phonon_id.fd_series</div><h1 id=principia_materiaphonon_idfd_series-module>principia_materia.phonon_id.fd_series module<a class=td-heading-self-link href=#principia_materiaphonon_idfd_series-module aria-label="Heading self-link"></a></h1><h3 id=_class_-principia_materiaphonon_idfd_seriesfdseriesstructure-supa-order-fdtypec-tol1e-06><em>class</em> principia_materia.phonon_id.fd_series.FDSeries(structure, supa, order, fdtype=&lsquo;c&rsquo;, tol=1e-06)<a class=td-heading-self-link href=#_class_-principia_materiaphonon_idfd_seriesfdseriesstructure-supa-order-fdtypec-tol1e-06 aria-label="Heading self-link"></a></h3><p>Bases: <code>object</code></p><p>Execute a series of finite displacements calculations.</p><p>In calculations of phonons and their interactions, a seiries of finite displacements calculations
from the same structure are usually needed for both BID and LID methods.
This class manages a series of finite displacement calculations, and serves as a simple interface
between our finite displacement engine and the phonon interaction analysis tools.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>structure</strong> (CrystalFTG object or a structure file of <a href=/docs/references/principia_materia.translation_group.crystal_ftg.html#principia_materia.translation_group.crystal_ftg.CrystalFTG>CrystalFTG</a>) – The crystal structure.</p></li><li><p><strong>supa</strong> (array of int, shape(dim, dim)) – Supercell matrix.</p></li><li><p><strong>order</strong> (int) – Order of the derivative.</p></li><li><p><strong>fdtype</strong> (str, choice of [&ldquo;c&rdquo;, &ldquo;f&rdquo;, &ldquo;b&rdquo;]) – Type of finite displacement.</p></li><li><p><strong>tol</strong> (float, optional, default to 1.0E-6) – Error tolerence.</p></li></ul></li></ul><h4 id=create_jobsjob_handler-prefixnone-delta_formatfunction-format_delta_dirname-jobname_prefix-config_filefinite_displacementsyml-appendfalse-skip_zerofalse-dry_runfalse>create_jobs(job_handler, prefix=None, delta_format=<function format_delta_dirname>, jobname_prefix=&rsquo;&rsquo;, config_file=&lsquo;finite_displacements.yml&rsquo;, append=False, skip_zero=False, dry_run=False)<a class=td-heading-self-link href=#create_jobsjob_handler-prefixnone-delta_formatfunction-format_delta_dirname-jobname_prefix-config_filefinite_displacementsyml-appendfalse-skip_zerofalse-dry_runfalse aria-label="Heading self-link"></a></h4><p>Create compute jobs for the finite displacements calculations.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>job_handler</strong> (<a href=/docs/references/principia_materia.io_interface.compute_job_series.html#principia_materia.io_interface.compute_job_series.ComputeJobSeries>ComputeJobSeries</a> or <a href=/docs/references/principia_materia.io_interface.jobs_db.html#principia_materia.io_interface.jobs_db.JobsDB>JobsDB</a>) – Either a ComputeJobSeries or a JobsDB object as the interface to the jobs.</p></li><li><p><strong>prefix</strong> (str, optional, default to None) – Prefix to the jobnames.</p></li><li><p><strong>delta_format</strong> (callable, optional, default to function: format_delta_dirname.) – A function that format a delta into a string for directory name.
Must be in form of <code>def function(delta, ...): ...</code>.</p></li><li><p><strong>jobname_prefix</strong> (str) – Prefix for jobnames.</p></li><li><p><strong>config_file</strong> (str, optional, default to &ldquo;finite_displacements.yml&rdquo;) – The name of the finite displacements configuration file.</p></li><li><p><strong>dry_run</strong> (bool, optional, default to False) – If True, don’t actually create the job.</p></li></ul></li></ul><h4 id=project_fd_resultsbasis>project_fd_results(basis)<a class=td-heading-self-link href=#project_fd_resultsbasis aria-label="Heading self-link"></a></h4><p>Project the finite displacement result onto a given bases.</p><ul><li><p><strong>Parameters</strong></p><p><strong>basis</strong> (array of float or complex, shape(N, supercell.natoms, ndim)) – An array of basis to project upon.</p></li><li><p><strong>Returns</strong></p><p><strong>projection</strong> – The result of finite displacements projected onto the input basis.</p></li><li><p><strong>Return type</strong></p><p>array of float or complex, shape(n_delta, n_meas, N)</p></li></ul><h4 id=set_deltasdeltas-appendfalse>set_deltas(deltas, append=False)<a class=td-heading-self-link href=#set_deltasdeltas-appendfalse aria-label="Heading self-link"></a></h4><p>Set displacement amplitudes.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>deltas</strong> (float or array of float) – The displacement amplitude.</p></li><li><p><strong>append</strong> (bool, optional, default to False) – If True, add the input deltas to existing deltas.</p></li></ul></li></ul><h4 id=set_errortail_resultspick_min3-pick_maxnone-consecutivefalse-penaltyfunction-penalty_linear_mse-separate_complextrue-return_pickfalse-return_penaltyfalse>set_errortail_results(pick_min=3, pick_max=None, consecutive=False, penalty=<function penalty_linear_mse>, separate_complex=True, return_pick=False, return_penalty=False)<a class=td-heading-self-link href=#set_errortail_resultspick_min3-pick_maxnone-consecutivefalse-penaltyfunction-penalty_linear_mse-separate_complextrue-return_pickfalse-return_penaltyfalse aria-label="Heading self-link"></a></h4><p>Compute error tail for the finite displacements result.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>pick_min</strong> (int, optional, default to 3) – The minimum number of picks for delta selection.</p></li><li><p><strong>pick_max</strong> (int, optional, default to None) – The maximum number of picks for delta selection.
If None, the pick n scheme is used with n=pick_min.
If not None, the pick N schcme is used with N=[pick_min, pick_max].</p></li><li><p><strong>consecutive_picks</strong> (bool, optional, default to False) – Whether to pick consecutive deltas in the picking process.</p></li><li><p><strong>penalty</strong> (callable, optional, default to penalty_linear_mse) – The penalty function to determine the best fit.</p></li><li><p><strong>separate_complex</strong> (bool, optional, default to False) – Whether to fit real and imaginary part of the complex data points
separetely.</p></li><li><p><strong>return_pick</strong> (bool, optional, default to False) – Whether to return the indices of the picked points.</p></li><li><p><strong>return_penalty</strong> (bool, optional, default to False) – Whether to return the result of the penalty function.</p></li></ul></li></ul><h4 id=set_jobname_prefixjobname_prefix>set_jobname_prefix(jobname_prefix=&rsquo;&rsquo;)<a class=td-heading-self-link href=#set_jobname_prefixjobname_prefix aria-label="Heading self-link"></a></h4><h4 id=set_measurement_aliasalias-alias_name>set_measurement_alias(alias, alias_name)<a class=td-heading-self-link href=#set_measurement_aliasalias-alias_name aria-label="Heading self-link"></a></h4><h4 id=set_measurementsmeasurements-measurement_namesnone>set_measurements(measurements, measurement_names=None)<a class=td-heading-self-link href=#set_measurementsmeasurements-measurement_namesnone aria-label="Heading self-link"></a></h4><p>Set measurements vectors and their names.</p><p>The measurements vectors will be used to displace the structure and the
names will be used as directory names that accommodates the compute jobs
for the calculation.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>measurements</strong> (array of numbers) – A series of measurements, each measurement consists of self.order
number of displacement vectors.</p></li><li><p><strong>measurement_names</strong> (list of str) – Name of the measurement sets, used to naming the directories.</p></li></ul></li></ul><h4 id=set_resultsjob_handler-data_type-prefixnone-fill00-skip_zerofalse-config_filefinite_displacementsyml>set_results(job_handler, data_type, prefix=None, fill=0.0, skip_zero=False, config_file=&lsquo;finite_displacements.yml&rsquo;)<a class=td-heading-self-link href=#set_resultsjob_handler-data_type-prefixnone-fill00-skip_zerofalse-config_filefinite_displacementsyml aria-label="Heading self-link"></a></h4><p>Collect computation results and compute finite displacements.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>job_handler</strong> (<a href=/docs/references/principia_materia.io_interface.compute_job_series.html#principia_materia.io_interface.compute_job_series.ComputeJobSeries>ComputeJobSeries</a> or <a href=/docs/references/principia_materia.io_interface.jobs_db.html#principia_materia.io_interface.jobs_db.JobsDB>JobsDB</a>) – Either a ComputeJobSeries or a JobsDB object as the interface to the jobs.</p></li><li><p><strong>data_type</strong> (str, choices of &ldquo;forces&rdquo; and &ldquo;energy&rdquo;) – Type of data to read from compute jobs.</p></li><li><p><strong>prefix</strong> (str, optional, default to None) – Prefix to the jobnames.</p></li><li><p><strong>config_file</strong> (str, optional, default to &ldquo;finite_displacements.yml&rdquo;) – The name of the finite displacements configuration file.</p></li></ul></li></ul><h4 id=_fd_results>_fd_results()<a class=td-heading-self-link href=#_fd_results aria-label="Heading self-link"></a></h4><p>The result of finite displacements calculations.</p><ul><li><p><strong>Type</strong></p><p>array of float, shape(n_delta, n_meas, supercell.natoms, ndim)</p></li></ul><h3 id=principia_materiaphonon_idfd_seriesformat_delta_dirnamedelta-max_decimal8-default_padding4-prefixdelta_-suffix>principia_materia.phonon_id.fd_series.format_delta_dirname(delta, max_decimal=8, default_padding=4, prefix=&lsquo;delta_&rsquo;, suffix=&rsquo;&rsquo;)<a class=td-heading-self-link href=#principia_materiaphonon_idfd_seriesformat_delta_dirnamedelta-max_decimal8-default_padding4-prefixdelta_-suffix aria-label="Heading self-link"></a></h3><p>Format directory name with delta</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>delta</strong> (float) – Delta value</p></li><li><p><strong>max_decimal</strong> (int, optional, default to 8) – Maximum allowed digits after decimal point, any digit
after that will be rounded.</p></li><li><p><strong>default_padding</strong> (int, optional, default to 4) – Default 0 padding after the decimal point.</p></li><li><p><strong>prefix</strong> (str, optional, default to &ldquo;delta_&rdquo;) – Prefix of the name before formatted the delta value.</p></li><li><p><strong>suffix</strong> (str, optional, default to &ldquo;&rdquo;) – Suffix of the name behind formatted the delta value,</p></li></ul></li></ul><h3 id=principia_materiaphonon_idfd_seriesget_fdseries_from_hdf5h5file-tol1e-06>principia_materia.phonon_id.fd_series.get_FDSeries_from_hdf5(h5file, tol=1e-06)<a class=td-heading-self-link href=#principia_materiaphonon_idfd_seriesget_fdseries_from_hdf5h5file-tol1e-06 aria-label="Heading self-link"></a></h3><p>Read data from HDF5 file and construct a FDSeries object.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>h5file</strong> (str or h5py.File/h5py.Group obejct) – Path to a HDF5 file or a h5py.File/h5py.Group object.</p></li><li><p><strong>tol</strong> (float, optional, default to 1.0E-6) – Error tolerance.</p></li></ul></li></ul><h3 id=principia_materiaphonon_idfd_seriesget_fdseries_hdf5_wrapper>principia_materia.phonon_id.fd_series.get_FDSeries_hdf5_wrapper()<a class=td-heading-self-link href=#principia_materiaphonon_idfd_seriesget_fdseries_hdf5_wrapper aria-label="Heading self-link"></a></h3><p>HDF5 data wrapper for FDSeries class.</p><h3 id=principia_materiaphonon_idfd_seriesget_fdseries_results_hdf5_wrapper>principia_materia.phonon_id.fd_series.get_FDSeries_results_hdf5_wrapper()<a class=td-heading-self-link href=#principia_materiaphonon_idfd_seriesget_fdseries_results_hdf5_wrapper aria-label="Heading self-link"></a></h3><p>HDF5 data wrapper for FDSeries class.</p><h3 id=principia_materiaphonon_idfd_seriessave_fdseries_results_to_hdf5obj-h5filefdseries_resultshdf5-overwritefalse>principia_materia.phonon_id.fd_series.save_FDSeries_results_to_hdf5(obj, h5file=&lsquo;fdseries_results.hdf5&rsquo;, overwrite=False)<a class=td-heading-self-link href=#principia_materiaphonon_idfd_seriessave_fdseries_results_to_hdf5obj-h5filefdseries_resultshdf5-overwritefalse aria-label="Heading self-link"></a></h3><p>Save the results of a FDSeries object into a HDF5 file.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>obj</strong> (FDSeries) – A FDSeries object.</p></li><li><p><strong>h5file</strong> (str or h5py.File/h5py.Group obejct, optional, default to &ldquo;fdseries_results.hdf5&rdquo;) – Path to a HDF5 file or a h5py.File/h5py.Group object.</p></li><li><p><strong>overwrite</strong> (bool, optional, default to False) – When the file exists, whether to replace the content of the file
with the content to be saved.</p></li></ul></li></ul><h3 id=principia_materiaphonon_idfd_seriessave_fdseries_to_hdf5obj-h5filefdserieshdf5-overwritefalse>principia_materia.phonon_id.fd_series.save_FDSeries_to_hdf5(obj, h5file=&lsquo;fdseries.hdf5&rsquo;, overwrite=False)<a class=td-heading-self-link href=#principia_materiaphonon_idfd_seriessave_fdseries_to_hdf5obj-h5filefdserieshdf5-overwritefalse aria-label="Heading self-link"></a></h3><p>Save data of a FDSeries object into a HDF5 file.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>obj</strong> (FDSeries) – A FDSeries object.</p></li><li><p><strong>h5file</strong> (str or h5py.File/h5py.Group obejct, optional, default to &ldquo;fdseries.hdf5&rdquo;) – Path to a HDF5 file or a h5py.File/h5py.Group object.</p></li><li><p><strong>overwrite</strong> (bool, optional, default to False) – When the file exists, whether to replace the content of the file
with the content to be saved.</p></li></ul></li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-e232af2059d20d4d0e71bdb1bd30762f>8.50 - Module principia_materia.phonon_id.finite_displacements</h1><div class=lead>Module principia_materia.phonon_id.finite_displacements</div><h1 id=principia_materiaphonon_idfinite_displacements-module>principia_materia.phonon_id.finite_displacements module<a class=td-heading-self-link href=#principia_materiaphonon_idfinite_displacements-module aria-label="Heading self-link"></a></h1><h3 id=_class_-principia_materiaphonon_idfinite_displacementsfinitedisplacementsstructure-supa-fdtypec-tol1e-06><em>class</em> principia_materia.phonon_id.finite_displacements.FiniteDisplacements(structure, supa, fdtype=&lsquo;c&rsquo;, tol=1e-06)<a class=td-heading-self-link href=#_class_-principia_materiaphonon_idfinite_displacementsfinitedisplacementsstructure-supa-fdtypec-tol1e-06 aria-label="Heading self-link"></a></h3><p>Bases: <code>object</code></p><p>Finite difference on atomic displacements.</p><p>This class serves as core finite displacement engine for the package.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>structure</strong> (CrystalFTG object or a structure file of <a href=/docs/references/principia_materia.translation_group.crystal_ftg.html#principia_materia.translation_group.crystal_ftg.CrystalFTG>CrystalFTG</a>) – The crystal structure.</p></li><li><p><strong>supa</strong> (array of int, shape(dim, dim)) – Supercell matrix.</p></li><li><p><strong>fdtype</strong> (str, choice of [&ldquo;c&rdquo;, &ldquo;f&rdquo;, &ldquo;b&rdquo;]) – Type of finite displacement.</p></li><li><p><strong>tol</strong> (float, optional, default to 1.0E-6) – Error tolerence.</p></li></ul></li></ul><h4 id=add_deltadelta>add_delta(delta)<a class=td-heading-self-link href=#add_deltadelta aria-label="Heading self-link"></a></h4><h4 id=compute_finite_displacementsfill00>compute_finite_displacements(fill=0.0)<a class=td-heading-self-link href=#compute_finite_displacementsfill00 aria-label="Heading self-link"></a></h4><p>Compuzeroste fintie displacements derivatives.</p><ul><li><p><strong>Parameters</strong></p><p><strong>fill</strong> (float, optional, default to 0.0) – The fill value for the steps having zero displacements.</p></li></ul><h4 id=create_jobsjob_handler-prefixnone-config_filefinite_displacementsyml-appendfalse-dry_runfalse>create_jobs(job_handler, prefix=None, config_file=&lsquo;finite_displacements.yml&rsquo;, append=False, dry_run=False)<a class=td-heading-self-link href=#create_jobsjob_handler-prefixnone-config_filefinite_displacementsyml-appendfalse-dry_runfalse aria-label="Heading self-link"></a></h4><p>Create compute jobs for the finite displacements calculations.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>job_handler</strong> (<a href=/docs/references/principia_materia.io_interface.compute_job_series.html#principia_materia.io_interface.compute_job_series.ComputeJobSeries>ComputeJobSeries</a> or <a href=/docs/references/principia_materia.io_interface.jobs_db.html#principia_materia.io_interface.jobs_db.JobsDB>JobsDB</a>) – The interface to create and collect result from compute jobs or a database.</p></li><li><p><strong>prefix</strong> (str, optional, default to None) – Prefix to the jobnames.</p></li><li><p><strong>config_file</strong> (str, optional, default to &ldquo;finite_displacements.yml&rdquo;) – The name of the finite displacements configuration file.</p></li><li><p><strong>dry_run</strong> (bool, optional, default to False) – If True, don’t actually create the job.</p></li></ul></li></ul><h4 id=_property_-delta><em>property</em> delta()<a class=td-heading-self-link href=#_property_-delta aria-label="Heading self-link"></a></h4><p>The displacement amplitutes.</p><h4 id=_property_-get_jobname><em>property</em> get_jobname()<a class=td-heading-self-link href=#_property_-get_jobname aria-label="Heading self-link"></a></h4><p>Return a jobname template function.</p><p>If attribute “_jobname_template” is set, return the value in the attribute,
otherwise, return the default template.</p><h4 id=set_deltadelta-overwritefalse>set_delta(delta, overwrite=False)<a class=td-heading-self-link href=#set_deltadelta-overwritefalse aria-label="Heading self-link"></a></h4><p>Set the deltas to compute for the finite displacements calculations.</p><ul><li><p><strong>Parameters</strong></p><p><strong>delta</strong> (float or array of float) – The displacement amplitute.</p></li></ul><h4 id=set_displacement_vectorsdispvecs-displabels-ordernone>set_displacement_vectors(dispvecs, displabels, order=None)<a class=td-heading-self-link href=#set_displacement_vectorsdispvecs-displabels-ordernone aria-label="Heading self-link"></a></h4><p>Setup displacement vectors for the finite displacement calculation.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>dispvecs</strong> (array of float, shape(N, natoms, dim)) – Displacement vectors.</p></li><li><p><strong>displabels</strong> (list, lenth of N) – The name of the displacements.</p></li><li><p><strong>order</strong> (tuple of int, length of N) – The order of derivatives.</p></li></ul></li></ul><h4 id=set_jobname_templatetemplate>set_jobname_template(template)<a class=td-heading-self-link href=#set_jobname_templatetemplate aria-label="Heading self-link"></a></h4><p>Set custom jobname template</p><p>Must be def template(job_id, prefix, index_pad): …</p><ul><li><p><strong>Parameters</strong></p><p><strong>template</strong> (callable, with parameters (job_id, prefix, index_pad)) – The jobname template function.</p></li></ul><h4 id=set_jobsjobname_prefix-skip_zerofalse>set_jobs(jobname_prefix=&rsquo;&rsquo;, skip_zero=False)<a class=td-heading-self-link href=#set_jobsjobname_prefix-skip_zerofalse aria-label="Heading self-link"></a></h4><ul><li><p><strong>Parameters</strong></p><p><strong>jobname_prefix</strong> (str) – Prefix for jobnames.</p></li></ul><h4 id=set_raw_resultssource-data_typenone-prefixnone>set_raw_results(source, data_type=None, prefix=None)<a class=td-heading-self-link href=#set_raw_resultssource-data_typenone-prefixnone aria-label="Heading self-link"></a></h4><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>source</strong> (<a href=/docs/references/principia_materia.io_interface.compute_job_series.html#principia_materia.io_interface.compute_job_series.ComputeJobSeries>ComputeJobSeries</a> or <a href=/docs/references/principia_materia.io_interface.jobs_db.html#principia_materia.io_interface.jobs_db.JobsDB>JobsDB</a> or Numpy array) – Either a ComputeJobSeries or a JobsDB object as the interface to the jobs.
Or an Numpy array that is the output of the finite displacements jobs.</p></li><li><p><strong>data_type</strong> (str) – The type of data to retrieve.</p></li><li><p><strong>prefix</strong> (str, optional, default to None) – Prefix to the jobnames.</p></li></ul></li></ul><h4 id=_property_-uniq_displacements><em>property</em> uniq_displacements()<a class=td-heading-self-link href=#_property_-uniq_displacements aria-label="Heading self-link"></a></h4><p>The displacement amplitutes that are unique.</p><h3 id=principia_materiaphonon_idfinite_displacementsget_fd_from_configurationconfig_file-file_typeyaml-tol1e-06>principia_materia.phonon_id.finite_displacements.get_FD_from_configuration(config_file, file_type=&lsquo;yaml&rsquo;, tol=1e-06)<a class=td-heading-self-link href=#principia_materiaphonon_idfinite_displacementsget_fd_from_configurationconfig_file-file_typeyaml-tol1e-06 aria-label="Heading self-link"></a></h3><p>Read data from configuration file and construct a FiniteDisplacements object.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>config_file</strong> (str) – Path to configuration file.</p></li><li><p><strong>file_type</strong> (str, optional, default to &ldquo;yaml&rdquo;) – The type of the configuration file.</p></li><li><p><strong>tol</strong> (float, optional, default to 1.0E-6) – Error tolerance.</p></li></ul></li></ul><h3 id=principia_materiaphonon_idfinite_displacementsget_fd_config_hdf5_wrapper>principia_materia.phonon_id.finite_displacements.get_fd_config_hdf5_wrapper()<a class=td-heading-self-link href=#principia_materiaphonon_idfinite_displacementsget_fd_config_hdf5_wrapper aria-label="Heading self-link"></a></h3><p>HDF5 data wrapper for FiniteDifference class.</p><h3 id=principia_materiaphonon_idfinite_displacementsget_fd_config_yaml_wrappertitlefinite-displacements-configuration>principia_materia.phonon_id.finite_displacements.get_fd_config_yaml_wrapper(title=&lsquo;Finite Displacements Configuration&rsquo;)<a class=td-heading-self-link href=#principia_materiaphonon_idfinite_displacementsget_fd_config_yaml_wrappertitlefinite-displacements-configuration aria-label="Heading self-link"></a></h3><p>YAML data wrapper for FiniteDisplacements class.</p><h3 id=principia_materiaphonon_idfinite_displacementsget_fd_results_hdf5_wrapper>principia_materia.phonon_id.finite_displacements.get_fd_results_hdf5_wrapper()<a class=td-heading-self-link href=#principia_materiaphonon_idfinite_displacementsget_fd_results_hdf5_wrapper aria-label="Heading self-link"></a></h3><p>HDF5 data wrapper for FiniteDifference class.</p><h3 id=principia_materiaphonon_idfinite_displacementsget_fd_results_yaml_wrappertitlefinite-displacements-results>principia_materia.phonon_id.finite_displacements.get_fd_results_yaml_wrapper(title=&lsquo;Finite Displacements Results&rsquo;)<a class=td-heading-self-link href=#principia_materiaphonon_idfinite_displacementsget_fd_results_yaml_wrappertitlefinite-displacements-results aria-label="Heading self-link"></a></h3><h3 id=principia_materiaphonon_idfinite_displacementssave_fd_config_to_hdf5obj-directory-filenamefinite_displacementshdf5-overwritefalse>principia_materia.phonon_id.finite_displacements.save_FD_config_to_hdf5(obj, directory, filename=&lsquo;finite_displacements.hdf5&rsquo;, overwrite=False)<a class=td-heading-self-link href=#principia_materiaphonon_idfinite_displacementssave_fd_config_to_hdf5obj-directory-filenamefinite_displacementshdf5-overwritefalse aria-label="Heading self-link"></a></h3><p>Save finite displacements configuration in HDF5</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>directory</strong> (str) – The directory of the finite displacements dft jobs.</p></li><li><p><strong>filename</strong> (str, optional, default to &ldquo;finite_displacements.hdf5&rdquo;) – The name of the configuration file.</p></li><li><p><strong>overwrite</strong> (bool, optional, default to False) – When the file exists, whether to replace the content of the file
with the content to be saved.</p></li></ul></li></ul><h3 id=principia_materiaphonon_idfinite_displacementssave_fd_config_to_yamlobj-directory-filenamefinite_displacementsyml-overwritefalse>principia_materia.phonon_id.finite_displacements.save_FD_config_to_yaml(obj, directory, filename=&lsquo;finite_displacements.yml&rsquo;, overwrite=False)<a class=td-heading-self-link href=#principia_materiaphonon_idfinite_displacementssave_fd_config_to_yamlobj-directory-filenamefinite_displacementsyml-overwritefalse aria-label="Heading self-link"></a></h3><p>Save finite displacements configuration in HDF5</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>directory</strong> (str) – The directory of the finite displacements dft jobs.</p></li><li><p><strong>filename</strong> (str, optional, default to &ldquo;finite_displacements.yml&rdquo;) – The name of the configuration file.</p></li><li><p><strong>overwrite</strong> (bool, optional, default to False) – When the file exists, whether to replace the content of the file
with the content to be saved.</p></li></ul></li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-fbd2e155568645024d7b3d6653df92fc>8.51 - Module principia_materia.phonon_id.fourier_interpolation</h1><div class=lead>Module principia_materia.phonon_id.fourier_interpolation</div><h1 id=principia_materiaphonon_idfourier_interpolation-module>principia_materia.phonon_id.fourier_interpolation module<a class=td-heading-self-link href=#principia_materiaphonon_idfourier_interpolation-module aria-label="Heading self-link"></a></h1><h3 id=_class_-principia_materiaphonon_idfourier_interpolationfourierinterpolationstructure-supa-order-pgc1-tol1e-06><em>class</em> principia_materia.phonon_id.fourier_interpolation.FourierInterpolation(structure, supa, order, pg=&lsquo;C1&rsquo;, tol=1e-06)<a class=td-heading-self-link href=#_class_-principia_materiaphonon_idfourier_interpolationfourierinterpolationstructure-supa-order-pgc1-tol1e-06 aria-label="Heading self-link"></a></h3><p>Bases: <a href=/docs/references/principia_materia.phonon_id.dynamic_tensors.html#principia_materia.phonon_id.dynamic_tensors.DynamicTensors><code>DynamicTensors</code></a></p><p>Generic Fourier interpolation of phonon interactions at arbitrary order.</p><p>Supports either dynamic tensors or force constants tensors as input,
if dynamic tensors are provided, Fourier transform to force constants
tensors and then perform WS cell packing; if force constants tensors
are provided, skip the Fourier tranformation step.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>structure</strong> (CrystalFTG object or a structure file of <a href=/docs/references/principia_materia.translation_group.crystal_ftg.html#principia_materia.translation_group.crystal_ftg.CrystalFTG>CrystalFTG</a>) – The crystal structure.</p></li><li><p><strong>supa</strong> (array of int, shape(dim, dim)) – The supercell matrix.</p></li><li><p><strong>order</strong> (int) – Order of the dynamic tensor.</p></li><li><p><strong>pg</strong> (str or PointGroup object) – The point group.</p></li><li><p><strong>tol</strong> (float, optional, default to 1.0E-6) – Error tolerence.</p></li></ul></li></ul><h4 id=analytic_derivative_dynamic_tensorqpoints>analytic_derivative_dynamic_tensor(Qpoints)<a class=td-heading-self-link href=#analytic_derivative_dynamic_tensorqpoints aria-label="Heading self-link"></a></h4><p>Computes analytic derivatives of dynamic tensors with respect to Q-point.</p><p>The short range part is calculated as as following.</p><p>$$
\frac{\partial\hat D_{\mathbf{K}}}{\partial K_\alpha} =
\sum_{\mathbf{y}} \imag T_\alpha e^{\imag \mathbf{K}
\cdot \mathbf{y}\hat a} \hat \Phi_{\mathbf{y}}
$$</p><h4 id=copy>copy()<a class=td-heading-self-link href=#copy aria-label="Heading self-link"></a></h4><p>Make a copy</p><ul><li><p><strong>Returns</strong></p><p><strong>new</strong> – A copy of the object.</p></li><li><p><strong>Return type</strong></p><p>FourierInterpolation</p></li></ul><h4 id=fourier_transform>fourier_transform()<a class=td-heading-self-link href=#fourier_transform aria-label="Heading self-link"></a></h4><p>Fourier transform dynamic tensors to real space force constants tensor.</p><h4 id=_classmethod_-from_dynamic_tensorsdynamic_tensors><em>classmethod</em> from_dynamic_tensors(dynamic_tensors)<a class=td-heading-self-link href=#_classmethod_-from_dynamic_tensorsdynamic_tensors aria-label="Heading self-link"></a></h4><h4 id=get_phi>get_Phi()<a class=td-heading-self-link href=#get_phi aria-label="Heading self-link"></a></h4><p>Get force constants tensors of FTG.</p><h4 id=get_phi_ws_at_tpointtpoint>get_Phi_WS_at_Tpoint(Tpoint)<a class=td-heading-self-link href=#get_phi_ws_at_tpointtpoint aria-label="Heading self-link"></a></h4><p>Get the force constants tensor at T-point that is shifted within the WS cell.</p><h4 id=get_phi_ws_dict>get_Phi_WS_dict()<a class=td-heading-self-link href=#get_phi_ws_dict aria-label="Heading self-link"></a></h4><p>Get all the force constants tensors that are shifted within the WS cell of the FTG.</p><ul><li><p><strong>Returns</strong></p><p><strong>Phi_WS</strong> – The force constants tensors that are shifted within the WS cell of the FTG.</p></li><li><p><strong>Return type</strong></p><p>OrderedDict with nested tuples of int as keys and array of complex as values</p></li></ul><h4 id=get_tindextpoints>get_Tindex(Tpoints)<a class=td-heading-self-link href=#get_tindextpoints aria-label="Heading self-link"></a></h4><p>Similar to the indexing system of the Q-points, compute index of T-points</p><p>All T-points in a set FTG have consecutive indices from 0 to n_Tpoints - 1, thus
we can create our own hash table for Phi.</p><ul><li><p><strong>Parameters</strong></p><p><strong>Tpoints</strong> (array of int, shape(N, order, dim)) – An array of T-points to compute indices for.</p></li></ul><h4 id=get_tpoints>get_Tpoints()<a class=td-heading-self-link href=#get_tpoints aria-label="Heading self-link"></a></h4><p>Get T-points of the FTG.</p><h4 id=interpolate_qpointqpoints-q_directionnone>interpolate_Qpoint(Qpoints, q_direction=None)<a class=td-heading-self-link href=#interpolate_qpointqpoints-q_directionnone aria-label="Heading self-link"></a></h4><p>Interpolate Phi to arbitrary Q-point(s) in reciprocal space.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>Qpoints</strong> (array of float or <a href=/docs/references/principia_materia.mathematics.new_fraction.html#principia_materia.mathematics.new_fraction.Fraction>Fraction</a>, shape(dim, ) or shape(N, dim)) – The Q-point(s) to interpolate into.</p></li><li><p><strong>q_direction</strong> (array of float or <a href=/docs/references/principia_materia.mathematics.new_fraction.html#principia_materia.mathematics.new_fraction.Fraction>Fraction</a>, shape(dim, ), optional, default to None) – The q-direction that’s used for dipole-dipole contribution for second order insulators.</p></li></ul></li></ul><h4 id=prepend_hiden_ttpoints>prepend_hiden_t(Tpoints)<a class=td-heading-self-link href=#prepend_hiden_ttpoints aria-label="Heading self-link"></a></h4><p>Prepend hidden t-point to T-points.</p><p>For a T-point at given order, the first t-point is always (0, 0, 0),
this it can be omitted and referred to as the hidden t-point.
This method prepend the hidden t-point back.</p><ul><li><p><strong>Parameters</strong></p><p><strong>Tpoints</strong> (array of int, shape(N, order - 1, dim)) – T-points without the hidden t-point.</p></li></ul><h4 id=set_dqpoints-d>set_D(Qpoints, D)<a class=td-heading-self-link href=#set_dqpoints-d aria-label="Heading self-link"></a></h4><p>Set dynamic tensors.</p><p>If force constants tensors are set, dynamic tensors cannot be set.</p><h4 id=set_phitpoints-phi>set_Phi(Tpoints, Phi)<a class=td-heading-self-link href=#set_phitpoints-phi aria-label="Heading self-link"></a></h4><p>Set force constants tensor.</p><p>If dynamic tensors are set, force constants tensors can only obtained by Fourier transform.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>Tpoints</strong> (array of int, shape(N, order - 1, dim) or shape(N, order, dim)) – T-points of FTG.
Can be the full T-points or the T-points without the hidden t-point.</p></li><li><p><strong>Phi</strong> (array of real or complex, shape(N, ndof, &mldr;, ndof), shape(N, ndof, &mldr;, ndof, m)) – Force constants tensors in the same order as the Tpoints.
Can be trivial force constants tensors or vectorized tensors with the last axis being the
vector axis.</p></li></ul></li></ul><h4 id=set_wigner_seitz_map>set_Wigner_Seitz_map()<a class=td-heading-self-link href=#set_wigner_seitz_map aria-label="Heading self-link"></a></h4><p>Computes the WS map.</p><h4 id=set_dipoledipole_contribution>set_dipoledipole_contribution()<a class=td-heading-self-link href=#set_dipoledipole_contribution aria-label="Heading self-link"></a></h4><p>Set Dipole-Dipole contribution for Fourier Interpolation.</p><p>At second order, the dipole-dipole contribution for fourier interpolation
is treated separately, the code computes the dipole-dipole terms on the FTG
then transform to real space into a dummy Phi. It will be subtracted out of
the regular fource constants when constructing Phi_WS.</p><h4 id=set_irreducible_dd>set_irreducible_D(D)<a class=td-heading-self-link href=#set_irreducible_dd aria-label="Heading self-link"></a></h4><p>Set dynamic tensors of the irreducible Q-points.</p><h3 id=principia_materiaphonon_idfourier_interpolationget_fourierinterpolation_from_hdf5filename-tol1e-06>principia_materia.phonon_id.fourier_interpolation.get_FourierInterpolation_from_hdf5(filename, tol=1e-06)<a class=td-heading-self-link href=#principia_materiaphonon_idfourier_interpolationget_fourierinterpolation_from_hdf5filename-tol1e-06 aria-label="Heading self-link"></a></h3><p>Load FourierInterpolation from HDF5 file.</p><h3 id=principia_materiaphonon_idfourier_interpolationget_fourierinterpolation_hdf5_wrapper>principia_materia.phonon_id.fourier_interpolation.get_FourierInterpolation_hdf5_wrapper()<a class=td-heading-self-link href=#principia_materiaphonon_idfourier_interpolationget_fourierinterpolation_hdf5_wrapper aria-label="Heading self-link"></a></h3><p>HDF5 data wrapper for FourierInterpolation.</p><h3 id=principia_materiaphonon_idfourier_interpolationsave_fourierinterpolation_to_hdf5obj-h5filefourier_interpolationhdf5-overwritefalse>principia_materia.phonon_id.fourier_interpolation.save_FourierInterpolation_to_hdf5(obj, h5file=&lsquo;fourier_interpolation.hdf5&rsquo;, overwrite=False)<a class=td-heading-self-link href=#principia_materiaphonon_idfourier_interpolationsave_fourierinterpolation_to_hdf5obj-h5filefourier_interpolationhdf5-overwritefalse aria-label="Heading self-link"></a></h3><p>Save FourierInterpolation data into HDF5 file.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>obj</strong> (FourierInterpolation) – A FourierInterpolation object.</p></li><li><p><strong>h5file</strong> (str or h5py.File/h5py.Group obejct, optional, default to &ldquo;fourier_interpolation.hdf5&rdquo;) – Path to a HDF5 file or a h5py.File/h5py.Group object.</p></li><li><p><strong>overwrite</strong> (bool, optional, default to False) – When the file exists, whether to replace the content of the file
with the content to be saved.</p></li></ul></li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-97e9c20784ef1d6e53656239c5c432c0>8.52 - Module principia_materia.phonon_id.frozen_phonons</h1><div class=lead>Module principia_materia.phonon_id.frozen_phonons</div><h1 id=principia_materiaphonon_idfrozen_phonons-module>principia_materia.phonon_id.frozen_phonons module<a class=td-heading-self-link href=#principia_materiaphonon_idfrozen_phonons-module aria-label="Heading self-link"></a></h1><h3 id=_class_-principia_materiaphonon_idfrozen_phononsfrozenphononsstructure-qpoint-supanone-hidden_order1-fdtypec-tol1e-06><em>class</em> principia_materia.phonon_id.frozen_phonons.FrozenPhonons(structure, Qpoint, supa=None, hidden_order=1, fdtype=&lsquo;c&rsquo;, tol=1e-06)<a class=td-heading-self-link href=#_class_-principia_materiaphonon_idfrozen_phononsfrozenphononsstructure-qpoint-supanone-hidden_order1-fdtypec-tol1e-06 aria-label="Heading self-link"></a></h3><p>Bases: <code>object</code></p><p>Compute coefficients of phonons and their interactions.</p><p>The abstract class with the core functionalities to compute phonons and their interactions.
For now the symmetry is not considered, it will be in the LID variation, since lone-Q approach
can be used to compute the interaction coefficients without symmetry.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>structure</strong> (CrystalFTG object or a structure file of <a href=/docs/references/principia_materia.translation_group.crystal_ftg.html#principia_materia.translation_group.crystal_ftg.CrystalFTG>CrystalFTG</a>) – The crystal structure.</p></li><li><p><strong>Qpoint</strong> (array of Fraction or a <code>parse_array</code> supported Fraction array.) – The Q-point</p></li><li><p><strong>supa</strong> (array of int, shape(dim, dim)) – The supercell matrix.</p></li><li><p><strong>hidden_order</strong> (int, optional, default to 1) – The order of derivatives from first principles.</p></li><li><p><strong>fdtype</strong> (str, choice of [&ldquo;c&rdquo;, &ldquo;f&rdquo;, &ldquo;b&rdquo;]) – Type of finite displacement.</p></li><li><p><strong>tol</strong> (float, optional, default to 1.0E-6) – Error tolerence.</p></li></ul></li></ul><h4 id=check_supercell>check_supercell()<a class=td-heading-self-link href=#check_supercell aria-label="Heading self-link"></a></h4><p>Check if supercell can accommodates the Q-point.</p><h4 id=create_jobsjob_handler-deltas-prefixnone-delta_formatfunction-format_delta_dirname-measurement_labelfunction-format_measurement_label-jobname_prefix-config_filefinite_displacementsyml-fdseries_filenamefdserieshdf5-appendfalse-dry_runfalse>create_jobs(job_handler, deltas, prefix=None, delta_format=<function format_delta_dirname>, measurement_label=<function format_measurement_label>, jobname_prefix=&rsquo;&rsquo;, config_file=&lsquo;finite_displacements.yml&rsquo;, fdseries_filename=&lsquo;fdseries.hdf5&rsquo;, append=False, dry_run=False)<a class=td-heading-self-link href=#create_jobsjob_handler-deltas-prefixnone-delta_formatfunction-format_delta_dirname-measurement_labelfunction-format_measurement_label-jobname_prefix-config_filefinite_displacementsyml-fdseries_filenamefdserieshdf5-appendfalse-dry_runfalse aria-label="Heading self-link"></a></h4><p>Create compute jobs for the frozen phonon calculations.</p><p>Each measurement has its own FDSeries class to allow flexibility for different measurements
to have different deltas, and each measurement can be managed independently to create extra
calculations for better quality.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>job_handler</strong> (<a href=/docs/references/principia_materia.io_interface.compute_job_series.html#principia_materia.io_interface.compute_job_series.ComputeJobSeries>ComputeJobSeries</a> or <a href=/docs/references/principia_materia.io_interface.jobs_db.html#principia_materia.io_interface.jobs_db.JobsDB>JobsDB</a>) – Either a ComputeJobSeries or a JobsDB object as the interface to the jobs.</p></li><li><p><strong>deltas</strong> (list of numbers, list of arrays, 1-d or 2-d array) – Displacement amplitude.
Can take following types:</p></li></ul><blockquote><pre><code>1. a number, will be broadcast into a shape(n_measurements, 1) array.
</code></pre></blockquote><blockquote><pre><code>2. an 1-d array of length N, will be broadcast into a shape(n_measurements, N) array.
</code></pre></blockquote><blockquote><pre><code>3. a 2-d array of shape(n_measurements, N).
</code></pre></blockquote><ul><li><p><strong>prefix</strong> (str, optional, default to None) – Prefix to the jobnames.</p></li><li><p><strong>delta_format</strong> (callable, optional, default to function: format_delta_dirname.) – A function that format a delta into a string for directory name.
Must be in form of <code>def function(delta, ...): ...</code>.</p></li><li><p><strong>jobname_prefix</strong> (str) – Prefix for jobnames.</p></li><li><p><strong>config_file</strong> (str, optional, default to &ldquo;finite_displacements.yml&rdquo;) – The name of the finite displacements configuration file.</p></li><li><p><strong>fdseries_filename</strong> (str, optional, default to &ldquo;fdseries.hdf5&rdquo;) – The name of the FDSeries data file to store finite displacement information.</p></li><li><p><strong>dry_run</strong> (bool, optional, default to False) – If True, don’t actually create the job.</p></li></ul></li></ul><h4 id=_property_-derivative_order><em>property</em> derivative_order()<a class=td-heading-self-link href=#_property_-derivative_order aria-label="Heading self-link"></a></h4><p>The order of the finite displacements derivative.</p><h4 id=get_dynamic_tensor>get_dynamic_tensor()<a class=td-heading-self-link href=#get_dynamic_tensor aria-label="Heading self-link"></a></h4><h4 id=_property_-order><em>property</em> order()<a class=td-heading-self-link href=#_property_-order aria-label="Heading self-link"></a></h4><p>The order of the phonon interaction.</p><h4 id=set_displacements>set_displacements()<a class=td-heading-self-link href=#set_displacements aria-label="Heading self-link"></a></h4><p>Abstract method to construct displacements vectors for finite displacements.</p><h4 id=set_displacements_basis>set_displacements_basis()<a class=td-heading-self-link href=#set_displacements_basis aria-label="Heading self-link"></a></h4><p>Abstract method to construct the displacements basis vectors.</p><h4 id=set_errortail_resultspick_min3-pick_maxnone-consecutivefalse-penaltyfunction-penalty_linear_mse-separate_complextrue-outputnone-overwritetrue>set_errortail_results(pick_min=3, pick_max=None, consecutive=False, penalty=<function penalty_linear_mse>, separate_complex=True, output=None, overwrite=True)<a class=td-heading-self-link href=#set_errortail_resultspick_min3-pick_maxnone-consecutivefalse-penaltyfunction-penalty_linear_mse-separate_complextrue-outputnone-overwritetrue aria-label="Heading self-link"></a></h4><p>Compute error tail for the FrozenPhonons result.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>pick_min</strong> (int, optional, default to 3) – The minimum number of picks for delta selection.</p></li><li><p><strong>pick_max</strong> (int, optional, default to None) – The maximum number of picks for delta selection.
If None, the pick n scheme is used with n=pick_min.
If not None, the pick N schcme is used with N=[pick_min, pick_max].</p></li><li><p><strong>consecutive</strong> (bool, optional, default to False) – Whether to pick consecutive deltas in the picking process.</p></li><li><p><strong>penalty</strong> (callable, optional, default to penalty_linear_mse) – The penalty function to determine the best fit.</p></li><li><p><strong>separate_complex</strong> (bool, optional, default to False) – Whether to fit real and imaginary part of the complex data points
separetely.</p></li><li><p><strong>output</strong> (str, optional, default to None) – Path of the output file.
If not None, save the output of errortail fit to the file.</p></li></ul></li></ul><h4 id=_fp_errortail>_fp_errortail()<a class=td-heading-self-link href=#_fp_errortail aria-label="Heading self-link"></a></h4><p>The errortail extrapolated finite displacements results of
the FrozenPhonons calculations.</p><ul><li><p><strong>Type</strong></p><p>array of complex</p></li></ul><h4 id=set_realspace_displacementsallrealfalse>set_realspace_displacements(allreal=False)<a class=td-heading-self-link href=#set_realspace_displacementsallrealfalse aria-label="Heading self-link"></a></h4><p>Find real space displacements from the complex reciprocal space displacements.</p><h4 id=realdisp_cs_index>realdisp_cs_index()<a class=td-heading-self-link href=#realdisp_cs_index aria-label="Heading self-link"></a></h4><p>The list of cos/sin pairs (real/imag pairs) that are required to compute
the complex displacements of the measurement.</p><ul><li><p><strong>Type</strong></p><p>list of arrays of int</p></li></ul><h4 id=realdisp_transformation_matrices>realdisp_transformation_matrices()<a class=td-heading-self-link href=#realdisp_transformation_matrices aria-label="Heading self-link"></a></h4><p>The transformation matrices from the complex displacement derivatives
to the real space displacement derivatives.</p><ul><li><p><strong>Type</strong></p><p>list of arrays of complex</p></li></ul><h4 id=realdisp_associated_displacements>realdisp_associated_displacements()<a class=td-heading-self-link href=#realdisp_associated_displacements aria-label="Heading self-link"></a></h4><p>The lists of complex displacements that can be simultaneously computed
from this set of real space displacement.</p><ul><li><p><strong>Type</strong></p><p>list of tuples</p></li></ul><h4 id=set_resultsjob_handler-data_type-prefixnone-fill00-config_filefinite_displacementsyml>set_results(job_handler, data_type, prefix=None, fill=0.0, config_file=&lsquo;finite_displacements.yml&rsquo;)<a class=td-heading-self-link href=#set_resultsjob_handler-data_type-prefixnone-fill00-config_filefinite_displacementsyml aria-label="Heading self-link"></a></h4><p>Get finite displacements results from calculations.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>job_handler</strong> (<a href=/docs/references/principia_materia.io_interface.compute_job_series.html#principia_materia.io_interface.compute_job_series.ComputeJobSeries>ComputeJobSeries</a> or <a href=/docs/references/principia_materia.io_interface.jobs_db.html#principia_materia.io_interface.jobs_db.JobsDB>JobsDB</a>) – Either a ComputeJobSeries or a JobsDB object as the interface to the jobs.</p></li><li><p><strong>data_type</strong> (str, choices of &ldquo;forces&rdquo; and &ldquo;energy&rdquo;) – Type of data to read from compute jobs.</p></li><li><p><strong>prefix</strong> (str, optional, default to None) – Prefix to the jobnames.</p></li><li><p><strong>config_file</strong> (str, optional, default to &ldquo;finite_displacements.yml&rdquo;) – The name of the finite displacements configuration file.</p></li></ul></li></ul><h4 id=_fp_results>_fp_results()<a class=td-heading-self-link href=#_fp_results aria-label="Heading self-link"></a></h4><p>The result of FrozenPhonons calculations.</p><ul><li><p><strong>Type</strong></p><p>list of arrays of complex, length of number of measurements</p></li></ul><h3 id=_class_-principia_materiaphonon_idfrozen_phononsloneq_fpstructure-qpoint-supanone-hidden_order1-fdtypec-tol1e-06><em>class</em> principia_materia.phonon_id.frozen_phonons.LoneQ_FP(structure, Qpoint, supa=None, hidden_order=1, fdtype=&lsquo;c&rsquo;, tol=1e-06)<a class=td-heading-self-link href=#_class_-principia_materiaphonon_idfrozen_phononsloneq_fpstructure-qpoint-supanone-hidden_order1-fdtypec-tol1e-06 aria-label="Heading self-link"></a></h3><p>Bases: <code>FrozenPhonons</code></p><p>LoneQ approach to comphe phonon and their interactions.</p><p>This approach does not consider symmetry, and simply find combinations of the reciprocal
naive displacements basis and compute the phonon interactions for each unique dynamic
tensor elements..</p><h4 id=set_displacements-1>set_displacements()<a class=td-heading-self-link href=#set_displacements-1 aria-label="Heading self-link"></a></h4><p>Abstract method to construct displacements vectors for finite displacements.</p><h4 id=set_displacements_basis-1>set_displacements_basis()<a class=td-heading-self-link href=#set_displacements_basis-1 aria-label="Heading self-link"></a></h4><p>Abstract method to construct the displacements basis vectors.</p><h4 id=set_dynamic_tensor>set_dynamic_tensor()<a class=td-heading-self-link href=#set_dynamic_tensor aria-label="Heading self-link"></a></h4><p>Construct the dynamic tensor after finite displacements result is computed.</p><h4 id=_dynamic_tensor>_dynamic_tensor()<a class=td-heading-self-link href=#_dynamic_tensor aria-label="Heading self-link"></a></h4><p>The dynamic tensor at the Q-point.</p><ul><li><p><strong>Type</strong></p><p>array of complex, shape(norbitals, ) * order</p></li></ul><h4 id=set_naive_displacements>set_naive_displacements()<a class=td-heading-self-link href=#set_naive_displacements aria-label="Heading self-link"></a></h4><p>Find the unique naive displacements to compute phonon interactions.</p><h4 id=set_naive_displacements_basis>set_naive_displacements_basis()<a class=td-heading-self-link href=#set_naive_displacements_basis aria-label="Heading self-link"></a></h4><p>Construct the naive reciprocal space displacement basis.</p><p>The displacement amplitudes follow the convention discussed in the paper
Phys. Rev. B 100, 014303 (2019).</p><p>$$
u_{\textbf{t}}*{\left(b, \beta\right)} = \sum_{\textbf{q} \in \hat{S}_{BZ}}
u_{\textbf{q}}*{\left(b, \beta\right)} e^{2\pi\imag \textbf{t} \cdot \textbf{q}}
$$</p><h3 id=principia_materiaphonon_idfrozen_phononsfind_realspace_displacementsqpoint-displabels-allrealfalse-tol1e-06>principia_materia.phonon_id.frozen_phonons.find_realspace_displacements(Qpoint, displabels, allreal=False, tol=1e-06)<a class=td-heading-self-link href=#principia_materiaphonon_idfrozen_phononsfind_realspace_displacementsqpoint-displabels-allrealfalse-tol1e-06 aria-label="Heading self-link"></a></h3><p>Find realspace displacements from complex displacements basis.</p><p>In Lone-Q and Lone-ID finite displacements approaches, we find displacements
in the reciprocal space first, these displacements are often complex numbers.
However, we are only able to displacement atoms in real space. Thus, we need
to find minumum the real/imag pairs of these displacements to be able to
compute the derivatives.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>Qpoint</strong> (array of <a href=/docs/references/principia_materia.mathematics.new_fraction.html#principia_materia.mathematics.new_fraction.Fraction>Fraction</a>, shape (order-hidden_order, dim)) – The Q-point.</p></li><li><p><strong>displabels</strong> (tuple of tuples) – The reciprocal space displacement basis labels for a measurement.</p></li><li><p><strong>allreal</strong> (bool, optional, default to False) – Whether the displacements are wll real or not.</p></li><li><p><strong>tol</strong> (float) – Error tolerence.</p></li></ul></li><li><p><strong>Returns</strong></p><ul><li><p><strong>cs_pairs</strong> (<em>array of int</em>) – The cos/sin pairs (real/imag pairs) that are required to compute
the complex displacements of the measurement.
The array is in row convention, every row is a real space displacement denoted
with a cos/sin pair.
There are 2 possible integers in the array: 0 for cos(real) and 1 for sin(imag).</p></li><li><p><strong>transformation_matrix</strong> (<em>array of complex</em>) – The transformation matrix from the complex displacement derivatives
to the real space displacement derivatives.
Each row of the matrix is the coefficients of the linear combination of the complex
displacements that make the real space displacement.</p></li><li><p><strong>associated_displacements</strong> (<em>list of tuples</em>) – A list of complex displacements that can be simultaneously computed
from this set of real space displacement.</p></li></ul></li></ul><h3 id=principia_materiaphonon_idfrozen_phononsfind_uniqueinput_list-return_indexfalse>principia_materia.phonon_id.frozen_phonons.find_unique(input_list, return_index=False)<a class=td-heading-self-link href=#principia_materiaphonon_idfrozen_phononsfind_uniqueinput_list-return_indexfalse aria-label="Heading self-link"></a></h3><p>Find unique elements in a list.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>input_list</strong> (list) – An input list.</p></li><li><p><strong>return_index</strong> (bool, optional, default False) – Whether to return the indices of the unique elements.</p></li></ul></li></ul><h3 id=principia_materiaphonon_idfrozen_phononsformat_irrep_instancesirrep_instances>principia_materia.phonon_id.frozen_phonons.format_irrep_instances(irrep_instances)<a class=td-heading-self-link href=#principia_materiaphonon_idfrozen_phononsformat_irrep_instancesirrep_instances aria-label="Heading self-link"></a></h3><h3 id=principia_materiaphonon_idfrozen_phononsformat_measurement_labelmeasurement_index-cs_indiciesnone-zero_padding0>principia_materia.phonon_id.frozen_phonons.format_measurement_label(measurement_index, cs_indicies=None, zero_padding=0)<a class=td-heading-self-link href=#principia_materiaphonon_idfrozen_phononsformat_measurement_labelmeasurement_index-cs_indiciesnone-zero_padding0 aria-label="Heading self-link"></a></h3><p>Format measurement indices into str labels.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>measurement_index</strong> (int) – The index of the measurement.</p></li><li><p><strong>cs_indicies</strong> (array of int, optional, default to None) – Array denoting the cos/sin pairs of the measurement.</p></li><li><p><strong>zero_padding</strong> (int, optional, default to 0) – The amount of zero padding on the left of the measurement indices.</p></li></ul></li><li><p><strong>Returns</strong></p><p><strong>label</strong> – The label for the measurement.</p></li><li><p><strong>Return type</strong></p><p>str</p></li></ul><h3 id=principia_materiaphonon_idfrozen_phononsget_frozenphonons_hdf5_wrapper>principia_materia.phonon_id.frozen_phonons.get_FrozenPhonons_hdf5_wrapper()<a class=td-heading-self-link href=#principia_materiaphonon_idfrozen_phononsget_frozenphonons_hdf5_wrapper aria-label="Heading self-link"></a></h3><p>HDF5 data wrapper for FrozenPhonons class.</p><h3 id=principia_materiaphonon_idfrozen_phononsget_loneq_from_hdf5h5file-root_directorynone-fdseries_filenamefdserieshdf5-tol1e-06>principia_materia.phonon_id.frozen_phonons.get_LoneQ_from_hdf5(h5file, root_directory=None, fdseries_filename=&lsquo;fdseries.hdf5&rsquo;, tol=1e-06)<a class=td-heading-self-link href=#principia_materiaphonon_idfrozen_phononsget_loneq_from_hdf5h5file-root_directorynone-fdseries_filenamefdserieshdf5-tol1e-06 aria-label="Heading self-link"></a></h3><p>Read data from HDF5 file and construct a LoneQ_FP object.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>h5file</strong> (str or h5py.File/h5py.Group obejct) – Path to a HDF5 file or a h5py.File/h5py.Group object.</p></li><li><p><strong>tol</strong> (float, optional, default to 1.0E-6) – Error tolerance.</p></li></ul></li></ul><h3 id=principia_materiaphonon_idfrozen_phononsget_dynamic_tensor_wrapper>principia_materia.phonon_id.frozen_phonons.get_dynamic_tensor_wrapper()<a class=td-heading-self-link href=#principia_materiaphonon_idfrozen_phononsget_dynamic_tensor_wrapper aria-label="Heading self-link"></a></h3><p>HDF5 data wrapper for dynamic tensor of a q-point.</p><h3 id=principia_materiaphonon_idfrozen_phononsis_qpoint_realqpoint>principia_materia.phonon_id.frozen_phonons.is_qpoint_real(qpoint)<a class=td-heading-self-link href=#principia_materiaphonon_idfrozen_phononsis_qpoint_realqpoint aria-label="Heading self-link"></a></h3><h3 id=principia_materiaphonon_idfrozen_phononsload_fp_errortailsfilename>principia_materia.phonon_id.frozen_phonons.load_fp_errortails(filename)<a class=td-heading-self-link href=#principia_materiaphonon_idfrozen_phononsload_fp_errortailsfilename aria-label="Heading self-link"></a></h3><p>Load errortail data of frozen phonon runs from HDF5 file.</p><ul><li><p><strong>Parameters</strong></p><p><strong>filename</strong> (str) – Path to HDF5 file.</p></li></ul><h3 id=principia_materiaphonon_idfrozen_phononsmake_displacement_identifierqpoint-displabels-csnone-sorttrue>principia_materia.phonon_id.frozen_phonons.make_displacement_identifier(Qpoint, displabels, cs=None, sort=True)<a class=td-heading-self-link href=#principia_materiaphonon_idfrozen_phononsmake_displacement_identifierqpoint-displabels-csnone-sorttrue aria-label="Heading self-link"></a></h3><p>Make the nested tuple displacement identifier for a measurement.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>Qpoint</strong> (array of Fractions) – A Q-point, an array of q-points.</p></li><li><p><strong>displabels</strong> (list of tuples or str) – The labels for the displacement.</p></li><li><p><strong>cs</strong> (list of str or int, optional, default to None) – The cos/sin labels for the displaement.</p></li><li><p><strong>sort</strong> (bool, optional, default to True) – Whether to sort the q-point & displacement label tuple,
when making the identifier.</p></li></ul></li><li><p><strong>Returns</strong></p><p><strong>displacement_identifier</strong> – The identifier for the displacement.</p></li><li><p><strong>Return type</strong></p><p>nested tuple</p></li></ul><h3 id=principia_materiaphonon_idfrozen_phononssave_loneq_to_hdf5obj-h5fileloneq_fphdf5-include_fdseiresfalse>principia_materia.phonon_id.frozen_phonons.save_LoneQ_to_hdf5(obj, h5file=&lsquo;loneq_fp.hdf5&rsquo;, include_fdseires=False)<a class=td-heading-self-link href=#principia_materiaphonon_idfrozen_phononssave_loneq_to_hdf5obj-h5fileloneq_fphdf5-include_fdseiresfalse aria-label="Heading self-link"></a></h3><p>Save data of a LoneQ_FP object into a HDF5 file.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>obj</strong> (LoneQ_FP) – A LoneQ_FP object.</p></li><li><p><strong>h5file</strong> (str or h5py.File/h5py.Group obejct, optional, default to &ldquo;loneq_fp.hdf5&rdquo;) – Path to a HDF5 file or a h5py.File/h5py.Group object.</p></li></ul></li></ul><h3 id=principia_materiaphonon_idfrozen_phononssave_dynamic_tensor_to_hdf5obj-h5filedynamic_tensorhdf5>principia_materia.phonon_id.frozen_phonons.save_dynamic_tensor_to_hdf5(obj, h5file=&lsquo;dynamic_tensor.hdf5&rsquo;)<a class=td-heading-self-link href=#principia_materiaphonon_idfrozen_phononssave_dynamic_tensor_to_hdf5obj-h5filedynamic_tensorhdf5 aria-label="Heading self-link"></a></h3><p>Save data of a dynamic tensor of a q-poin into a HDF5 file.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>obj</strong> (FrozenPhonons) – A FrozenPhonons object.</p></li><li><p><strong>h5file</strong> (str or h5py.File/h5py.Group obejct, optional, default to &ldquo;dynamic_tensor.hdf5&rdquo;) – Path to a HDF5 file or a h5py.File/h5py.Group object.</p></li></ul></li></ul><h3 id=principia_materiaphonon_idfrozen_phononssave_fp_errortailsoutput-fdtype-deltas-fd_values-result-xcoef-pick-penalty-overwritetrue>principia_materia.phonon_id.frozen_phonons.save_fp_errortails(output, fdtype, deltas, fd_values, result, xcoef, pick, penalty, overwrite=True)<a class=td-heading-self-link href=#principia_materiaphonon_idfrozen_phononssave_fp_errortailsoutput-fdtype-deltas-fd_values-result-xcoef-pick-penalty-overwritetrue aria-label="Heading self-link"></a></h3><p>Save errortail data of frozen phonon runs into HDF5 file.</p></div><div class=td-content style=page-break-before:always><h1 id=pg-7c7388aaac31b9a439ea4fbeeea11f2a>8.53 - Module principia_materia.phonon_id.hsbid</h1><div class=lead>Module principia_materia.phonon_id.hsbid</div><h1 id=principia_materiaphonon_idhsbid-module>principia_materia.phonon_id.hsbid module<a class=td-heading-self-link href=#principia_materiaphonon_idhsbid-module aria-label="Heading self-link"></a></h1><h3 id=_class_-principia_materiaphonon_idhsbidhsbidstructure-supa-order-pgc1-full_symmetryfalse-hidden_order1-fdtypec-tol1e-06><em>class</em> principia_materia.phonon_id.hsbid.HSBID(structure, supa, order, pg=&lsquo;C1&rsquo;, full_symmetry=False, hidden_order=1, fdtype=&lsquo;c&rsquo;, tol=1e-06)<a class=td-heading-self-link href=#_class_-principia_materiaphonon_idhsbidhsbidstructure-supa-order-pgc1-full_symmetryfalse-hidden_order1-fdtypec-tol1e-06 aria-label="Heading self-link"></a></h3><p>Bases: <code>object</code></p><p>Use Hierarchical Supercell Bundled Irreducible Derivatives approach to compute
phonons and their interactions</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>structure</strong> (CrystalFTG object or a structure file of <a href=/docs/references/principia_materia.translation_group.crystal_ftg.html#principia_materia.translation_group.crystal_ftg.CrystalFTG>CrystalFTG</a>) – The crystal structure.</p></li><li><p><strong>supa</strong> (array of int, shape(dim, dim)) – The supercell matrix.</p></li><li><p><strong>order</strong> (int) – Order of the phonon interaction.</p></li><li><p><strong>pg</strong> (str or PointGroup object, optional, default to &ldquo;C1&rdquo;) – The point group.</p></li><li><p><strong>full_symmetry</strong> (bool, optional, default to False) – If True, use full group analysis (not implemented yet).
If False, use little group analysis.</p></li><li><p><strong>hidden_order</strong> (int, optional, default to 1) – The order of derivatives from first principles.</p></li><li><p><strong>fdtype</strong> (str, choice of [&ldquo;c&rdquo;, &ldquo;f&rdquo;, &ldquo;b&rdquo;]) – Type of finite displacement.</p></li><li><p><strong>tol</strong> (float, optional, default to 1.0E-6) – Error tolerence.</p></li></ul></li></ul><h4 id=_property_-qpointsn><em>property</em> QpointsN()<a class=td-heading-self-link href=#_property_-qpointsn aria-label="Heading self-link"></a></h4><h4 id=compute_irreducible_derivatives>compute_irreducible_derivatives()<a class=td-heading-self-link href=#compute_irreducible_derivatives aria-label="Heading self-link"></a></h4><p>Compute irreducible derivatives with finite displacements result and chainrule matrices/tensors.</p><h4 id=irreducible_derivatives>irreducible_derivatives()<a class=td-heading-self-link href=#irreducible_derivatives aria-label="Heading self-link"></a></h4><p>The values of all irreducible derivatives in the current system.</p><ul><li><p><strong>Type</strong></p><p>array of complex shape(n_irreducible_derivatives, )</p></li></ul><h4 id=create_jobsjob_handler-deltas-supa_formatfunction-format_supa_dirname-delta_formatfunction-format_delta_dirname-measurement_labelfunction-format_measurement_label-jobname_prefix-config_filefinite_displacementsyml-bid_filenamebidhdf5-appendfalse-dry_runfalse>create_jobs(job_handler, deltas, supa_format=<function format_supa_dirname>, delta_format=<function format_delta_dirname>, measurement_label=<function format_measurement_label>, jobname_prefix=&rsquo;&rsquo;, config_file=&lsquo;finite_displacements.yml&rsquo;, bid_filename=&lsquo;bid.hdf5&rsquo;, append=False, dry_run=False)<a class=td-heading-self-link href=#create_jobsjob_handler-deltas-supa_formatfunction-format_supa_dirname-delta_formatfunction-format_delta_dirname-measurement_labelfunction-format_measurement_label-jobname_prefix-config_filefinite_displacementsyml-bid_filenamebidhdf5-appendfalse-dry_runfalse aria-label="Heading self-link"></a></h4><p>Create compute jobs for the BID calculations.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>job_handler</strong> (<a href=/docs/references/principia_materia.io_interface.compute_job_series.html#principia_materia.io_interface.compute_job_series.ComputeJobSeries>ComputeJobSeries</a> or <a href=/docs/references/principia_materia.io_interface.jobs_db.html#principia_materia.io_interface.jobs_db.JobsDB>JobsDB</a>) – Either a ComputeJobSeries or a JobsDB object as the interface to the jobs.</p></li><li><p><strong>deltas</strong> (list of numbers, list of arrays, 1-d or 2-d array) – Displacement amplitude.
Can take following types:</p></li></ul><blockquote><pre><code>1. a number, will be broadcast into a shape(n_measurements, 1) array.
</code></pre></blockquote><blockquote><pre><code>2. an 1-d array of length N, will be broadcast into a shape(n_measurements, N) array.
</code></pre></blockquote><blockquote><pre><code>3. a 2-d array of shape(n_measurements, N).
</code></pre></blockquote><ul><li><p><strong>prefix</strong> (str, optional, default to None) – Prefix to the jobnames.</p></li><li><p><strong>supa_format</strong> (callable, optional default to function: format_supa_dirname) – A function that format the supercell into a string for directory name.</p></li><li><p><strong>delta_format</strong> (callable, optional, default to function: format_delta_dirname) – A function that format a delta into a string for directory name.
Must be in form of <code>def function(delta, ...): ...</code>.</p></li><li><p><strong>measurement_label</strong> (callable, optional, default to format_measurement_label) – A function that format the measurement indices into certain string format.
Must be in form of def function(measurement_index, …): …</p></li><li><p><strong>jobname_prefix</strong> (str) – Prefix for jobnames.</p></li><li><p><strong>config_file</strong> (str, optional, default to &ldquo;finite_displacements.yml&rdquo;) – The name of the finite displacements configuration file.</p></li><li><p><strong>bid_filename</strong> (str, optional, default to &ldquo;bid.hdf5&rdquo;) – The name of HDF5 file to save BID data into.</p></li><li><p><strong>dry_run</strong> (bool, optional, default to False) – If True, don’t actually create the job.</p></li></ul></li></ul><h4 id=_property_-derivative_order><em>property</em> derivative_order()<a class=td-heading-self-link href=#_property_-derivative_order aria-label="Heading self-link"></a></h4><p>The order of the finite displacements derivative.</p><h4 id=find_measurementsextra_measurements0-test_measurements5-verbosefalse>find_measurements(extra_measurements=0, test_measurements=5, verbose=False)<a class=td-heading-self-link href=#find_measurementsextra_measurements0-test_measurements5-verbosefalse aria-label="Heading self-link"></a></h4><p>Find measurements in each hierchical supercell that can solve the chainrule matrix.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>extra_measurements</strong> (int, optional, default to 0) – The amount of extra measurement, the new number of
measurement is calculated with the equation:
<code>n_measurements \*= extra_measurements + 1</code>.</p></li><li><p><strong>test_measurements</strong> (int, optional, default to 5) – The number of test measurements.</p></li><li><p><strong>verbose</strong> (bool, optional, default to False)</p></li></ul></li></ul><h4 id=get_dynamic_tensors>get_dynamic_tensors()<a class=td-heading-self-link href=#get_dynamic_tensors aria-label="Heading self-link"></a></h4><p>Compute dynamic tensors of the irreducible Q-points from irreducible derivatives.</p><ul><li><p><strong>Returns</strong></p><p><strong>dynamic_tensors</strong> – (where N_IQ is the number of irreducible Q-points)
The dynamic tensors of the irreducible Q-points.</p></li><li><p><strong>Return type</strong></p><p>array of complex, shape(N_IQ, ) + (norbitals, ) * order</p></li></ul><h4 id=get_fourier_interpolation>get_fourier_interpolation()<a class=td-heading-self-link href=#get_fourier_interpolation aria-label="Heading self-link"></a></h4><p>Construct the FourierInterpolation object from dynamic tensors of irreducible Q-points.</p><ul><li><p><strong>Returns</strong></p><p><strong>fourier_interpolation</strong> – A FourierInterpolation object.</p></li><li><p><strong>Return type</strong></p><p><a href=/docs/references/principia_materia.phonon_id.fourier_interpolation.html#principia_materia.phonon_id.fourier_interpolation.FourierInterpolation>FourierInterpolation</a></p></li></ul><h4 id=get_irreducible_derivative_names>get_irreducible_derivative_names()<a class=td-heading-self-link href=#get_irreducible_derivative_names aria-label="Heading self-link"></a></h4><h4 id=load_hsbidroot_directory-bid_filenamebidhdf5>load_hsbid(root_directory, bid_filename=&lsquo;bid.hdf5&rsquo;)<a class=td-heading-self-link href=#load_hsbidroot_directory-bid_filenamebidhdf5 aria-label="Heading self-link"></a></h4><p>Load BID objects from HDF5 files.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>root_directory</strong> (str) – The root directory of the HSBID jobs.</p></li><li><p><strong>bid_filename</strong> (str, optional, default to &ldquo;bid.hdf5&rdquo;) – The name of HDF5 file to save BID data into.</p></li></ul></li></ul><h4 id=set_chainrule_derivativesverbosefalse>set_chainrule_derivatives(verbose=False)<a class=td-heading-self-link href=#set_chainrule_derivativesverbosefalse aria-label="Heading self-link"></a></h4><p>Instantiate the ChainruleDerivatives class to compute chainrule matrices/tensors.</p><ul><li><p><strong>Parameters</strong></p><p><strong>verbose</strong> (bool, optional, default to False) – Whether to print out the analysis steps in the construction of the
ChainruleDerivatives object.</p></li></ul><h4 id=_chainrule>_chainrule()<a class=td-heading-self-link href=#_chainrule aria-label="Heading self-link"></a></h4><p>The ChainruleDerivatives object for the system.</p><ul><li><p><strong>Type</strong></p><p><a href=/docs/references/principia_materia.phonon_id.chainrule_derivatives.html#principia_materia.phonon_id.chainrule_derivatives.ChainruleDerivatives>ChainruleDerivatives</a></p></li></ul><h4 id=set_errortail_resultspick_min3-pick_maxnone-consecutivefalse-penaltyfunction-penalty_linear_mse-separate_complextrue-outputnone-overwritetrue>set_errortail_results(pick_min=3, pick_max=None, consecutive=False, penalty=<function penalty_linear_mse>, separate_complex=True, output=None, overwrite=True)<a class=td-heading-self-link href=#set_errortail_resultspick_min3-pick_maxnone-consecutivefalse-penaltyfunction-penalty_linear_mse-separate_complextrue-outputnone-overwritetrue aria-label="Heading self-link"></a></h4><p>Compute error tail for the finite displacements result.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>pick_min</strong> (int, optional, default to 3) – The minimum number of picks for delta selection.</p></li><li><p><strong>pick_max</strong> (int, optional, default to None) – The maximum number of picks for delta selection.
If None, the pick n scheme is used with n=pick_min.
If not None, the pick N schcme is used with N=[pick_min, pick_max].</p></li><li><p><strong>consecutive</strong> (bool, optional, default to False) – Whether to pick consecutive deltas in the picking process.</p></li><li><p><strong>penalty</strong> (callable, optional, default to penalty_linear_mse) – The penalty function to determine the best fit.</p></li><li><p><strong>separate_complex</strong> (bool, optional, default to False) – Whether to fit real and imaginary part of the complex data points
separetely.</p></li><li><p><strong>output</strong> (str, optional, default to None) – Path of the output file.
If not None, save the output of errortail fit to the file.</p></li></ul></li></ul><h4 id=set_hsbid>set_hsbid()<a class=td-heading-self-link href=#set_hsbid aria-label="Heading self-link"></a></h4><p>Construct hierchical supercells and their BID objects.</p><h4 id=set_resultsjob_handler-data_type-config_filefinite_displacementsyml>set_results(job_handler, data_type, config_file=&lsquo;finite_displacements.yml&rsquo;)<a class=td-heading-self-link href=#set_resultsjob_handler-data_type-config_filefinite_displacementsyml aria-label="Heading self-link"></a></h4><p>Get finite displacements results from calculations.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>job_handler</strong> (<a href=/docs/references/principia_materia.io_interface.compute_job_series.html#principia_materia.io_interface.compute_job_series.ComputeJobSeries>ComputeJobSeries</a> or <a href=/docs/references/principia_materia.io_interface.jobs_db.html#principia_materia.io_interface.jobs_db.JobsDB>JobsDB</a>) – Either a ComputeJobSeries or a JobsDB object as the interface to the jobs.</p></li><li><p><strong>data_type</strong> (str, choices of &ldquo;forces&rdquo; and &ldquo;energy&rdquo;) – Type of data to read from compute jobs.</p></li><li><p><strong>config_file</strong> (str, optional, default to &ldquo;finite_displacements.yml&rdquo;) – The name of the finite displacements configuration file.</p></li></ul></li></ul><h3 id=principia_materiaphonon_idhsbidfind_hierarchical_supercellsqpoints-qpoints_orbits>principia_materia.phonon_id.hsbid.find_hierarchical_supercells(Qpoints, Qpoints_orbits)<a class=td-heading-self-link href=#principia_materiaphonon_idhsbidfind_hierarchical_supercellsqpoints-qpoints_orbits aria-label="Heading self-link"></a></h3><p>Find Hierchical supercells that accommondates the input Q-points.</p><p>Find the minimum amount of supercells that for each of the input Q-point,
there is a supercell that is the smallest supercell that can accommondate
the Q-point according to group theory.</p><p>A greedy search is implemented instead of a brute-force search for efficiency.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>Qpoints</strong> (array of float, shape(N, order, dim)) – All the Q-points from a FTG.</p></li><li><p><strong>Qpoints_orbits</strong> (list of arrays of int) – List of arrays each represents an orbit of Q-points that are associated
by space group symmetry.</p></li></ul></li><li><p><strong>Returns</strong></p><p><strong>supercells</strong> – The set of hierarchical supercells.</p></li><li><p><strong>Return type</strong></p><p>list of shape(dim, dim) arrays of int</p></li></ul><h3 id=principia_materiaphonon_idhsbidformat_supa_dirnamesupa>principia_materia.phonon_id.hsbid.format_supa_dirname(supa)<a class=td-heading-self-link href=#principia_materiaphonon_idhsbidformat_supa_dirnamesupa aria-label="Heading self-link"></a></h3><h3 id=principia_materiaphonon_idhsbidget_hsbid_from_hdf5h5file-tol1e-06>principia_materia.phonon_id.hsbid.get_HSBID_from_hdf5(h5file, tol=1e-06)<a class=td-heading-self-link href=#principia_materiaphonon_idhsbidget_hsbid_from_hdf5h5file-tol1e-06 aria-label="Heading self-link"></a></h3><p>Read data from HDF5 file and construct a HSBID object.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>h5file</strong> (str or h5py.File/h5py.Group obejct) – Path to a HDF5 file or a h5py.File/h5py.Group object.</p></li><li><p><strong>tol</strong> (float, optional, default to 1.0E-6) – Error tolerance.</p></li></ul></li></ul><h3 id=principia_materiaphonon_idhsbidget_hsbid_hdf5_wrapper>principia_materia.phonon_id.hsbid.get_HSBID_hdf5_wrapper()<a class=td-heading-self-link href=#principia_materiaphonon_idhsbidget_hsbid_hdf5_wrapper aria-label="Heading self-link"></a></h3><p>HDF5 data wrapper for LIDMesh configurations.</p><h3 id=principia_materiaphonon_idhsbidsave_hsbid_to_hdf5obj-h5filehsbidhdf5-include_bidtrue-overwritefalse>principia_materia.phonon_id.hsbid.save_HSBID_to_hdf5(obj, h5file=&lsquo;hsbid.hdf5&rsquo;, include_bid=True, overwrite=False)<a class=td-heading-self-link href=#principia_materiaphonon_idhsbidsave_hsbid_to_hdf5obj-h5filehsbidhdf5-include_bidtrue-overwritefalse aria-label="Heading self-link"></a></h3><p>Save data of a HSBID object into a HDF5 file.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>obj</strong> (<a href=/docs/references/principia_materia.phonon_id.bid.html#principia_materia.phonon_id.bid.BID>BID</a>) – A HSBID object.</p></li><li><p><strong>h5file</strong> (str or h5py.File/h5py.Group obejct, optional, default to &ldquo;hsbid.hdf5&rdquo;) – Path to a HDF5 file or a h5py.File/h5py.Group object.</p></li></ul></li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-dfc5c5784b10d8ebe2a4bddecc1d387e>8.54 - Module principia_materia.phonon_id.lid</h1><div class=lead>Module principia_materia.phonon_id.lid</div><h1 id=principia_materiaphonon_idlid-module>principia_materia.phonon_id.lid module<a class=td-heading-self-link href=#principia_materiaphonon_idlid-module aria-label="Heading self-link"></a></h1><h3 id=_class_-principia_materiaphonon_idlidloneid_fpstructure-qpoint-supanone-pgc1-full_symmetryfalse-hidden_order1-fdtypec-tol1e-06><em>class</em> principia_materia.phonon_id.lid.LoneID_FP(structure, Qpoint, supa=None, pg=&lsquo;C1&rsquo;, full_symmetry=False, hidden_order=1, fdtype=&lsquo;c&rsquo;, tol=1e-06)<a class=td-heading-self-link href=#_class_-principia_materiaphonon_idlidloneid_fpstructure-qpoint-supanone-pgc1-full_symmetryfalse-hidden_order1-fdtypec-tol1e-06 aria-label="Heading self-link"></a></h3><p>Bases: <a href=/docs/references/principia_materia.phonon_id.frozen_phonons.html#principia_materia.phonon_id.frozen_phonons.FrozenPhonons><code>FrozenPhonons</code></a></p><p>Use Lone Irreducible Derivatives (LID) apporach to compute phonons and their interactions.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>structure</strong> (CrystalFTG object or a structure file of <a href=/docs/references/principia_materia.translation_group.crystal_ftg.html#principia_materia.translation_group.crystal_ftg.CrystalFTG>CrystalFTG</a>) – The crystal structure.</p></li><li><p><strong>Qpoint</strong> (array of Fraction or a <code>parse_array</code> supported Fraction array.) – The Q-point</p></li><li><p><strong>supa</strong> (array of int, shape(dim, dim)) – The supercell matrix.</p></li><li><p><strong>pg</strong> (str or PointGroup object, optional, default to &ldquo;C1&rdquo;) – The point group.</p></li><li><p><strong>full_symmetry</strong> (bool, optional, default to False) – If True, use full group analysis (not implemented yet).
If False, use little group analysis.</p></li><li><p><strong>hidden_order</strong> (int, optional, default to 1) – The order of derivatives from first principles.</p></li><li><p><strong>fdtype</strong> (str, choice of [&ldquo;c&rdquo;, &ldquo;f&rdquo;, &ldquo;b&rdquo;]) – Type of finite displacement.</p></li><li><p><strong>tol</strong> (float, optional, default to 1.0E-6) – Error tolerence.</p></li></ul></li></ul><h4 id=get_irreducible_derivative_names>get_irreducible_derivative_names()<a class=td-heading-self-link href=#get_irreducible_derivative_names aria-label="Heading self-link"></a></h4><h4 id=get_irreducible_derivatives>get_irreducible_derivatives()<a class=td-heading-self-link href=#get_irreducible_derivatives aria-label="Heading self-link"></a></h4><h4 id=_property_-irreducible_derivatives><em>property</em> irreducible_derivatives()<a class=td-heading-self-link href=#_property_-irreducible_derivatives aria-label="Heading self-link"></a></h4><h4 id=set_analytic_tensorstarsnone>set_analytic_tensor(stars=None)<a class=td-heading-self-link href=#set_analytic_tensorstarsnone aria-label="Heading self-link"></a></h4><p>Construct analytic dynamic tensor for the Q-point.</p><h4 id=_adt>_adt()<a class=td-heading-self-link href=#_adt aria-label="Heading self-link"></a></h4><p>An AnalyticDynamicTensor subclass object for the system and Q-point.</p><ul><li><p><strong>Type</strong></p><p>a subclass of <a href=/docs/references/principia_materia.phonon_id.analytic_dynamic_tensor.html#principia_materia.phonon_id.analytic_dynamic_tensor.AnalyticDynamicTensor>AnalyticDynamicTensor</a></p></li></ul><h4 id=set_displacements>set_displacements()<a class=td-heading-self-link href=#set_displacements aria-label="Heading self-link"></a></h4><p>Find displacements that can probe each irreducible derivatives separately.</p><h4 id=set_displacements_basis>set_displacements_basis()<a class=td-heading-self-link href=#set_displacements_basis aria-label="Heading self-link"></a></h4><p>Construct the symmetrized reciprocal displacement basis.</p><p>The displacement amplitudes follow the convention discussed in the paper
Phys. Rev. B 100, 014303 (2019).</p><p>$$
u_{\textbf{t}}*{\left(b, \beta\right)} = \sum_{\textbf{q} \in \hat{S}_{BZ}}
u_{\textbf{q}}*{\left(b, \beta\right)} e^{2\pi\imag \textbf{t} \cdot \textbf{q}}
$$</p><h4 id=set_dynamic_tensor>set_dynamic_tensor()<a class=td-heading-self-link href=#set_dynamic_tensor aria-label="Heading self-link"></a></h4><p>Construct the dynamic tensor after finite displacements result is computed.</p><h4 id=_dynamic_tensor>_dynamic_tensor()<a class=td-heading-self-link href=#_dynamic_tensor aria-label="Heading self-link"></a></h4><p>The dynamic tensor at the Q-point.</p><ul><li><p><strong>Type</strong></p><p>array of complex, shape(norbitals, ) * order</p></li></ul><h4 id=set_irreducible_derivatives>set_irreducible_derivatives()<a class=td-heading-self-link href=#set_irreducible_derivatives aria-label="Heading self-link"></a></h4><p>Compute irreducible derivatives.</p><h4 id=set_target_irrep_productsirrep_products>set_target_irrep_products(irrep_products)<a class=td-heading-self-link href=#set_target_irrep_productsirrep_products aria-label="Heading self-link"></a></h4><h3 id=principia_materiaphonon_idlidget_loneid_from_hdf5h5file-root_directorynone-fdseries_filenamefdserieshdf5-tol1e-06>principia_materia.phonon_id.lid.get_LoneID_from_hdf5(h5file, root_directory=None, fdseries_filename=&lsquo;fdseries.hdf5&rsquo;, tol=1e-06)<a class=td-heading-self-link href=#principia_materiaphonon_idlidget_loneid_from_hdf5h5file-root_directorynone-fdseries_filenamefdserieshdf5-tol1e-06 aria-label="Heading self-link"></a></h3><p>Read data from HDF5 file and construct a LoneID_FP object.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>h5file</strong> (str or h5py.File/h5py.Group obejct) – Path to a HDF5 file or a h5py.File/h5py.Group object.</p></li><li><p><strong>tol</strong> (float, optional, default to 1.0E-6) – Error tolerance.</p></li></ul></li></ul><h3 id=principia_materiaphonon_idlidget_loneid_hdf5_wrapper>principia_materia.phonon_id.lid.get_LoneID_hdf5_wrapper()<a class=td-heading-self-link href=#principia_materiaphonon_idlidget_loneid_hdf5_wrapper aria-label="Heading self-link"></a></h3><p>HDF5 data wrapper for LoneID class.</p><h3 id=principia_materiaphonon_idlidsave_loneid_to_hdf5obj-h5fileloneqid_fphdf5-include_fdseiresfalse>principia_materia.phonon_id.lid.save_LoneID_to_hdf5(obj, h5file=&lsquo;loneqID_fp.hdf5&rsquo;, include_fdseires=False)<a class=td-heading-self-link href=#principia_materiaphonon_idlidsave_loneid_to_hdf5obj-h5fileloneqid_fphdf5-include_fdseiresfalse aria-label="Heading self-link"></a></h3><p>Save data of a LoneID_FP object into a HDF5 file.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>obj</strong> (LoneID_FP) – A LoneID_FP object.</p></li><li><p><strong>h5file</strong> (str or h5py.File/h5py.Group obejct, optional, default to &ldquo;loneqID_fp.hdf5&rdquo;) – Path to a HDF5 file or a h5py.File/h5py.Group object.</p></li></ul></li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-70c5a78e882e70a70e4eb251f28e8291>8.55 - Module principia_materia.phonon_id.lid_mesh</h1><div class=lead>Module principia_materia.phonon_id.lid_mesh</div><h1 id=principia_materiaphonon_idlid_mesh-module>principia_materia.phonon_id.lid_mesh module<a class=td-heading-self-link href=#principia_materiaphonon_idlid_mesh-module aria-label="Heading self-link"></a></h1><h3 id=_class_-principia_materiaphonon_idlid_meshlidmeshstructure-supa-order-pgc1-full_symmetryfalse-hidden_order1-fdtypec-tol1e-06><em>class</em> principia_materia.phonon_id.lid_mesh.LIDMesh(structure, supa, order, pg=&lsquo;C1&rsquo;, full_symmetry=False, hidden_order=1, fdtype=&lsquo;c&rsquo;, tol=1e-06)<a class=td-heading-self-link href=#_class_-principia_materiaphonon_idlid_meshlidmeshstructure-supa-order-pgc1-full_symmetryfalse-hidden_order1-fdtypec-tol1e-06 aria-label="Heading self-link"></a></h3><p>Bases: <code>object</code></p><p>Compute phonons and their interactions with LID approach on a given mesh.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>structure</strong> (CrystalFTG object or a structure file of <a href=/docs/references/principia_materia.translation_group.crystal_ftg.html#principia_materia.translation_group.crystal_ftg.CrystalFTG>CrystalFTG</a>) – The crystal structure.</p></li><li><p><strong>supa</strong> (array of int, shape(dim, dim)) – The supercell matrix (a.k.a the mesh) to compute phonons and their interactions in.</p></li><li><p><strong>order</strong> (int) – The order of the phonon interactions.</p></li><li><p><strong>pg</strong> (str or PointGroup object, optional, default to &ldquo;C1&rdquo;) – The point group.</p></li><li><p><strong>full_symmetry</strong> (bool, optional, default to False) – If True, use full group analysis (not implemented yet).
If False, use little group analysis.</p></li><li><p><strong>hidden_order</strong> (int, optional, default to 1) – The order of derivatives from first principles.</p></li><li><p><strong>fdtype</strong> (str, choice of [&ldquo;c&rdquo;, &ldquo;f&rdquo;, &ldquo;b&rdquo;]) – Type of finite displacement.</p></li><li><p><strong>tol</strong> (float, optional, default to 1.0E-6) – Error tolerence.</p></li></ul></li></ul><h4 id=create_jobsjob_handler-deltas-q_dir_formatqpoint_03d-delta_formatfunction-format_delta_dirname-measurement_labelfunction-format_measurement_label-jobname_prefix-config_filefinite_displacementsyml-fdseries_filenamefdserieshdf5-lid_filenameloneqid_fphdf5-appendfalse-dry_runfalse>create_jobs(job_handler, deltas, Q_dir_format=&lsquo;Qpoint_{:>03d}&rsquo;, delta_format=<function format_delta_dirname>, measurement_label=<function format_measurement_label>, jobname_prefix=&rsquo;&rsquo;, config_file=&lsquo;finite_displacements.yml&rsquo;, fdseries_filename=&lsquo;fdseries.hdf5&rsquo;, lid_filename=&lsquo;loneqID_fp.hdf5&rsquo;, append=False, dry_run=False)<a class=td-heading-self-link href=#create_jobsjob_handler-deltas-q_dir_formatqpoint_03d-delta_formatfunction-format_delta_dirname-measurement_labelfunction-format_measurement_label-jobname_prefix-config_filefinite_displacementsyml-fdseries_filenamefdserieshdf5-lid_filenameloneqid_fphdf5-appendfalse-dry_runfalse aria-label="Heading self-link"></a></h4><p>Create jobs for LID calculations for the irreducible Q-points.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>job_handler</strong> (<a href=/docs/references/principia_materia.io_interface.compute_job_series.html#principia_materia.io_interface.compute_job_series.ComputeJobSeries>ComputeJobSeries</a> or <a href=/docs/references/principia_materia.io_interface.jobs_db.html#principia_materia.io_interface.jobs_db.JobsDB>JobsDB</a>) – Either a ComputeJobSeries or a JobsDB object as the interface to the jobs.</p></li><li><p><strong>deltas</strong> (list of numbers, list of arrays, 1-d or 2-d array) – Displacement amplitude.
Can take following types:</p></li></ul><blockquote><pre><code>1. a number, will be broadcast into a shape(n_measurements, 1) array.
</code></pre></blockquote><blockquote><pre><code>2. an 1-d array of length N, will be broadcast into a shape(n_measurements, N) array.
</code></pre></blockquote><blockquote><pre><code>3. a 2-d array of shape(n_measurements, N).
</code></pre></blockquote><ul><li><p><strong>Q_dir_format</strong> (str, optional, default to &ldquo;Qpoint_{:>03d}&rdquo;) – The format of directory name representing a Q-point.</p></li><li><p><strong>delta_format</strong> (callable, optional, default to function: format_delta_dirname.) – A function that format a delta into a string for directory name.
Must be in form of <code>def function(delta, ...): ...</code>.</p></li><li><p><strong>measurement_label</strong> (callable, optioal, default to function: format_measurement_label.) – A function the format a measurement index into a measurement label string.</p></li><li><p><strong>jobname_prefix</strong> (str) – Prefix for jobnames.</p></li><li><p><strong>config_file</strong> (str, optional, default to &ldquo;finite_displacements.yml&rdquo;) – The name of the finite displacements configuration file.</p></li><li><p><strong>fdseries_filename</strong> (str, optional, default to &ldquo;fdseries.hdf5&rdquo;) – The name of the FDSeries data file to store finite displacement information.</p></li><li><p><strong>lid_filename</strong> (str, optional, default to &ldquo;loneqID_fp.hdf5&rdquo;) – The name of HDF5 file to save LID data into.</p></li><li><p><strong>dry_run</strong> (bool, optional, default to False) – If True, don’t actually create the job.</p></li></ul></li></ul><h4 id=get_dynamic_tensors>get_dynamic_tensors()<a class=td-heading-self-link href=#get_dynamic_tensors aria-label="Heading self-link"></a></h4><p>Compute irreducible derivatives and construct dynamic tensors of irreducible Q-points.</p><ul><li><p><strong>Returns</strong></p><p><strong>dynamic_tensors</strong> – The dynamic tensors of irreducible Q-points.</p></li><li><p><strong>Return type</strong></p><p>array of complex, shape(N irreducible Q-points, norbitals, …)</p></li></ul><h4 id=get_fourier_interpolation>get_fourier_interpolation()<a class=td-heading-self-link href=#get_fourier_interpolation aria-label="Heading self-link"></a></h4><p>Construct the FourierInterpolation object from dynamic tensors of irreducible Q-points.</p><ul><li><p><strong>Returns</strong></p><p><strong>fourier_interpolation</strong> – A FourierInterpolation object.</p></li><li><p><strong>Return type</strong></p><p><a href=/docs/references/principia_materia.phonon_id.fourier_interpolation.html#principia_materia.phonon_id.fourier_interpolation.FourierInterpolation>FourierInterpolation</a></p></li></ul><h4 id=get_irreducible_derivative_names>get_irreducible_derivative_names()<a class=td-heading-self-link href=#get_irreducible_derivative_names aria-label="Heading self-link"></a></h4><h4 id=get_irreducible_derivatives>get_irreducible_derivatives()<a class=td-heading-self-link href=#get_irreducible_derivatives aria-label="Heading self-link"></a></h4><h4 id=_property_-irreducible_derivatives><em>property</em> irreducible_derivatives()<a class=td-heading-self-link href=#_property_-irreducible_derivatives aria-label="Heading self-link"></a></h4><h4 id=load_lidroot_directory-lid_filenameloneqid_fphdf5-fdseries_filenamefdserieshdf5>load_lid(root_directory, lid_filename=&lsquo;loneqID_fp.hdf5&rsquo;, fdseries_filename=&lsquo;fdseries.hdf5&rsquo;)<a class=td-heading-self-link href=#load_lidroot_directory-lid_filenameloneqid_fphdf5-fdseries_filenamefdserieshdf5 aria-label="Heading self-link"></a></h4><p>Load LID objects from HDF5 files.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>root_directory</strong> (str) – The root directory of the LIDMesh jobs.</p></li><li><p><strong>lid_filename</strong> (str, optional, default to &ldquo;loneqID_fp.hdf5&rdquo;) – The name of HDF5 file to save LID data into.</p></li><li><p><strong>fdseries_filename</strong> (str, optional, default to &ldquo;fdseries.hdf5&rdquo;) – The name of the FDSeries data file to store finite displacement information.</p></li></ul></li></ul><h4 id=set_errortail_resultspick_min3-pick_maxnone-consecutivefalse-penaltyfunction-penalty_linear_mse-separate_complextrue-outputnone-overwritetrue>set_errortail_results(pick_min=3, pick_max=None, consecutive=False, penalty=<function penalty_linear_mse>, separate_complex=True, output=None, overwrite=True)<a class=td-heading-self-link href=#set_errortail_resultspick_min3-pick_maxnone-consecutivefalse-penaltyfunction-penalty_linear_mse-separate_complextrue-outputnone-overwritetrue aria-label="Heading self-link"></a></h4><p>Compute error tail for the FrozenPhonons result.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>pick_min</strong> (int, optional, default to 3) – The minimum number of picks for delta selection.</p></li><li><p><strong>pick_max</strong> (int, optional, default to None) – The maximum number of picks for delta selection.
If None, the pick n scheme is used with n=pick_min.
If not None, the pick N schcme is used with N=[pick_min, pick_max].</p></li><li><p><strong>consecutive</strong> (bool, optional, default to False) – Whether to pick consecutive deltas in the picking process.</p></li><li><p><strong>penalty</strong> (callable, optional, default to penalty_linear_mse) – The penalty function to determine the best fit.</p></li><li><p><strong>separate_complex</strong> (bool, optional, default to False) – Whether to fit real and imaginary part of the complex data points
separetely.</p></li><li><p><strong>output</strong> (str, optional, default to None) – Path of the output file.
If not None, save the output of errortail fit to the file.</p></li></ul></li></ul><h4 id=set_lid>set_lid()<a class=td-heading-self-link href=#set_lid aria-label="Heading self-link"></a></h4><p>Construct LID objects for irreducible Q-points.</p><h4 id=set_resultsjob_handler-data_type-fill00-config_filefinite_displacementsyml>set_results(job_handler, data_type, fill=0.0, config_file=&lsquo;finite_displacements.yml&rsquo;)<a class=td-heading-self-link href=#set_resultsjob_handler-data_type-fill00-config_filefinite_displacementsyml aria-label="Heading self-link"></a></h4><p>Get finite displacements results from calculations.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>job_handler</strong> (<a href=/docs/references/principia_materia.io_interface.compute_job_series.html#principia_materia.io_interface.compute_job_series.ComputeJobSeries>ComputeJobSeries</a> or <a href=/docs/references/principia_materia.io_interface.jobs_db.html#principia_materia.io_interface.jobs_db.JobsDB>JobsDB</a>) – Either a ComputeJobSeries or a JobsDB object as the interface to the jobs.</p></li><li><p><strong>data_type</strong> (str, choices of &ldquo;forces&rdquo; and &ldquo;energy&rdquo;) – Type of data to read from compute jobs.</p></li><li><p><strong>config_file</strong> (str, optional, default to &ldquo;finite_displacements.yml&rdquo;) – The name of the finite displacements configuration file.</p></li></ul></li></ul><h3 id=principia_materiaphonon_idlid_meshget_lidmesh_config_wrappertitlelid-mesh-configuration>principia_materia.phonon_id.lid_mesh.get_LIDMesh_config_wrapper(title=&lsquo;LID Mesh Configuration&rsquo;)<a class=td-heading-self-link href=#principia_materiaphonon_idlid_meshget_lidmesh_config_wrappertitlelid-mesh-configuration aria-label="Heading self-link"></a></h3><p>YAML data wrapper for LIDMesh configurations.</p><h3 id=principia_materiaphonon_idlid_meshget_lidmesh_from_hdf5h5file-tol1e-06>principia_materia.phonon_id.lid_mesh.get_LIDMesh_from_hdf5(h5file, tol=1e-06)<a class=td-heading-self-link href=#principia_materiaphonon_idlid_meshget_lidmesh_from_hdf5h5file-tol1e-06 aria-label="Heading self-link"></a></h3><h3 id=principia_materiaphonon_idlid_meshget_lidmesh_from_yamlfilename-tol1e-06>principia_materia.phonon_id.lid_mesh.get_LIDMesh_from_yaml(filename, tol=1e-06)<a class=td-heading-self-link href=#principia_materiaphonon_idlid_meshget_lidmesh_from_yamlfilename-tol1e-06 aria-label="Heading self-link"></a></h3><h3 id=principia_materiaphonon_idlid_meshget_lidmesh_hdf5_wrapper>principia_materia.phonon_id.lid_mesh.get_LIDMesh_hdf5_wrapper()<a class=td-heading-self-link href=#principia_materiaphonon_idlid_meshget_lidmesh_hdf5_wrapper aria-label="Heading self-link"></a></h3><p>HDF5 data wrapper for LIDMesh configurations.</p><h3 id=principia_materiaphonon_idlid_meshsave_lidmesh_to_hdf5obj-h5filelid_meshhdf5-overwritefalse>principia_materia.phonon_id.lid_mesh.save_LIDMesh_to_hdf5(obj, h5file=&lsquo;lid_mesh.hdf5&rsquo;, overwrite=False)<a class=td-heading-self-link href=#principia_materiaphonon_idlid_meshsave_lidmesh_to_hdf5obj-h5filelid_meshhdf5-overwritefalse aria-label="Heading self-link"></a></h3><h3 id=principia_materiaphonon_idlid_meshsave_lidmesh_to_yamlobj-filenamelid_meshyml-overwritefalse>principia_materia.phonon_id.lid_mesh.save_LIDMesh_to_yaml(obj, filename=&lsquo;lid_mesh.yml&rsquo;, overwrite=False)<a class=td-heading-self-link href=#principia_materiaphonon_idlid_meshsave_lidmesh_to_yamlobj-filenamelid_meshyml-overwritefalse aria-label="Heading self-link"></a></h3></div><div class=td-content style=page-break-before:always><h1 id=pg-5e1768243aa6f2a3b5a7fba2e3baaa92>8.56 - Module principia_materia.phonon_id.little_group_adt</h1><div class=lead>Module principia_materia.phonon_id.little_group_adt</div><h1 id=principia_materiaphonon_idlittle_group_adt-module>principia_materia.phonon_id.little_group_adt module<a class=td-heading-self-link href=#principia_materiaphonon_idlittle_group_adt-module aria-label="Heading self-link"></a></h1><h3 id=_class_-principia_materiaphonon_idlittle_group_adtlittlegroupadtstructure-pg-qpoint-tol1e-06><em>class</em> principia_materia.phonon_id.little_group_adt.LittleGroupADT(structure, pg, Qpoint, tol=1e-06)<a class=td-heading-self-link href=#_class_-principia_materiaphonon_idlittle_group_adtlittlegroupadtstructure-pg-qpoint-tol1e-06 aria-label="Heading self-link"></a></h3><p>Bases: <a href=/docs/references/principia_materia.phonon_id.analytic_dynamic_tensor.html#principia_materia.phonon_id.analytic_dynamic_tensor.AnalyticDynamicTensor><code>AnalyticDynamicTensor</code></a></p><p>Little group analytic representation of dynamic tensor under group theory.</p><p>It works under the little group scheme, which is the point group that only maps each q in Q-set
into itself. Then it uses this little group to find the irrep decomposition of each q, perform
symmetric product and for the ones that contain identity, find the coefficients in the expansion
in terms of symmetric basis products. The symmetric basis vectors will be later used for rotating
the tensor from symmetric basis to naive basis.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>structure</strong> (CrystalFTG object or a structure file of <a href=/docs/references/principia_materia.translation_group.crystal_ftg.html#principia_materia.translation_group.crystal_ftg.CrystalFTG>CrystalFTG</a>) – The crystal structure.</p></li><li><p><strong>pg</strong> (str or PointGroup object) – The point group.</p></li><li><p><strong>Qpoint</strong> (array of Fraction or a <code>parse_array</code> supported Fraction array.) – The Q-point</p></li><li><p><strong>tol</strong> (float, optional, default to 1.0E-6) – Error tolerence.</p></li></ul></li></ul><h4 id=set_irreducible_derivativesconjugatefalse>set_irreducible_derivatives(conjugate=False)<a class=td-heading-self-link href=#set_irreducible_derivativesconjugatefalse aria-label="Heading self-link"></a></h4><p>The irreducible derivatives is constructued as well as the coefficients for them in the symmetrized basis.</p><h4 id=set_qpoint_displacement_rep>set_qpoint_displacement_rep()<a class=td-heading-self-link href=#set_qpoint_displacement_rep aria-label="Heading self-link"></a></h4><p>Find all irreducible derivatives allowed in the given Qpoint and PointGroup.</p><h3 id=principia_materiaphonon_idlittle_group_adtget_littlegroupadt_from_hdf5h5file-tol1e-06>principia_materia.phonon_id.little_group_adt.get_LittleGroupADT_from_hdf5(h5file, tol=1e-06)<a class=td-heading-self-link href=#principia_materiaphonon_idlittle_group_adtget_littlegroupadt_from_hdf5h5file-tol1e-06 aria-label="Heading self-link"></a></h3><p>Read data from HDF5 file and construct a LittleGroupADT object.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>h5file</strong> (str or h5py.File/h5py.Group obejct) – Path to a HDF5 file or a h5py.File/h5py.Group object.</p></li><li><p><strong>tol</strong> (float, optional, default to 1.0E-6) – Error tolerance to use when constructing the LittleGroupADT object.</p></li></ul></li></ul><h3 id=principia_materiaphonon_idlittle_group_adtinverse_qpointqpoint>principia_materia.phonon_id.little_group_adt.inverse_qpoint(qpoint)<a class=td-heading-self-link href=#principia_materiaphonon_idlittle_group_adtinverse_qpointqpoint aria-label="Heading self-link"></a></h3><h3 id=principia_materiaphonon_idlittle_group_adtsave_littlegroupadt_to_hdf5obj-h5filelittle_group_adthdf5-overwritefalse>principia_materia.phonon_id.little_group_adt.save_LittleGroupADT_to_hdf5(obj, h5file=&lsquo;little_group_adt.hdf5&rsquo;, overwrite=False)<a class=td-heading-self-link href=#principia_materiaphonon_idlittle_group_adtsave_littlegroupadt_to_hdf5obj-h5filelittle_group_adthdf5-overwritefalse aria-label="Heading self-link"></a></h3><p>Save data of a LittleGroupADT object into a HDF5 file.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>obj</strong> (LittleGroupADT) – A LittleGroupADT object.</p></li><li><p><strong>h5file</strong> (str or h5py.File/h5py.Group obejct, optional, default to &ldquo;little_group_adt.hdf5&rdquo;) – Path to a HDF5 file or a h5py.File/h5py.Group object.</p></li><li><p><strong>overwrite</strong> (bool, optional, default to False) – When the file exists, whether to replace the content of the file
with the content to be saved.</p></li></ul></li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-1ab6f043b710d1b7219999ad728aec11>8.57 - Module principia_materia.phonon_id.phonon_db</h1><div class=lead>Module principia_materia.phonon_id.phonon_db</div><h1 id=principia_materiaphonon_idphonon_db-module>principia_materia.phonon_id.phonon_db module<a class=td-heading-self-link href=#principia_materiaphonon_idphonon_db-module aria-label="Heading self-link"></a></h1><h3 id=principia_materiaphonon_idphonon_dbcreate_bid_tabledb-table-existstrue>principia_materia.phonon_id.phonon_db.create_BID_table(db, table, exists=True)<a class=td-heading-self-link href=#principia_materiaphonon_idphonon_dbcreate_bid_tabledb-table-existstrue aria-label="Heading self-link"></a></h3><h3 id=principia_materiaphonon_idphonon_dbcreate_lid_tabledb-table-existstrue>principia_materia.phonon_id.phonon_db.create_LID_table(db, table, exists=True)<a class=td-heading-self-link href=#principia_materiaphonon_idphonon_dbcreate_lid_tabledb-table-existstrue aria-label="Heading self-link"></a></h3><h3 id=principia_materiaphonon_idphonon_dbcreate_metadata_tabledb-table-existstrue>principia_materia.phonon_id.phonon_db.create_metadata_table(db, table, exists=True)<a class=td-heading-self-link href=#principia_materiaphonon_idphonon_dbcreate_metadata_tabledb-table-existstrue aria-label="Heading self-link"></a></h3><h3 id=principia_materiaphonon_idphonon_dbcreate_strain_tabledb-table-existstrue>principia_materia.phonon_id.phonon_db.create_strain_table(db, table, exists=True)<a class=td-heading-self-link href=#principia_materiaphonon_idphonon_dbcreate_strain_tabledb-table-existstrue aria-label="Heading self-link"></a></h3></div><div class=td-content style=page-break-before:always><h1 id=pg-e8c2866c58e3a6e6e9ce3267038db7c0>8.58 - Module principia_materia.phonon_id.phonon_report_util</h1><div class=lead>Module principia_materia.phonon_id.phonon_report_util</div><h1 id=principia_materiaphonon_idphonon_report_util-module>principia_materia.phonon_id.phonon_report_util module<a class=td-heading-self-link href=#principia_materiaphonon_idphonon_report_util-module aria-label="Heading self-link"></a></h1><h3 id=principia_materiaphonon_idphonon_report_utilsummarize_bidinp-include_titletrue-include_structuretrue-include_pgtrue>principia_materia.phonon_id.phonon_report_util.summarize_bid(inp, include_title=True, include_structure=True, include_pg=True)<a class=td-heading-self-link href=#principia_materiaphonon_idphonon_report_utilsummarize_bidinp-include_titletrue-include_structuretrue-include_pgtrue aria-label="Heading self-link"></a></h3><h3 id=principia_materiaphonon_idphonon_report_utilsummarize_hsbidinp>principia_materia.phonon_id.phonon_report_util.summarize_hsbid(inp)<a class=td-heading-self-link href=#principia_materiaphonon_idphonon_report_utilsummarize_hsbidinp aria-label="Heading self-link"></a></h3><h3 id=principia_materiaphonon_idphonon_report_utilsummarize_lidinp-include_titletrue-include_structuretrue-include_pgtrue>principia_materia.phonon_id.phonon_report_util.summarize_lid(inp, include_title=True, include_structure=True, include_pg=True)<a class=td-heading-self-link href=#principia_materiaphonon_idphonon_report_utilsummarize_lidinp-include_titletrue-include_structuretrue-include_pgtrue aria-label="Heading self-link"></a></h3><h3 id=principia_materiaphonon_idphonon_report_utilsummarize_lid_meshinp>principia_materia.phonon_id.phonon_report_util.summarize_lid_mesh(inp)<a class=td-heading-self-link href=#principia_materiaphonon_idphonon_report_utilsummarize_lid_meshinp aria-label="Heading self-link"></a></h3><h3 id=principia_materiaphonon_idphonon_report_utilsummarize_structurestructure>principia_materia.phonon_id.phonon_report_util.summarize_structure(structure)<a class=td-heading-self-link href=#principia_materiaphonon_idphonon_report_utilsummarize_structurestructure aria-label="Heading self-link"></a></h3></div><div class=td-content style=page-break-before:always><h1 id=pg-cee5ea8a7fcae0122781267dd421c9b2>8.59 - Module principia_materia.phonon_id.phonon_tools</h1><div class=lead>Module principia_materia.phonon_id.phonon_tools</div><h1 id=principia_materiaphonon_idphonon_tools-module>principia_materia.phonon_id.phonon_tools module<a class=td-heading-self-link href=#principia_materiaphonon_idphonon_tools-module aria-label="Heading self-link"></a></h1><h3 id=principia_materiaphonon_idphonon_toolsadjust_eigenvectors_subspacemat-frequencies-eigenvectors-tol00001>principia_materia.phonon_id.phonon_tools.adjust_eigenvectors_subspace(mat, frequencies, eigenvectors, tol=0.0001)<a class=td-heading-self-link href=#principia_materiaphonon_idphonon_toolsadjust_eigenvectors_subspacemat-frequencies-eigenvectors-tol00001 aria-label="Heading self-link"></a></h3><p>Adjust eigenvectors in degerate subspace based on the input matrices.</p><p>It picks the eigenvectors in the frequency degenarete subspace so that the
sub-matrix of <code>mat</code> can be diagonalized by the eigenvectors as well.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>mat</strong> (array of complex, shape(nq, nband, nband)) – Matrices the adjustments of eigenvectors are based on.
Renormalized with mass.</p></li><li><p><strong>frequencies</strong> (array of float, shape(nq, nband)) – Phonon frequencies, the subspace of eigenvectors are based on the
degenracy of the phonon frequencies.</p></li><li><p><strong>eigenvectors</strong> (array of complex, shape(nq, nband, nband)) – Phonon eigenvectors.</p></li><li><p><strong>tol</strong> (float, optional, default to 1.0E-4) – Tolerance threshold.</p></li></ul></li><li><p><strong>Returns</strong></p><p><strong>adjusted_eigenvectors</strong> – Ajusted eigenvectors.</p></li><li><p><strong>Return type</strong></p><p>array of complex, shape(nq, nband, nband)</p></li></ul><h3 id=principia_materiaphonon_idphonon_toolscompute_eigenvaluesdq-mass_matrix-uplol-decimal8>principia_materia.phonon_id.phonon_tools.compute_eigenvalues(dq, mass_matrix, UPLO=&lsquo;L&rsquo;, decimal=8)<a class=td-heading-self-link href=#principia_materiaphonon_idphonon_toolscompute_eigenvaluesdq-mass_matrix-uplol-decimal8 aria-label="Heading self-link"></a></h3><p>Just find the eigenvalues and eigenvectors of Dq with mass matrix.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>dq</strong> (array of complex, shape (nband, nband) or (nq, nband, nband)) – Dynamic matrix or an array of dynamic matrices.</p></li><li><p><strong>mass_matrix</strong> (array of float, shape (nband, ) or (nband, nband)) – Mass matrix.
(either mass_matrix or structure need to be present to compute phonon)</p></li><li><p><strong>UPLO</strong> (&lsquo;L&rsquo; or &lsquo;U&rsquo;, optional, default to &lsquo;L&rsquo;) – Use either lower or upper triangular of the Hermetian matrix.</p></li><li><p><strong>decimal</strong> (int, optional, default to 8) – Decimal points of the precision.</p></li></ul></li><li><p><strong>Returns</strong></p><ul><li><p><strong>evals</strong> (<em>array of float, shape (nband, ) or (nq, nband)</em>) – Eigenvalues of dynamic matrices.</p></li><li><p><strong>evecs</strong> (<em>array of complex, shape (nband, nband) or (nq, nband, nband)</em>) – Phonon eigenvectors.</p></li></ul></li></ul><h3 id=principia_materiaphonon_idphonon_toolscompute_phonon_frequencies_from_eigenvaluesevals-unitscm-1>principia_materia.phonon_id.phonon_tools.compute_phonon_frequencies_from_eigenvalues(evals, units=&lsquo;cm-1&rsquo;)<a class=td-heading-self-link href=#principia_materiaphonon_idphonon_toolscompute_phonon_frequencies_from_eigenvaluesevals-unitscm-1 aria-label="Heading self-link"></a></h3><p>Compute phonon frequencies from eigenvalues.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>evals</strong> (array of float, shape (nband, ) or (nq, nband)) – Eigenvalues of dynamic matrices.</p></li><li><p><strong>units</strong> (str, optional, default to &lsquo;cm-1&rsquo;) – Unit of phonon frequencies</p></li></ul></li><li><p><strong>Returns</strong></p><p><strong>freqs</strong> – Phonon frequencies.</p></li><li><p><strong>Return type</strong></p><p>array of float, shape (nband, ) or (nq, nband)</p></li></ul><h3 id=principia_materiaphonon_idphonon_toolscompute_phononsdq-mass_matrixnone-structurenone-unitscm-1-uplol-decimal8>principia_materia.phonon_id.phonon_tools.compute_phonons(dq, mass_matrix=None, structure=None, units=&lsquo;cm-1&rsquo;, UPLO=&lsquo;L&rsquo;, decimal=8)<a class=td-heading-self-link href=#principia_materiaphonon_idphonon_toolscompute_phononsdq-mass_matrixnone-structurenone-unitscm-1-uplol-decimal8 aria-label="Heading self-link"></a></h3><p>Compute phonon and eigenvectors for given structure, dynamic matrices and units.</p><p>It is using the following formula:</p><p>$$
\hat{M}^{-\frac{1}{2}} \hat{D_q} \hat{M}^{-\frac{1}{2}} \vec{S} = \omega^2 \vec{S}
$$
This class also support diagonalization and unit adjustments for an array of dynamic matrices.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>dq</strong> (array of complex, shape (nband, nband) or (nq, nband, nband)) – Dynamic matrix or an array of dynamic matrices.</p></li><li><p><strong>mass_matrix</strong> (array of float, shape (nband, ) or (nband, nband)) – Mass matrix.
(either mass_matrix or structure need to be present to compute phonon)</p></li><li><p><strong>structure</strong> (str or CrystalFTG instance) – Path to the CrystalFTG structure file or a CrystalFTG instance.</p></li><li><p><strong>units</strong> (str, optional, default to &lsquo;cm-1&rsquo;) – Unit of phonon frequencies</p></li><li><p><strong>UPLO</strong> (&lsquo;L&rsquo; or &lsquo;U&rsquo;, optional, default to &lsquo;L&rsquo;) – Use either lower or upper triangular of the Hermetian matrix.</p></li><li><p><strong>decimal</strong> (int, optional, default to 8) – Decimal points of the precision.</p></li></ul></li><li><p><strong>Returns</strong></p><ul><li><p><strong>freqs</strong> (<em>array of float, shape (nband, ) or (nq, nband)</em>) – Phonon frequencies.</p></li><li><p><strong>evecs</strong> (<em>array of complex, shape (nband, nband) or (nq, nband, nband)</em>) – Phonon eigenvectors.</p></li></ul></li></ul><h3 id=principia_materiaphonon_idphonon_toolsfind_degenerate_frequenciesfrequencies-tol00001>principia_materia.phonon_id.phonon_tools.find_degenerate_frequencies(frequencies, tol=0.0001)<a class=td-heading-self-link href=#principia_materiaphonon_idphonon_toolsfind_degenerate_frequenciesfrequencies-tol00001 aria-label="Heading self-link"></a></h3><p>Find degerate sets of frequencies.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>frequencies</strong> (array of float, shape(nq, nband)) – Phonon frequencies.</p></li><li><p><strong>tol</strong> (float, optional, default to 1.0E-4) – Tolerance threshold.</p></li></ul></li><li><p><strong>Returns</strong></p><p><strong>degenerate_indicies</strong> – Index of degenerate indices of the frequencies grouped into list of lists.</p></li><li><p><strong>Return type</strong></p><p>list of lists of integers</p></li></ul><h3 id=principia_materiaphonon_idphonon_toolsget_mass_matrixstructure>principia_materia.phonon_id.phonon_tools.get_mass_matrix(structure)<a class=td-heading-self-link href=#principia_materiaphonon_idphonon_toolsget_mass_matrixstructure aria-label="Heading self-link"></a></h3><p>Compute mass matrix from given structure.</p><ul><li><p><strong>Parameters</strong></p><p><strong>structure</strong> (str or CrystalFTG instance) – Path to the CrystalFTG structure file or a CrystalFTG instance.</p></li><li><p><strong>Returns</strong></p><p><strong>mass_matrix</strong> – Mass matrix.</p></li><li><p><strong>Return type</strong></p><p>array of float, shape (nband, nband)</p></li></ul><h3 id=principia_materiaphonon_idphonon_toolsmultiply_mass_matrixdq-mass_matrix>principia_materia.phonon_id.phonon_tools.multiply_mass_matrix(dq, mass_matrix)<a class=td-heading-self-link href=#principia_materiaphonon_idphonon_toolsmultiply_mass_matrixdq-mass_matrix aria-label="Heading self-link"></a></h3><p>Multiply mass matrix to dynamic matrices.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>dq</strong> (array of complex, shape (nband, nband) or (nq, nband, nband)) – Dynamic matrices.</p></li><li><p><strong>mass_matrix</strong> (array of float, shape (nband, ) or (nband, nband)) – Mass matrix.
(either mass_matrix or structure need to be present to compute phonon)</p></li></ul></li><li><p><strong>Returns</strong></p><p><strong>dq</strong> – Mass renormalized dynamic matrices.</p></li><li><p><strong>Return type</strong></p><p>array of complex, shape (nband, nband) or (nq, nband, nband)</p></li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-03ff6bffbe9cd431b0fd43a94625cbad>8.60 - Module principia_materia.phonon_id.strained_finite_displacements</h1><div class=lead>Module principia_materia.phonon_id.strained_finite_displacements</div><h1 id=principia_materiaphonon_idstrained_finite_displacements-module>principia_materia.phonon_id.strained_finite_displacements module<a class=td-heading-self-link href=#principia_materiaphonon_idstrained_finite_displacements-module aria-label="Heading self-link"></a></h1><h3 id=_class_-principia_materiaphonon_idstrained_finite_displacementsstrainedfinitedisplacementsstructure-supa-fdtypec-tol1e-06><em>class</em> principia_materia.phonon_id.strained_finite_displacements.StrainedFiniteDisplacements(structure, supa, fdtype=&lsquo;c&rsquo;, tol=1e-06)<a class=td-heading-self-link href=#_class_-principia_materiaphonon_idstrained_finite_displacementsstrainedfinitedisplacementsstructure-supa-fdtypec-tol1e-06 aria-label="Heading self-link"></a></h3><p>Bases: <a href=/docs/references/principia_materia.phonon_id.finite_displacements.html#principia_materia.phonon_id.finite_displacements.FiniteDisplacements><code>FiniteDisplacements</code></a></p><p>Compute finite difference of strain and displacements.</p><p>The class is capable of compute strain derivatives without atomic displacements,
as well as derivatives of atomic displacements without strains.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>structure</strong> (CrystalFTG object or a structure file of <a href=/docs/references/principia_materia.translation_group.crystal_ftg.html#principia_materia.translation_group.crystal_ftg.CrystalFTG>CrystalFTG</a>) – The crystal structure.</p></li><li><p><strong>supa</strong> (array of int, shape(dim, dim)) – Supercell matrix.</p></li><li><p><strong>fdtype</strong> (str, choice of [&ldquo;c&rdquo;, &ldquo;f&rdquo;, &ldquo;b&rdquo;]) – Type of finite displacement.</p></li><li><p><strong>tol</strong> (float, optional, default to 1.0E-6) – Error tolerence.</p></li></ul></li></ul><h4 id=create_jobsjob_handler-prefixnone-config_filestrained_finite_displacementsyml-appendfalse-dry_runfalse>create_jobs(job_handler, prefix=None, config_file=&lsquo;strained_finite_displacements.yml&rsquo;, append=False, dry_run=False)<a class=td-heading-self-link href=#create_jobsjob_handler-prefixnone-config_filestrained_finite_displacementsyml-appendfalse-dry_runfalse aria-label="Heading self-link"></a></h4><p>Create compute jobs for the finite displacements calculations.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>job_handler</strong> (<a href=/docs/references/principia_materia.io_interface.compute_job_series.html#principia_materia.io_interface.compute_job_series.ComputeJobSeries>ComputeJobSeries</a> or <a href=/docs/references/principia_materia.io_interface.jobs_db.html#principia_materia.io_interface.jobs_db.JobsDB>JobsDB</a>) – The interface to create and collect result from compute jobs or a database.</p></li><li><p><strong>prefix</strong> (str, optional, default to None) – Prefix to the jobnames.</p></li><li><p><strong>config_file</strong> (str, optional, default to &ldquo;finite_displacements.yml&rdquo;) – The name of the finite displacements configuration file.</p></li><li><p><strong>dry_run</strong> (bool, optional, default to False) – If True, don’t actually create the job.</p></li></ul></li></ul><h4 id=_property_-delta><em>property</em> delta()<a class=td-heading-self-link href=#_property_-delta aria-label="Heading self-link"></a></h4><p>The displacement amplitutes.</p><h4 id=_property_-get_jobname><em>property</em> get_jobname()<a class=td-heading-self-link href=#_property_-get_jobname aria-label="Heading self-link"></a></h4><p>Return a jobname template function.</p><p>If attribute “_jobname_template” is set, return the value in the attribute,
otherwise, return the default template.</p><h4 id=_property_-order><em>property</em> order()<a class=td-heading-self-link href=#_property_-order aria-label="Heading self-link"></a></h4><h4 id=set_deltadelta>set_delta(delta)<a class=td-heading-self-link href=#set_deltadelta aria-label="Heading self-link"></a></h4><p>Set the deltas to compute for the finite displacements calculations.</p><ul><li><p><strong>Parameters</strong></p><p><strong>delta</strong> (float or array of float) – The displacement amplitute.</p></li></ul><h4 id=set_displacement_vectorsdispvecs-displabels-ordernone>set_displacement_vectors(dispvecs, displabels, order=None)<a class=td-heading-self-link href=#set_displacement_vectorsdispvecs-displabels-ordernone aria-label="Heading self-link"></a></h4><p>Setup displacement vectors for the finite displacement calculation.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>dispvecs</strong> (array of float, shape(N, natoms, dim)) – Displacement vectors.</p></li><li><p><strong>displabels</strong> (list, lenth of N) – The name of the displacements.</p></li><li><p><strong>order</strong> (tuple of int, length of N) – The order of derivatives.</p></li></ul></li></ul><h4 id=set_finite_differenceoverwritefalse>set_finite_difference(overwrite=False)<a class=td-heading-self-link href=#set_finite_differenceoverwritefalse aria-label="Heading self-link"></a></h4><p>Initialize the finite difference object.</p><h4 id=set_jobname_templatetemplate>set_jobname_template(template)<a class=td-heading-self-link href=#set_jobname_templatetemplate aria-label="Heading self-link"></a></h4><p>Set custom jobname template</p><p>Must be def template(job_id, prefix, index_pad): …</p><ul><li><p><strong>Parameters</strong></p><p><strong>template</strong> (callable, with parameters (job_id, prefix, index_pad)) – The jobname template function.</p></li></ul><h4 id=set_jobsjobname_prefix-skip_zerotrue>set_jobs(jobname_prefix=&rsquo;&rsquo;, skip_zero=True)<a class=td-heading-self-link href=#set_jobsjobname_prefix-skip_zerotrue aria-label="Heading self-link"></a></h4><ul><li><p><strong>Parameters</strong></p><p><strong>jobname_prefix</strong> (str) – Prefix for jobnames.</p></li></ul><h4 id=set_strainstrain-strain_ordersnone>set_strain(strain, strain_orders=None)<a class=td-heading-self-link href=#set_strainstrain-strain_ordersnone aria-label="Heading self-link"></a></h4><p>Set strain basis and derivative order of each basis.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>strain</strong> (array of float)</p></li><li><p><strong>strain_orders</strong> (int or array of int)</p></li></ul></li></ul><h4 id=set_strain_deltastrain_delta>set_strain_delta(strain_delta)<a class=td-heading-self-link href=#set_strain_deltastrain_delta aria-label="Heading self-link"></a></h4><p>Set the perturbation amplitudes to compute strain derivatives.</p><ul><li><p><strong>Parameters</strong></p><p><strong>strain_delta</strong> (float or array of float)</p></li></ul><h4 id=set_strain_internal_displacementsstrains-internal_displacements>set_strain_internal_displacements(strains, internal_displacements)<a class=td-heading-self-link href=#set_strain_internal_displacementsstrains-internal_displacements aria-label="Heading self-link"></a></h4><h4 id=_property_-strain_delta><em>property</em> strain_delta()<a class=td-heading-self-link href=#_property_-strain_delta aria-label="Heading self-link"></a></h4><h4 id=_property_-uniq_strains><em>property</em> uniq_strains()<a class=td-heading-self-link href=#_property_-uniq_strains aria-label="Heading self-link"></a></h4><h3 id=principia_materiaphonon_idstrained_finite_displacementsget_strainedfd_from_configurationconfig_file-file_typeyaml-tol1e-06>principia_materia.phonon_id.strained_finite_displacements.get_StrainedFD_from_configuration(config_file, file_type=&lsquo;yaml&rsquo;, tol=1e-06)<a class=td-heading-self-link href=#principia_materiaphonon_idstrained_finite_displacementsget_strainedfd_from_configurationconfig_file-file_typeyaml-tol1e-06 aria-label="Heading self-link"></a></h3><p>Read data from configuration file and construct a StrainedFiniteDisplacements object.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>config_file</strong> (str) – Path to configuration file.</p></li><li><p><strong>file_type</strong> (str, optional, default to &ldquo;yaml&rdquo;) – The type of the configuration file.</p></li><li><p><strong>tol</strong> (float, optional, default to 1.0E-6) – Error tolerance.</p></li></ul></li></ul><h3 id=principia_materiaphonon_idstrained_finite_displacementsget_strain_fd_config_hdf5_wrapper>principia_materia.phonon_id.strained_finite_displacements.get_strain_fd_config_hdf5_wrapper()<a class=td-heading-self-link href=#principia_materiaphonon_idstrained_finite_displacementsget_strain_fd_config_hdf5_wrapper aria-label="Heading self-link"></a></h3><h3 id=principia_materiaphonon_idstrained_finite_displacementsget_strain_fd_config_yaml_wrappertitlestrained-finite-displacements-configuration>principia_materia.phonon_id.strained_finite_displacements.get_strain_fd_config_yaml_wrapper(title=&lsquo;Strained Finite Displacements Configuration&rsquo;)<a class=td-heading-self-link href=#principia_materiaphonon_idstrained_finite_displacementsget_strain_fd_config_yaml_wrappertitlestrained-finite-displacements-configuration aria-label="Heading self-link"></a></h3><h3 id=principia_materiaphonon_idstrained_finite_displacementssave_strainedfd_config_to_hdf5obj-directory-filenamestrained_finite_displacementshdf5>principia_materia.phonon_id.strained_finite_displacements.save_StrainedFD_config_to_hdf5(obj, directory, filename=&lsquo;strained_finite_displacements.hdf5&rsquo;)<a class=td-heading-self-link href=#principia_materiaphonon_idstrained_finite_displacementssave_strainedfd_config_to_hdf5obj-directory-filenamestrained_finite_displacementshdf5 aria-label="Heading self-link"></a></h3><p>Save strained finite displacements configuration in HDF5</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>directory</strong> (str) – The directory of the finite displacements dft jobs.</p></li><li><p><strong>filename</strong> (str, optional, default to &ldquo;finite_displacements.hdf5&rdquo;) – The name of the configuration file.</p></li></ul></li></ul><h3 id=principia_materiaphonon_idstrained_finite_displacementssave_strainedfd_config_to_yamlobj-directory-filenamestrained_finite_displacementsyml-overwritefalse>principia_materia.phonon_id.strained_finite_displacements.save_StrainedFD_config_to_yaml(obj, directory, filename=&lsquo;strained_finite_displacements.yml&rsquo;, overwrite=False)<a class=td-heading-self-link href=#principia_materiaphonon_idstrained_finite_displacementssave_strainedfd_config_to_yamlobj-directory-filenamestrained_finite_displacementsyml-overwritefalse aria-label="Heading self-link"></a></h3><p>Save strained finite displacements configuration in HDF5</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>directory</strong> (str) – The directory of the finite displacements dft jobs.</p></li><li><p><strong>filename</strong> (str, optional, default to &ldquo;finite_displacements.yml&rdquo;) – The name of the configuration file.</p></li></ul></li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-43caf36d581d2f1fdd69904cfac89a47>8.61 - Module principia_materia.plotting</h1><div class=lead>Module principia_materia.plotting</div><h1 id=principia_materiaplotting-package>principia_materia.plotting package<a class=td-heading-self-link href=#principia_materiaplotting-package aria-label="Heading self-link"></a></h1><h2 id=submodules>Submodules<a class=td-heading-self-link href=#submodules aria-label="Heading self-link"></a></h2><ul><li><p><a href=/docs/references/principia_materia.plotting.kpath.html>principia_materia.plotting.kpath module</a></p><ul><li><p><a href=/docs/references/principia_materia.plotting.kpath.html#principia_materia.plotting.kpath.KPath><code>KPath</code></a></p><ul><li><p><a href=/docs/references/principia_materia.plotting.kpath.html#principia_materia.plotting.kpath.KPath.dim><code>KPath.dim</code></a></p></li><li><p><a href=/docs/references/principia_materia.plotting.kpath.html#principia_materia.plotting.kpath.KPath.get_gridpoints_on_path><code>KPath.get_gridpoints_on_path()</code></a></p></li><li><p><a href=/docs/references/principia_materia.plotting.kpath.html#principia_materia.plotting.kpath.KPath.kpoints><code>KPath.kpoints</code></a></p></li><li><p><a href=/docs/references/principia_materia.plotting.kpath.html#principia_materia.plotting.kpath.KPath.kpoints_distances><code>KPath.kpoints_distances</code></a></p></li><li><p><a href=/docs/references/principia_materia.plotting.kpath.html#principia_materia.plotting.kpath.KPath.n_vertices><code>KPath.n_vertices</code></a></p></li><li><p><a href=/docs/references/principia_materia.plotting.kpath.html#principia_materia.plotting.kpath.KPath.npoints><code>KPath.npoints</code></a></p></li><li><p><a href=/docs/references/principia_materia.plotting.kpath.html#principia_materia.plotting.kpath.KPath.point_on_kpath><code>KPath.point_on_kpath()</code></a></p></li><li><p><a href=/docs/references/principia_materia.plotting.kpath.html#principia_materia.plotting.kpath.KPath.rvec><code>KPath.rvec</code></a></p></li><li><p><a href=/docs/references/principia_materia.plotting.kpath.html#principia_materia.plotting.kpath.KPath.set_kpath><code>KPath.set_kpath()</code></a></p></li><li><p><a href=/docs/references/principia_materia.plotting.kpath.html#principia_materia.plotting.kpath.KPath.vertices><code>KPath.vertices</code></a></p></li><li><p><a href=/docs/references/principia_materia.plotting.kpath.html#principia_materia.plotting.kpath.KPath.vertices_distances><code>KPath.vertices_distances</code></a></p></li><li><p><a href=/docs/references/principia_materia.plotting.kpath.html#principia_materia.plotting.kpath.KPath.vertices_names><code>KPath.vertices_names</code></a></p></li></ul></li></ul></li><li><p><a href=/docs/references/principia_materia.plotting.plot_band.html>principia_materia.plotting.plot_band module</a></p><ul><li><p><a href=/docs/references/principia_materia.plotting.plot_band.html#principia_materia.plotting.plot_band.get_band_plot_config_wrapper><code>get_band_plot_config_wrapper()</code></a></p></li><li><p><a href=/docs/references/principia_materia.plotting.plot_band.html#principia_materia.plotting.plot_band.main><code>main()</code></a></p></li><li><p><a href=/docs/references/principia_materia.plotting.plot_band.html#principia_materia.plotting.plot_band.plot_band><code>plot_band()</code></a></p></li></ul></li><li><p><a href=/docs/references/principia_materia.plotting.plot_errortail.html>principia_materia.plotting.plot_errortail module</a></p><ul><li><p><a href=/docs/references/principia_materia.plotting.plot_errortail.html#principia_materia.plotting.plot_errortail.main><code>main()</code></a></p></li><li><p><a href=/docs/references/principia_materia.plotting.plot_errortail.html#principia_materia.plotting.plot_errortail.plot_errortail><code>plot_errortail()</code></a></p></li></ul></li></ul><h2 id=module-contents>Module contents<a class=td-heading-self-link href=#module-contents aria-label="Heading self-link"></a></h2></div><div class=td-content style=page-break-before:always><h1 id=pg-4317840735f12e1135db607bd8b516e1>8.62 - Module principia_materia.plotting.kpath</h1><div class=lead>Module principia_materia.plotting.kpath</div><h1 id=principia_materiaplottingkpath-module>principia_materia.plotting.kpath module<a class=td-heading-self-link href=#principia_materiaplottingkpath-module aria-label="Heading self-link"></a></h1><h3 id=_class_-principia_materiaplottingkpathkpathvertices-vertices_names-npoints101-rvecnone><em>class</em> principia_materia.plotting.kpath.KPath(vertices, vertices_names, npoints=101, rvec=None)<a class=td-heading-self-link href=#_class_-principia_materiaplottingkpathkpathvertices-vertices_names-npoints101-rvecnone aria-label="Heading self-link"></a></h3><p>Bases: <code>object</code></p><p>Generate K-points path for plotting band structure.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>vertices</strong> (array of <a href=/docs/references/principia_materia.mathematics.new_fraction.html#principia_materia.mathematics.new_fraction.Fraction>Fraction</a> or float, shape(N, dim) or shape(N-1, 2, dim)) – Vertices of K-path in either points or lines format.</p></li><li><p><strong>vertices_names</strong> (array of str, shape(N, )) – The name of the vertices points.</p></li><li><p><strong>npoints</strong> (int, optional, default to 100) – The number of K-points to generate between a poir of vertices points.</p></li><li><p><strong>rvec</strong> (array of float, shape(dim, dim), optional, default to None) – Reciprocal basis vector used to renormalize K-points.
If None, use identity matrix.</p></li></ul></li></ul><h4 id=_property_-dim><em>property</em> dim()<a class=td-heading-self-link href=#_property_-dim aria-label="Heading self-link"></a></h4><p>Dimension of the K-points.</p><h4 id=get_gridpoints_on_pathsupa-tol1e-06>get_gridpoints_on_path(supa, tol=1e-06)<a class=td-heading-self-link href=#get_gridpoints_on_pathsupa-tol1e-06 aria-label="Heading self-link"></a></h4><p>Find the grid points of a given mesh/supa that are on the K-points path.</p><p>This search algorithm can search beyond first BZ, finding points that are
on non-trivial K-paths that are not fully within the first BZ.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>supa</strong> (array of int, shape(dim, dim)) – Supercell matrix.</p></li><li><p><strong>tol</strong> (float, optional, default to 1.0E-6) – Error tolerance.</p></li></ul></li><li><p><strong>Returns</strong></p><ul><li><p><strong>kpoints</strong> (<em>array of float, shape(N, dim)</em>) – The K-points from supa that are on the path.</p></li><li><p><strong>kpoints_distances</strong> (<em>array of float, shape(N)</em>) – The distances of the K-points from supa that are on the path used
in plotting.</p></li></ul></li></ul><h4 id=_property_-kpoints><em>property</em> kpoints()<a class=td-heading-self-link href=#_property_-kpoints aria-label="Heading self-link"></a></h4><p>All the K-points generated along the K-path.</p><h4 id=_property_-kpoints_distances><em>property</em> kpoints_distances()<a class=td-heading-self-link href=#_property_-kpoints_distances aria-label="Heading self-link"></a></h4><p>The distances of the K-points used in plotting.</p><h4 id=_property_-n_vertices><em>property</em> n_vertices()<a class=td-heading-self-link href=#_property_-n_vertices aria-label="Heading self-link"></a></h4><p>Number of vertices points.</p><h4 id=_property_-npoints><em>property</em> npoints()<a class=td-heading-self-link href=#_property_-npoints aria-label="Heading self-link"></a></h4><p>Number of points to generate between the vertices.</p><h4 id=point_on_kpathpoints-tol1e-06>point_on_kpath(points, tol=1e-06)<a class=td-heading-self-link href=#point_on_kpathpoints-tol1e-06 aria-label="Heading self-link"></a></h4><p>Find the distances of the K-points if they are on the K-path.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>points</strong> (array of float, shape(dim, ) or (N, dim)) – The points to check.</p></li><li><p><strong>tol</strong> (float, optional, default to 1.0E-6) – Error tolerance.</p></li></ul></li><li><p><strong>Returns</strong></p><p><strong>distances</strong> – The distances of each points on the kpath used in plotting.</p></li><li><p><strong>Return type</strong></p><p>nested list of float</p></li></ul><h4 id=_property_-rvec><em>property</em> rvec()<a class=td-heading-self-link href=#_property_-rvec aria-label="Heading self-link"></a></h4><p>Reciprocal basis vector to renormalize K-points.</p><h4 id=set_kpath>set_kpath()<a class=td-heading-self-link href=#set_kpath aria-label="Heading self-link"></a></h4><p>Generate the K-points along the K-path and their distances for plotting.</p><h4 id=_property_-vertices><em>property</em> vertices()<a class=td-heading-self-link href=#_property_-vertices aria-label="Heading self-link"></a></h4><p>The vertices of K-path in lines format.</p><h4 id=_property_-vertices_distances><em>property</em> vertices_distances()<a class=td-heading-self-link href=#_property_-vertices_distances aria-label="Heading self-link"></a></h4><p>The distances of the vertices K-points used in plotting.</p><h4 id=_property_-vertices_names><em>property</em> vertices_names()<a class=td-heading-self-link href=#_property_-vertices_names aria-label="Heading self-link"></a></h4><p>The names of the veritces.</p></div><div class=td-content style=page-break-before:always><h1 id=pg-c9b0a3355c10b49e7c35079ac3391321>8.63 - Module principia_materia.plotting.plot_band</h1><div class=lead>Module principia_materia.plotting.plot_band</div><h1 id=principia_materiaplottingplot_band-module>principia_materia.plotting.plot_band module<a class=td-heading-self-link href=#principia_materiaplottingplot_band-module aria-label="Heading self-link"></a></h1><h3 id=principia_materiaplottingplot_bandget_band_plot_config_wrappertitleband-plot-configuration>principia_materia.plotting.plot_band.get_band_plot_config_wrapper(title=&lsquo;Band plot configuration&rsquo;)<a class=td-heading-self-link href=#principia_materiaplottingplot_bandget_band_plot_config_wrappertitleband-plot-configuration aria-label="Heading self-link"></a></h3><h3 id=principia_materiaplottingplot_bandmainargsnone>principia_materia.plotting.plot_band.main(args=None)<a class=td-heading-self-link href=#principia_materiaplottingplot_bandmainargsnone aria-label="Heading self-link"></a></h3><h3 id=principia_materiaplottingplot_bandplot_bandconfig-showtrue-outputnone-width_ratio3-dpi150>principia_materia.plotting.plot_band.plot_band(config, show=True, output=None, width_ratio=3, dpi=150)<a class=td-heading-self-link href=#principia_materiaplottingplot_bandplot_bandconfig-showtrue-outputnone-width_ratio3-dpi150 aria-label="Heading self-link"></a></h3></div><div class=td-content style=page-break-before:always><h1 id=pg-b1e7d54beca5f980db6b3fcefb8e9135>8.64 - Module principia_materia.plotting.plot_errortail</h1><div class=lead>Module principia_materia.plotting.plot_errortail</div><h1 id=principia_materiaplottingplot_errortail-module>principia_materia.plotting.plot_errortail module<a class=td-heading-self-link href=#principia_materiaplottingplot_errortail-module aria-label="Heading self-link"></a></h1><h3 id=principia_materiaplottingplot_errortailmainargsnone>principia_materia.plotting.plot_errortail.main(args=None)<a class=td-heading-self-link href=#principia_materiaplottingplot_errortailmainargsnone aria-label="Heading self-link"></a></h3><h3 id=principia_materiaplottingplot_errortailplot_errortaildata-linestyle--markero-pick_markerd-linecolortabblue-markercolortabred-iscomplexfalse-imag_linecolortabgreen-imag_markercolortabpurple-filenamenone-dpi150-showtrue>principia_materia.plotting.plot_errortail.plot_errortail(data, linestyle=&rsquo;-&rsquo;, marker=&lsquo;o&rsquo;, pick_marker=&lsquo;D&rsquo;, linecolor=&lsquo;tab:blue&rsquo;, markercolor=&lsquo;tab:red&rsquo;, iscomplex=False, imag_linecolor=&lsquo;tab:green&rsquo;, imag_markercolor=&lsquo;tab:purple&rsquo;, filename=None, dpi=150, show=True)<a class=td-heading-self-link href=#principia_materiaplottingplot_errortailplot_errortaildata-linestyle--markero-pick_markerd-linecolortabblue-markercolortabred-iscomplexfalse-imag_linecolortabgreen-imag_markercolortabpurple-filenamenone-dpi150-showtrue aria-label="Heading self-link"></a></h3></div><div class=td-content style=page-break-before:always><h1 id=pg-25bba21a914dedf0c61b612a566bf5e0>8.65 - Module principia_materia.representation</h1><div class=lead>Module principia_materia.representation</div><h1 id=principia_materiarepresentation-package>principia_materia.representation package<a class=td-heading-self-link href=#principia_materiarepresentation-package aria-label="Heading self-link"></a></h1><h2 id=submodules>Submodules<a class=td-heading-self-link href=#submodules aria-label="Heading self-link"></a></h2><ul><li><p><a href=/docs/references/principia_materia.representation.base_representation.html>principia_materia.representation.base_representation module</a></p><ul><li><p><a href=/docs/references/principia_materia.representation.base_representation.html#principia_materia.representation.base_representation.BaseRepresentation><code>BaseRepresentation</code></a></p><ul><li><p><a href=/docs/references/principia_materia.representation.base_representation.html#principia_materia.representation.base_representation.BaseRepresentation.G><code>BaseRepresentation.G</code></a></p></li><li><p><a href=/docs/references/principia_materia.representation.base_representation.html#principia_materia.representation.base_representation.BaseRepresentation.basis><code>BaseRepresentation.basis</code></a></p></li><li><p><a href=/docs/references/principia_materia.representation.base_representation.html#principia_materia.representation.base_representation.BaseRepresentation.chi><code>BaseRepresentation.chi</code></a></p></li><li><p><a href=/docs/references/principia_materia.representation.base_representation.html#principia_materia.representation.base_representation.BaseRepresentation.construct_irreducible_basis><code>BaseRepresentation.construct_irreducible_basis()</code></a></p><ul><li><a href=/docs/references/principia_materia.representation.base_representation.html#principia_materia.representation.base_representation.BaseRepresentation.irrvec_dict><code>BaseRepresentation.irrvec_dict</code></a></li></ul></li><li><p><a href=/docs/references/principia_materia.representation.base_representation.html#principia_materia.representation.base_representation.BaseRepresentation.construct_irrep_matrices><code>BaseRepresentation.construct_irrep_matrices()</code></a></p><ul><li><a href=/docs/references/principia_materia.representation.base_representation.html#principia_materia.representation.base_representation.BaseRepresentation.irrep_matr><code>BaseRepresentation.irrep_matr</code></a></li></ul></li><li><p><a href=/docs/references/principia_materia.representation.base_representation.html#principia_materia.representation.base_representation.BaseRepresentation.get_integer_irrvec><code>BaseRepresentation.get_integer_irrvec()</code></a></p></li><li><p><a href=/docs/references/principia_materia.representation.base_representation.html#principia_materia.representation.base_representation.BaseRepresentation.has_multi_dim_irrep><code>BaseRepresentation.has_multi_dim_irrep()</code></a></p></li><li><p><a href=/docs/references/principia_materia.representation.base_representation.html#principia_materia.representation.base_representation.BaseRepresentation.irreducible_basis_rowname><code>BaseRepresentation.irreducible_basis_rowname</code></a></p></li><li><p><a href=/docs/references/principia_materia.representation.base_representation.html#principia_materia.representation.base_representation.BaseRepresentation.irrep_counter><code>BaseRepresentation.irrep_counter</code></a></p></li><li><p><a href=/docs/references/principia_materia.representation.base_representation.html#principia_materia.representation.base_representation.BaseRepresentation.irreps><code>BaseRepresentation.irreps</code></a></p></li><li><p><a href=/docs/references/principia_materia.representation.base_representation.html#principia_materia.representation.base_representation.BaseRepresentation.irrvec><code>BaseRepresentation.irrvec</code></a></p></li><li><p><a href=/docs/references/principia_materia.representation.base_representation.html#principia_materia.representation.base_representation.BaseRepresentation.orthogonalize_modes><code>BaseRepresentation.orthogonalize_modes()</code></a></p></li><li><p><a href=/docs/references/principia_materia.representation.base_representation.html#principia_materia.representation.base_representation.BaseRepresentation.project_irrep><code>BaseRepresentation.project_irrep()</code></a></p></li><li><p><a href=/docs/references/principia_materia.representation.base_representation.html#principia_materia.representation.base_representation.BaseRepresentation.rdim><code>BaseRepresentation.rdim</code></a></p></li></ul></li><li><p><a href=/docs/references/principia_materia.representation.base_representation.html#principia_materia.representation.base_representation.kronecker_product><code>kronecker_product()</code></a></p></li></ul></li><li><p><a href=/docs/references/principia_materia.representation.charm_bloch_rep.html>principia_materia.representation.charm_bloch_rep module</a></p><ul><li><p><a href=/docs/references/principia_materia.representation.charm_bloch_rep.html#principia_materia.representation.charm_bloch_rep.CharmBlochRep><code>CharmBlochRep</code></a></p><ul><li><p><a href=/docs/references/principia_materia.representation.charm_bloch_rep.html#principia_materia.representation.charm_bloch_rep.CharmBlochRep.construct_irreducible_basis><code>CharmBlochRep.construct_irreducible_basis()</code></a></p><ul><li><a href=/docs/references/principia_materia.representation.charm_bloch_rep.html#principia_materia.representation.charm_bloch_rep.CharmBlochRep.irrvec_dict><code>CharmBlochRep.irrvec_dict</code></a></li></ul></li><li><p><a href=/docs/references/principia_materia.representation.charm_bloch_rep.html#principia_materia.representation.charm_bloch_rep.CharmBlochRep.is_qpoint_Gamma><code>CharmBlochRep.is_qpoint_Gamma</code></a></p></li><li><p><a href=/docs/references/principia_materia.representation.charm_bloch_rep.html#principia_materia.representation.charm_bloch_rep.CharmBlochRep.orthogonalize_shift_modes><code>CharmBlochRep.orthogonalize_shift_modes()</code></a></p></li></ul></li></ul></li><li><p><a href=/docs/references/principia_materia.representation.cluster_rep.html>principia_materia.representation.cluster_rep module</a></p><ul><li><a href=/docs/references/principia_materia.representation.cluster_rep.html#principia_materia.representation.cluster_rep.ClusterRep><code>ClusterRep</code></a></li></ul></li><li><p><a href=/docs/references/principia_materia.representation.direct_product.html>principia_materia.representation.direct_product module</a></p><ul><li><p><a href=/docs/references/principia_materia.representation.direct_product.html#principia_materia.representation.direct_product.DirectProduct><code>DirectProduct</code></a></p><ul><li><a href=/docs/references/principia_materia.representation.direct_product.html#principia_materia.representation.direct_product.DirectProduct.irrep_matr><code>DirectProduct.irrep_matr</code></a></li></ul></li><li><p><a href=/docs/references/principia_materia.representation.direct_product.html#principia_materia.representation.direct_product.get_irrep_name><code>get_irrep_name()</code></a></p></li></ul></li><li><p><a href=/docs/references/principia_materia.representation.disp_cluster_rep.html>principia_materia.representation.disp_cluster_rep module</a></p><ul><li><p><a href=/docs/references/principia_materia.representation.disp_cluster_rep.html#principia_materia.representation.disp_cluster_rep.DispClusterRep><code>DispClusterRep</code></a></p><ul><li><a href=/docs/references/principia_materia.representation.disp_cluster_rep.html#principia_materia.representation.disp_cluster_rep.DispClusterRep.orthogonalize_shift_modes><code>DispClusterRep.orthogonalize_shift_modes()</code></a></li></ul></li></ul></li><li><p><a href=/docs/references/principia_materia.representation.qstar_rep.html>principia_materia.representation.qstar_rep module</a></p><ul><li><p><a href=/docs/references/principia_materia.representation.qstar_rep.html#principia_materia.representation.qstar_rep.QStarRep><code>QStarRep</code></a></p><ul><li><p><a href=/docs/references/principia_materia.representation.qstar_rep.html#principia_materia.representation.qstar_rep.QStarRep.find_multiplication_table><code>QStarRep.find_multiplication_table()</code></a></p></li><li><p><a href=/docs/references/principia_materia.representation.qstar_rep.html#principia_materia.representation.qstar_rep.QStarRep.initial_Q><code>QStarRep.initial_Q</code></a></p></li></ul></li><li><p><a href=/docs/references/principia_materia.representation.qstar_rep.html#principia_materia.representation.qstar_rep.SymmetricQStarRep><code>SymmetricQStarRep</code></a></p><ul><li><a href=/docs/references/principia_materia.representation.qstar_rep.html#principia_materia.representation.qstar_rep.SymmetricQStarRep.initial_Q><code>SymmetricQStarRep.initial_Q</code></a></li></ul></li></ul></li><li><p><a href=/docs/references/principia_materia.representation.shift_mode.html>principia_materia.representation.shift_mode module</a></p><ul><li><p><a href=/docs/references/principia_materia.representation.shift_mode.html#principia_materia.representation.shift_mode.ShiftMode><code>ShiftMode</code></a></p><ul><li><p><a href=/docs/references/principia_materia.representation.shift_mode.html#principia_materia.representation.shift_mode.ShiftMode.set_shift_mode_vectors><code>ShiftMode.set_shift_mode_vectors()</code></a></p><ul><li><p><a href=/docs/references/principia_materia.representation.shift_mode.html#principia_materia.representation.shift_mode.ShiftMode.irrep_counter><code>ShiftMode.irrep_counter</code></a></p></li><li><p><a href=/docs/references/principia_materia.representation.shift_mode.html#principia_materia.representation.shift_mode.ShiftMode.shift_mode_vectors><code>ShiftMode.shift_mode_vectors</code></a></p></li></ul></li></ul></li></ul></li><li><p><a href=/docs/references/principia_materia.representation.single_tensor_rep.html>principia_materia.representation.single_tensor_rep module</a></p><ul><li><a href=/docs/references/principia_materia.representation.single_tensor_rep.html#principia_materia.representation.single_tensor_rep.SingleTensorRep><code>SingleTensorRep</code></a></li></ul></li><li><p><a href=/docs/references/principia_materia.representation.symmetric_direct_product.html>principia_materia.representation.symmetric_direct_product module</a></p><ul><li><p><a href=/docs/references/principia_materia.representation.symmetric_direct_product.html#principia_materia.representation.symmetric_direct_product.SymmetricDirectProduct><code>SymmetricDirectProduct</code></a></p><ul><li><p><a href=/docs/references/principia_materia.representation.symmetric_direct_product.html#principia_materia.representation.symmetric_direct_product.SymmetricDirectProduct.construct_irreducible_basis><code>SymmetricDirectProduct.construct_irreducible_basis()</code></a></p><ul><li><a href=/docs/references/principia_materia.representation.symmetric_direct_product.html#principia_materia.representation.symmetric_direct_product.SymmetricDirectProduct.irrvec_dict><code>SymmetricDirectProduct.irrvec_dict</code></a></li></ul></li><li><p><a href=/docs/references/principia_materia.representation.symmetric_direct_product.html#principia_materia.representation.symmetric_direct_product.SymmetricDirectProduct.contract_dp_to_sdp_basis><code>SymmetricDirectProduct.contract_dp_to_sdp_basis()</code></a></p></li><li><p><a href=/docs/references/principia_materia.representation.symmetric_direct_product.html#principia_materia.representation.symmetric_direct_product.SymmetricDirectProduct.direct_product><code>SymmetricDirectProduct.direct_product</code></a></p></li><li><p><a href=/docs/references/principia_materia.representation.symmetric_direct_product.html#principia_materia.representation.symmetric_direct_product.SymmetricDirectProduct.irrep_matr><code>SymmetricDirectProduct.irrep_matr</code></a></p></li><li><p><a href=/docs/references/principia_materia.representation.symmetric_direct_product.html#principia_materia.representation.symmetric_direct_product.SymmetricDirectProduct.rdim><code>SymmetricDirectProduct.rdim</code></a></p></li><li><p><a href=/docs/references/principia_materia.representation.symmetric_direct_product.html#principia_materia.representation.symmetric_direct_product.SymmetricDirectProduct.set_irreducible_basis_via_contraction><code>SymmetricDirectProduct.set_irreducible_basis_via_contraction()</code></a></p></li></ul></li></ul></li></ul><h2 id=module-contents>Module contents<a class=td-heading-self-link href=#module-contents aria-label="Heading self-link"></a></h2></div><div class=td-content style=page-break-before:always><h1 id=pg-22d2d8e0ec2ae13d481cdeb0386b82ae>8.66 - Module principia_materia.representation.base_representation</h1><div class=lead>Module principia_materia.representation.base_representation</div><h1 id=principia_materiarepresentationbase_representation-module>principia_materia.representation.base_representation module<a class=td-heading-self-link href=#principia_materiarepresentationbase_representation-module aria-label="Heading self-link"></a></h1><h3 id=_class_-principia_materiarepresentationbase_representationbaserepresentationrdim-tol1e-06><em>class</em> principia_materia.representation.base_representation.BaseRepresentation(rdim, tol=1e-06)<a class=td-heading-self-link href=#_class_-principia_materiarepresentationbase_representationbaserepresentationrdim-tol1e-06 aria-label="Heading self-link"></a></h3><p>Bases: <code>object</code></p><p>The abstract class for representations</p><p>As a abstract class for all different representations to derive from, this class contains the most
core functionalities for representation, including the group elements, computing characters, decomposing
irreducible representations, projecting irreducible basis, etc.</p><p>All derived representation classes need to implement following methods to be usable: <code>__init__</code>, <code>_set_group_elements</code>
and <code>_set_basis</code>.</p><h4 id=_property_-g><em>property</em> G()<a class=td-heading-self-link href=#_property_-g aria-label="Heading self-link"></a></h4><p>The matrix representation of the group elements.</p><h4 id=_property_-basis><em>property</em> basis()<a class=td-heading-self-link href=#_property_-basis aria-label="Heading self-link"></a></h4><p>The name of the basis of the representation.</p><p>This is the original basis of the representation before symmetrization.</p><ul><li><p><strong>Returns</strong></p><p><strong>basis</strong> – List of names of basis.</p></li><li><p><strong>Return type</strong></p><p>list of tuple or str</p></li></ul><h4 id=_property_-chi><em>property</em> chi()<a class=td-heading-self-link href=#_property_-chi aria-label="Heading self-link"></a></h4><p>The characters of the representation.</p><ul><li><p><strong>Returns</strong></p><p><strong>chi</strong> – The characters of the representation.</p></li><li><p><strong>Return type</strong></p><p>array of int, length of number of classes in the group</p></li></ul><h4 id=construct_irreducible_basisseedsnone-identity_onlyfalse>construct_irreducible_basis(seeds=None, identity_only=False)<a class=td-heading-self-link href=#construct_irreducible_basisseedsnone-identity_onlyfalse aria-label="Heading self-link"></a></h4><p>Construct irreducible basis using projection operators for all instances of existing irreducible representations</p><h4 id=irrvec_dict>irrvec_dict()<a class=td-heading-self-link href=#irrvec_dict aria-label="Heading self-link"></a></h4><p>A dictionary contains irreducible basis of every instances of existing irreducible basis.</p><ul><li><p><strong>Type</strong></p><p>dict with keys of tuple(str, int) and values of array of float or complex (same type as self.G) shape(dim of irrep, self.rdim)</p></li></ul><h4 id=construct_irrep_matricesuse_cornwelltrue>construct_irrep_matrices(use_Cornwell=True)<a class=td-heading-self-link href=#construct_irrep_matricesuse_cornwelltrue aria-label="Heading self-link"></a></h4><p>Construct the representation matrices for irreps with dimension greater than 1.</p><p>These are only unique up to a unitary transformation, but we will pick a particular convention.</p><h4 id=irrep_matr>irrep_matr()<a class=td-heading-self-link href=#irrep_matr aria-label="Heading self-link"></a></h4><p>A nested dictionary with each multi-dimensional irreducible representation, a dictionary of
the irrep matrices of each group element.</p><ul><li><p><strong>Type</strong></p><p>dict with keys of str and values of dict</p></li></ul><h4 id=get_integer_irrvecirrep_instance-max_number500>get_integer_irrvec(irrep_instance, max_number=500)<a class=td-heading-self-link href=#get_integer_irrvecirrep_instance-max_number500 aria-label="Heading self-link"></a></h4><p>Computes interger form of the irreducible basis.</p><p>Attempts to compute the integer form of the given irreducible basis, if not successful,
attempts make as many matrix elements into integer form as possible.</p><p>$$
\vec{v} \times \sqrt{n} | n \in [1, max\_number]
$$</p><ul><li><p><strong>Returns</strong></p><p><strong>irrvec</strong> – The integer form of a irreducible basis.</p></li><li><p><strong>Return type</strong></p><p>array of float or complex (same type as self.G), shape(dim of irrep, rdim)</p></li></ul><h4 id=has_multi_dim_irrep>has_multi_dim_irrep()<a class=td-heading-self-link href=#has_multi_dim_irrep aria-label="Heading self-link"></a></h4><h4 id=_property_-irreducible_basis_rowname><em>property</em> irreducible_basis_rowname()<a class=td-heading-self-link href=#_property_-irreducible_basis_rowname aria-label="Heading self-link"></a></h4><p>The names of the rows for the irreducible basis.</p><ul><li><p><strong>Returns</strong></p><p><strong>irreducible_basis_rowname</strong> – The name of the rows for the irreducible basis as tuple (irrep instance tuple, row number)</p></li><li><p><strong>Return type</strong></p><p>list of tuple(str, int), shape(self.rdim, )</p></li></ul><h4 id=_property_-irrep_counter><em>property</em> irrep_counter()<a class=td-heading-self-link href=#_property_-irrep_counter aria-label="Heading self-link"></a></h4><p>The dictionary of the irreducible representations and the number of instances.</p><ul><li><p><strong>Returns</strong></p><p><strong>irrep_counter</strong> – The dictionary of the irreducible representations as keys and the number of instances as values.</p></li><li><p><strong>Return type</strong></p><p>dict with keys of str and values of int</p></li></ul><h4 id=_property_-irreps><em>property</em> irreps()<a class=td-heading-self-link href=#_property_-irreps aria-label="Heading self-link"></a></h4><p>A list of irreducible representations and it’s instance number.</p><p>This can be used to distinguish between different irreps as well as different
instances of the same irrep.</p><ul><li><p><strong>Returns</strong></p><p><strong>irreps</strong> – Instances of irreducible representations as tuple(irrep name, instance number)</p></li><li><p><strong>Return type</strong></p><p>list of tuple(str, int), shape(number of irreps, )</p></li></ul><h4 id=_property_-irrvec><em>property</em> irrvec()<a class=td-heading-self-link href=#_property_-irrvec aria-label="Heading self-link"></a></h4><p>The matrix form of irreducible basis.</p><ul><li><p><strong>Returns</strong></p><p><strong>irrvec</strong> – Irreducible basis matrix.</p></li><li><p><strong>Return type</strong></p><p>array of float or complex (same type as self.G)</p></li></ul><h4 id=orthogonalize_modesvectors>orthogonalize_modes(vectors)<a class=td-heading-self-link href=#orthogonalize_modesvectors aria-label="Heading self-link"></a></h4><p>Orthogonalize modes against input vectors</p><p>The vectors can only be first rows of the existing irreps in the decomposition, the rest of the rows from each multi-dimensional irrep will
be projected out.</p><ul><li><p><strong>Parameters</strong></p><p><strong>vectors</strong> (array of dtype, shape(N, self.rdim)) – The vectors to orthogonlize against.</p></li></ul><h4 id=project_irrepirrep-other-seedsnone-check_projectiontrue-without_irrep_matricesfalse>project_irrep(irrep, other=[], seeds=None, check_projection=True, without_irrep_matrices=False)<a class=td-heading-self-link href=#project_irrepirrep-other-seedsnone-check_projectiontrue-without_irrep_matricesfalse aria-label="Heading self-link"></a></h4><p>Contruct irreducible basis of a given irreducible representation from the given representation.</p><p>The routine will consider if there are already irreps of that it needs to avoid.
We will simply return a matrix of dimension (dim_irrep,dim_rep).</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>irrep</strong> (str) – Name of irrep to project.</p></li><li><p><strong>other</strong> (array of float, shape(n, dim of basis)) – Basis of other existing instances of the irrep.</p></li></ul></li><li><p><strong>Returns</strong></p><p><strong>vec_irrep</strong> – A matrix of basis vector(s) of the irrep.</p></li><li><p><strong>Return type</strong></p><p>array of float, shape(dim of irrep, dim of basis)</p></li></ul><h4 id=_property_-rdim><em>property</em> rdim()<a class=td-heading-self-link href=#_property_-rdim aria-label="Heading self-link"></a></h4><p>Dimension of the representations</p><h3 id=principia_materiarepresentationbase_representationkronecker_producta-b>principia_materia.representation.base_representation.kronecker_product(a, b)<a class=td-heading-self-link href=#principia_materiarepresentationbase_representationkronecker_producta-b aria-label="Heading self-link"></a></h3><p>Kronecker product of 2 2-D arrays.</p></div><div class=td-content style=page-break-before:always><h1 id=pg-b2e5633a61de2f222ccd9c7cf8fa31a5>8.67 - Module principia_materia.representation.charm_bloch_rep</h1><div class=lead>Module principia_materia.representation.charm_bloch_rep</div><h1 id=principia_materiarepresentationcharm_bloch_rep-module>principia_materia.representation.charm_bloch_rep module<a class=td-heading-self-link href=#principia_materiarepresentationcharm_bloch_rep-module aria-label="Heading self-link"></a></h1><h3 id=_class_-principia_materiarepresentationcharm_bloch_repcharmblochrepstructure-pg-qpoint-tol1e-06><em>class</em> principia_materia.representation.charm_bloch_rep.CharmBlochRep(structure, pg, qpoint, tol=1e-06)<a class=td-heading-self-link href=#_class_-principia_materiarepresentationcharm_bloch_repcharmblochrepstructure-pg-qpoint-tol1e-06 aria-label="Heading self-link"></a></h3><p>Bases: <a href=/docs/references/principia_materia.representation.base_representation.html#principia_materia.representation.base_representation.BaseRepresentation><code>BaseRepresentation</code></a></p><p>Point group representation of give q-point at given orbitals.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>structure</strong> (CrystalFTG object or a structure file of <a href=/docs/references/principia_materia.translation_group.crystal_ftg.html#principia_materia.translation_group.crystal_ftg.CrystalFTG>CrystalFTG</a>) – The crystal structure.</p></li><li><p><strong>pg</strong> (str or PointGroup object) – The point group.</p></li><li><p><strong>qpoint</strong> (array of Fraction or a <code>parse_array</code> supported Fraction array.) – The q-point</p></li><li><p><strong>tol</strong> (float, optional, default to 1.0E-6) – Error tolerence.</p></li></ul></li></ul><h4 id=construct_irreducible_basisidentity_onlyfalse>construct_irreducible_basis(identity_only=False)<a class=td-heading-self-link href=#construct_irreducible_basisidentity_onlyfalse aria-label="Heading self-link"></a></h4><p>Construct irreducible basis using projection operators for all instances of existing irreducible representations</p><h4 id=irrvec_dict>irrvec_dict()<a class=td-heading-self-link href=#irrvec_dict aria-label="Heading self-link"></a></h4><p>A dictionary contains irreducible basis of every instances of existing irreducible basis.</p><ul><li><p><strong>Type</strong></p><p>dict with keys of tuple(str, int) and values of array of float or complex (same type as self.G) shape(dim of irrep, self.rdim)</p></li></ul><h4 id=_property_-is_qpoint_gamma><em>property</em> is_qpoint_Gamma()<a class=td-heading-self-link href=#_property_-is_qpoint_gamma aria-label="Heading self-link"></a></h4><h4 id=orthogonalize_shift_modesremovefalse>orthogonalize_shift_modes(remove=False)<a class=td-heading-self-link href=#orthogonalize_shift_modesremovefalse aria-label="Heading self-link"></a></h4><ul><li><p><strong>Parameters</strong></p><p><strong>remove</strong> (bool, optional, default to False) – Whether to remove shift modes after orthogonalization.</p></li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-827f0d1eddb9b7dbe864efabed11c90c>8.68 - Module principia_materia.representation.cluster_rep</h1><div class=lead>Module principia_materia.representation.cluster_rep</div><h1 id=principia_materiarepresentationcluster_rep-module>principia_materia.representation.cluster_rep module<a class=td-heading-self-link href=#principia_materiarepresentationcluster_rep-module aria-label="Heading self-link"></a></h1><h3 id=_class_-principia_materiarepresentationcluster_repclusterrepcluster-pg-centerfalse-tol1e-06><em>class</em> principia_materia.representation.cluster_rep.ClusterRep(cluster, pg, center=False, tol=1e-06)<a class=td-heading-self-link href=#_class_-principia_materiarepresentationcluster_repclusterrepcluster-pg-centerfalse-tol1e-06 aria-label="Heading self-link"></a></h3><p>Bases: <a href=/docs/references/principia_materia.representation.base_representation.html#principia_materia.representation.base_representation.BaseRepresentation><code>BaseRepresentation</code></a></p><p>Representation of a cluster.</p><p>A representation of a cluster can be rotated by point group and stay invariant.
The class can figure out how the atoms in the cluster get rotated around and build the point group
representation of the cluster and perform standard group theory operations.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>cluster</strong> (Cluster object or a structure file of <a href=/docs/references/principia_materia.translation_group.cluster.html#principia_materia.translation_group.cluster.Cluster>Cluster</a>) – The cluster to compute point group representation of.</p></li><li><p><strong>pg</strong> (str or PointGroup object) – The point group.</p></li><li><p><strong>center</strong> (bool, optional, default to False) – Whether to shift origin to center of the cluster.</p></li><li><p><strong>tol</strong> (float, optional, default to 1.0E-6) – Error tolerence.</p></li></ul></li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-e0a95074c08c32cd808147d7c31b3421>8.69 - Module principia_materia.representation.direct_product</h1><div class=lead>Module principia_materia.representation.direct_product</div><h1 id=principia_materiarepresentationdirect_product-module>principia_materia.representation.direct_product module<a class=td-heading-self-link href=#principia_materiarepresentationdirect_product-module aria-label="Heading self-link"></a></h1><h3 id=_class_-principia_materiarepresentationdirect_productdirectproductpg-irrep_inputs-tol1e-06><em>class</em> principia_materia.representation.direct_product.DirectProduct(pg, irrep_inputs, tol=1e-06)<a class=td-heading-self-link href=#_class_-principia_materiarepresentationdirect_productdirectproductpg-irrep_inputs-tol1e-06 aria-label="Heading self-link"></a></h3><p>Bases: <a href=/docs/references/principia_materia.representation.base_representation.html#principia_materia.representation.base_representation.BaseRepresentation><code>BaseRepresentation</code></a></p><p>Compute direct product representation of irreducible representations of a point group</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>pg</strong> (str or PointGroup object) – The point group</p></li><li><p><strong>irrep_inputs</strong> (list of str or tuple) – A list of irreducible representations to compute direct product with.
Must be types supported by parser <code>get_irrep_name</code>.</p></li><li><p><strong>tol</strong> (float, optional, default to 1.0E-6) – Error tolerence.</p></li></ul></li></ul><h4 id=_property_-irrep_matr><em>property</em> irrep_matr()<a class=td-heading-self-link href=#_property_-irrep_matr aria-label="Heading self-link"></a></h4><h3 id=principia_materiarepresentationdirect_productget_irrep_nameir>principia_materia.representation.direct_product.get_irrep_name(ir)<a class=td-heading-self-link href=#principia_materiarepresentationdirect_productget_irrep_nameir aria-label="Heading self-link"></a></h3><p>Find name of irreducible representation from input</p><ul><li><p><strong>Parameters</strong></p><p><strong>ir</strong> (tuple or str) – Irreducible representation.
Following types are supported:</p><blockquote><ol><li>tuple type: (<irrep name>, <irrep instance>)</li></ol></blockquote><blockquote><ol start=2><li>irrep name in str type</li></ol></blockquote><blockquote><ol start=3><li>str type: “<irrep name>[<irrep instance>]”</li></ol></blockquote></li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-17de866cd1c5b037ee75048af65b0812>8.70 - Module principia_materia.representation.disp_cluster_rep</h1><div class=lead>Module principia_materia.representation.disp_cluster_rep</div><h1 id=principia_materiarepresentationdisp_cluster_rep-module>principia_materia.representation.disp_cluster_rep module<a class=td-heading-self-link href=#principia_materiarepresentationdisp_cluster_rep-module aria-label="Heading self-link"></a></h1><h3 id=_class_-principia_materiarepresentationdisp_cluster_repdispclusterrepcluster-pg-orthogonalize_shiftsfalse-remove_shiftsfalse-centerfalse-tol1e-06><em>class</em> principia_materia.representation.disp_cluster_rep.DispClusterRep(cluster, pg, orthogonalize_shifts=False, remove_shifts=False, center=False, tol=1e-06)<a class=td-heading-self-link href=#_class_-principia_materiarepresentationdisp_cluster_repdispclusterrepcluster-pg-orthogonalize_shiftsfalse-remove_shiftsfalse-centerfalse-tol1e-06 aria-label="Heading self-link"></a></h3><p>Bases: <a href=/docs/references/principia_materia.representation.base_representation.html#principia_materia.representation.base_representation.BaseRepresentation><code>BaseRepresentation</code></a></p><p>Representation of the displacements of atoms in a cluster.</p><p>Computes the point group representation of the displacements of atoms in a cluster.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>cluster</strong> (Cluster object or a structure file of <a href=/docs/references/principia_materia.translation_group.cluster.html#principia_materia.translation_group.cluster.Cluster>Cluster</a>) – The cluster to compute point group representation of.</p></li><li><p><strong>pg</strong> (str or PointGroup object) – The point group</p></li><li><p><strong>orthogonalize_shifts</strong> (bool, optional, default to False) – Whether to orthogonalize shift modes.</p></li><li><p><strong>remove_shifts</strong> (bool, optional, default to False) – Whether to remove shift modes after orthogonalization.</p></li><li><p><strong>center</strong> (bool, optional, default to False) – Whether to shift origin to center of the cluster.</p></li><li><p><strong>tol</strong> (float, optional, default to 1.0E-6) – Error tolerence.</p></li></ul></li></ul><h4 id=orthogonalize_shift_modesremovefalse>orthogonalize_shift_modes(remove=False)<a class=td-heading-self-link href=#orthogonalize_shift_modesremovefalse aria-label="Heading self-link"></a></h4><p>Find the shift modes in the cluster and orthogonalize irreducible with respect to those shift modes.</p><ul><li><p><strong>Parameters</strong></p><p><strong>remove</strong> (bool, optional, default to False) – Whether to remove shift modes after orthogonalization.</p></li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-09614dd9803852449ccee002c96d9f10>8.71 - Module principia_materia.representation.qstar_rep</h1><div class=lead>Module principia_materia.representation.qstar_rep</div><h1 id=principia_materiarepresentationqstar_rep-module>principia_materia.representation.qstar_rep module<a class=td-heading-self-link href=#principia_materiarepresentationqstar_rep-module aria-label="Heading self-link"></a></h1><h3 id=_class_-principia_materiarepresentationqstar_repqstarreppg-rvec-q-identifiersnone-tol1e-06><em>class</em> principia_materia.representation.qstar_rep.QStarRep(pg, rvec, Q, identifiers=None, tol=1e-06)<a class=td-heading-self-link href=#_class_-principia_materiarepresentationqstar_repqstarreppg-rvec-q-identifiersnone-tol1e-06 aria-label="Heading self-link"></a></h3><p>Bases: <a href=/docs/references/principia_materia.representation.base_representation.html#principia_materia.representation.base_representation.BaseRepresentation><code>BaseRepresentation</code></a></p><p>Representation of Q-star</p><p>It represents how Q transform in the Q-star under symmetry operation of the point group.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>Q</strong> – The initial Q.</p></li><li><p><strong>pg</strong> – Point group.</p></li><li><p><strong>rvec</strong> – The reciprocal basis vector for q.</p></li><li><p><strong>tol</strong> – Number of decimal points to preserve for rounding.</p></li></ul></li></ul><h4 id=find_multiplication_table>find_multiplication_table()<a class=td-heading-self-link href=#find_multiplication_table aria-label="Heading self-link"></a></h4><h4 id=_property_-initial_q><em>property</em> initial_Q()<a class=td-heading-self-link href=#_property_-initial_q aria-label="Heading self-link"></a></h4><h3 id=_class_-principia_materiarepresentationqstar_repsymmetricqstarreppg-rvec-q-identifiersnone-tol1e-06><em>class</em> principia_materia.representation.qstar_rep.SymmetricQStarRep(pg, rvec, Q, identifiers=None, tol=1e-06)<a class=td-heading-self-link href=#_class_-principia_materiarepresentationqstar_repsymmetricqstarreppg-rvec-q-identifiersnone-tol1e-06 aria-label="Heading self-link"></a></h3><p>Bases: <a href=/docs/references/principia_materia.representation.symmetric_direct_product.html#principia_materia.representation.symmetric_direct_product.SymmetricDirectProduct><code>SymmetricDirectProduct</code></a></p><p>Symmetric Product representation of Q</p><p>It represents how Q transform in the Q-star under symmetry operation of the point group, with an
extra constraint that the order of the q-identifier pair does not matter.</p><p>:param : pg: Point group.
:param : irrep_inputs: A list of q’s or q-identifier pairs.
:param : rvec: The reciprocal basis vector for q.
:param : rdp: Number of decimal points to preserve for rounding.</p><h4 id=_property_-initial_q-1><em>property</em> initial_Q()<a class=td-heading-self-link href=#_property_-initial_q-1 aria-label="Heading self-link"></a></h4></div><div class=td-content style=page-break-before:always><h1 id=pg-a23073cdbd786fef1d336d0116b09c6f>8.72 - Module principia_materia.representation.shift_mode</h1><div class=lead>Module principia_materia.representation.shift_mode</div><h1 id=principia_materiarepresentationshift_mode-module>principia_materia.representation.shift_mode module<a class=td-heading-self-link href=#principia_materiarepresentationshift_mode-module aria-label="Heading self-link"></a></h1><h3 id=_class_-principia_materiarepresentationshift_modeshiftmodepg-orbitals-tol1e-06><em>class</em> principia_materia.representation.shift_mode.ShiftMode(pg, orbitals, tol=1e-06)<a class=td-heading-self-link href=#_class_-principia_materiarepresentationshift_modeshiftmodepg-orbitals-tol1e-06 aria-label="Heading self-link"></a></h3><p>Bases: <a href=/docs/references/principia_materia.representation.base_representation.html#principia_materia.representation.base_representation.BaseRepresentation><code>BaseRepresentation</code></a></p><p>The point group representation of shift modes.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>pg</strong> (str or PointGroup object) – The point group.</p></li><li><p><strong>orbitals</strong> (list of str) – A list or orbitals.
Shift mode vectors will be computed base on this list.</p></li><li><p><strong>tol</strong> (float, optional, default to 1.0E-6) – Error tolerence.</p></li></ul></li></ul><h4 id=set_shift_mode_vectors>set_shift_mode_vectors()<a class=td-heading-self-link href=#set_shift_mode_vectors aria-label="Heading self-link"></a></h4><p>Computes the shift mode irreducible basis for the input orbitals list.</p><p>This method goes through the list of orbitals, construct the shift mode vectors,
and orthonomalize them to keep the non-zero shift mode irreps and vectors.</p><h4 id=irrep_counter>irrep_counter()<a class=td-heading-self-link href=#irrep_counter aria-label="Heading self-link"></a></h4><h4 id=shift_mode_vectors>shift_mode_vectors()<a class=td-heading-self-link href=#shift_mode_vectors aria-label="Heading self-link"></a></h4></div><div class=td-content style=page-break-before:always><h1 id=pg-a89944c7cfa3433d55f677e8c887ee52>8.73 - Module principia_materia.representation.single_tensor_rep</h1><div class=lead>Module principia_materia.representation.single_tensor_rep</div><h1 id=principia_materiarepresentationsingle_tensor_rep-module>principia_materia.representation.single_tensor_rep module<a class=td-heading-self-link href=#principia_materiarepresentationsingle_tensor_rep-module aria-label="Heading self-link"></a></h1><h3 id=_class_-principia_materiarepresentationsingle_tensor_repsingletensorreprank-pg-dim3-tol1e-06><em>class</em> principia_materia.representation.single_tensor_rep.SingleTensorRep(rank, pg, dim=3, tol=1e-06)<a class=td-heading-self-link href=#_class_-principia_materiarepresentationsingle_tensor_repsingletensorreprank-pg-dim3-tol1e-06 aria-label="Heading self-link"></a></h3><p>Bases: <a href=/docs/references/principia_materia.representation.base_representation.html#principia_materia.representation.base_representation.BaseRepresentation><code>BaseRepresentation</code></a></p><p>Point group representation for a rank N tensor.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>rank</strong> (int) – Rank of the tensor.</p></li><li><p><strong>pg</strong> (str or PointGroup object) – The point group.</p></li><li><p><strong>dim</strong> (int, optional, default to 3) – Dimension of the space.</p></li><li><p><strong>tol</strong> (float, optional, default to 1.0E-6) – Error tolerence.</p></li></ul></li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-5f1a446a8449393e342f608e2c72d106>8.74 - Module principia_materia.representation.symmetric_direct_product</h1><div class=lead>Module principia_materia.representation.symmetric_direct_product</div><h1 id=principia_materiarepresentationsymmetric_direct_product-module>principia_materia.representation.symmetric_direct_product module<a class=td-heading-self-link href=#principia_materiarepresentationsymmetric_direct_product-module aria-label="Heading self-link"></a></h1><h3 id=_class_-principia_materiarepresentationsymmetric_direct_productsymmetricdirectproductpg-irrep_inputs-tol1e-06><em>class</em> principia_materia.representation.symmetric_direct_product.SymmetricDirectProduct(pg, irrep_inputs, tol=1e-06)<a class=td-heading-self-link href=#_class_-principia_materiarepresentationsymmetric_direct_productsymmetricdirectproductpg-irrep_inputs-tol1e-06 aria-label="Heading self-link"></a></h3><p>Bases: <a href=/docs/references/principia_materia.representation.base_representation.html#principia_materia.representation.base_representation.BaseRepresentation><code>BaseRepresentation</code></a></p><p>Compute symmetric direct product representation of irreducible representations of a point group</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>pg</strong> (str or PointGroup object) – The point group</p></li><li><p><strong>irrep_inputs</strong> (list of str or tuple) – A list of irreducible representations to compute direct product with.
Must be types supported by parser <code>principia_materia.representation.direct_product.get_irrep_name</code>.</p></li><li><p><strong>tol</strong> (float, optional, default to 1.0E-6) – Error tolerence.</p></li></ul></li></ul><h4 id=construct_irreducible_basisidentity_onlyfalse>construct_irreducible_basis(identity_only=False)<a class=td-heading-self-link href=#construct_irreducible_basisidentity_onlyfalse aria-label="Heading self-link"></a></h4><p>Construct irreducible basis using projection operators for all instances of existing irreducible representations</p><h4 id=irrvec_dict>irrvec_dict()<a class=td-heading-self-link href=#irrvec_dict aria-label="Heading self-link"></a></h4><p>A dictionary contains irreducible basis of every instances of existing irreducible basis.</p><ul><li><p><strong>Type</strong></p><p>dict with keys of tuple(str, int) and values of array of float or complex (same type as self.G) shape(dim of irrep, self.rdim)</p></li></ul><h4 id=contract_dp_to_sdp_basis>contract_dp_to_sdp_basis()<a class=td-heading-self-link href=#contract_dp_to_sdp_basis aria-label="Heading self-link"></a></h4><h4 id=_property_-direct_product><em>property</em> direct_product()<a class=td-heading-self-link href=#_property_-direct_product aria-label="Heading self-link"></a></h4><h4 id=_property_-irrep_matr><em>property</em> irrep_matr()<a class=td-heading-self-link href=#_property_-irrep_matr aria-label="Heading self-link"></a></h4><h4 id=_property_-rdim><em>property</em> rdim()<a class=td-heading-self-link href=#_property_-rdim aria-label="Heading self-link"></a></h4><p>Dimension of the representations</p><h4 id=set_irreducible_basis_via_contraction>set_irreducible_basis_via_contraction()<a class=td-heading-self-link href=#set_irreducible_basis_via_contraction aria-label="Heading self-link"></a></h4><p>This method will take the direct product irreps and contract them in order to get the irreps of the
symmetric direct product. This is another means to get the essential information of the SDP.</p></div><div class=td-content style=page-break-before:always><h1 id=pg-8770d8488d216b987cc238097c37594b>8.75 - Module principia_materia.symmetry</h1><div class=lead>Module principia_materia.symmetry</div><h1 id=principia_materiasymmetry-package>principia_materia.symmetry package<a class=td-heading-self-link href=#principia_materiasymmetry-package aria-label="Heading self-link"></a></h1><h2 id=submodules>Submodules<a class=td-heading-self-link href=#submodules aria-label="Heading self-link"></a></h2><ul><li><p><a href=/docs/references/principia_materia.symmetry.cornwell_data.html>principia_materia.symmetry.cornwell_data module</a></p><ul><li><p><a href=/docs/references/principia_materia.symmetry.cornwell_data.html#principia_materia.symmetry.cornwell_data.Cornwell_group_matrices><code>Cornwell_group_matrices</code></a></p><ul><li><p><a href=/docs/references/principia_materia.symmetry.cornwell_data.html#principia_materia.symmetry.cornwell_data.Cornwell_group_matrices.D_M><code>Cornwell_group_matrices.D_M</code></a></p></li><li><p><a href=/docs/references/principia_materia.symmetry.cornwell_data.html#principia_materia.symmetry.cornwell_data.Cornwell_group_matrices.D_M_text><code>Cornwell_group_matrices.D_M_text</code></a></p></li><li><p><a href=/docs/references/principia_materia.symmetry.cornwell_data.html#principia_materia.symmetry.cornwell_data.Cornwell_group_matrices.D_X><code>Cornwell_group_matrices.D_X</code></a></p></li><li><p><a href=/docs/references/principia_materia.symmetry.cornwell_data.html#principia_materia.symmetry.cornwell_data.Cornwell_group_matrices.D_X_text><code>Cornwell_group_matrices.D_X_text</code></a></p></li><li><p><a href=/docs/references/principia_materia.symmetry.cornwell_data.html#principia_materia.symmetry.cornwell_data.Cornwell_group_matrices.D_p><code>Cornwell_group_matrices.D_p</code></a></p></li><li><p><a href=/docs/references/principia_materia.symmetry.cornwell_data.html#principia_materia.symmetry.cornwell_data.Cornwell_group_matrices.D_p_text><code>Cornwell_group_matrices.D_p_text</code></a></p></li><li><p><a href=/docs/references/principia_materia.symmetry.cornwell_data.html#principia_materia.symmetry.cornwell_data.Cornwell_group_matrices.D_pp><code>Cornwell_group_matrices.D_pp</code></a></p></li><li><p><a href=/docs/references/principia_materia.symmetry.cornwell_data.html#principia_materia.symmetry.cornwell_data.Cornwell_group_matrices.D_pp_text><code>Cornwell_group_matrices.D_pp_text</code></a></p></li><li><p><a href=/docs/references/principia_materia.symmetry.cornwell_data.html#principia_materia.symmetry.cornwell_data.Cornwell_group_matrices.Gamma_p><code>Cornwell_group_matrices.Gamma_p</code></a></p></li><li><p><a href=/docs/references/principia_materia.symmetry.cornwell_data.html#principia_materia.symmetry.cornwell_data.Cornwell_group_matrices.Gamma_p_text><code>Cornwell_group_matrices.Gamma_p_text</code></a></p></li><li><p><a href=/docs/references/principia_materia.symmetry.cornwell_data.html#principia_materia.symmetry.cornwell_data.Cornwell_group_matrices.Gamma_pp><code>Cornwell_group_matrices.Gamma_pp</code></a></p></li><li><p><a href=/docs/references/principia_materia.symmetry.cornwell_data.html#principia_materia.symmetry.cornwell_data.Cornwell_group_matrices.Gamma_pp_text><code>Cornwell_group_matrices.Gamma_pp_text</code></a></p></li><li><p><a href=/docs/references/principia_materia.symmetry.cornwell_data.html#principia_materia.symmetry.cornwell_data.Cornwell_group_matrices.R><code>Cornwell_group_matrices.R</code></a></p></li><li><p><a href=/docs/references/principia_materia.symmetry.cornwell_data.html#principia_materia.symmetry.cornwell_data.Cornwell_group_matrices.R_text><code>Cornwell_group_matrices.R_text</code></a></p></li><li><p><a href=/docs/references/principia_materia.symmetry.cornwell_data.html#principia_materia.symmetry.cornwell_data.Cornwell_group_matrices.S><code>Cornwell_group_matrices.S</code></a></p></li><li><p><a href=/docs/references/principia_materia.symmetry.cornwell_data.html#principia_materia.symmetry.cornwell_data.Cornwell_group_matrices.S_text><code>Cornwell_group_matrices.S_text</code></a></p></li><li><p><a href=/docs/references/principia_materia.symmetry.cornwell_data.html#principia_materia.symmetry.cornwell_data.Cornwell_group_matrices.i><code>Cornwell_group_matrices.i</code></a></p></li><li><p><a href=/docs/references/principia_materia.symmetry.cornwell_data.html#principia_materia.symmetry.cornwell_data.Cornwell_group_matrices.ii><code>Cornwell_group_matrices.ii</code></a></p></li><li><p><a href=/docs/references/principia_materia.symmetry.cornwell_data.html#principia_materia.symmetry.cornwell_data.Cornwell_group_matrices.jj><code>Cornwell_group_matrices.jj</code></a></p></li><li><p><a href=/docs/references/principia_materia.symmetry.cornwell_data.html#principia_materia.symmetry.cornwell_data.Cornwell_group_matrices.kk><code>Cornwell_group_matrices.kk</code></a></p></li></ul></li><li><p><a href=/docs/references/principia_materia.symmetry.cornwell_data.html#principia_materia.symmetry.cornwell_data.Cornwell_point_group><code>Cornwell_point_group</code></a></p><ul><li><p><a href=/docs/references/principia_materia.symmetry.cornwell_data.html#principia_materia.symmetry.cornwell_data.Cornwell_point_group.get_mirror_notation><code>Cornwell_point_group.get_mirror_notation()</code></a></p></li><li><p><a href=/docs/references/principia_materia.symmetry.cornwell_data.html#principia_materia.symmetry.cornwell_data.Cornwell_point_group.parse_data><code>Cornwell_point_group.parse_data()</code></a></p></li><li><p><a href=/docs/references/principia_materia.symmetry.cornwell_data.html#principia_materia.symmetry.cornwell_data.Cornwell_point_group.parse_irrep_matr><code>Cornwell_point_group.parse_irrep_matr()</code></a></p></li></ul></li></ul></li><li><p><a href=/docs/references/principia_materia.symmetry.little_group.html>principia_materia.symmetry.little_group module</a></p><ul><li><a href=/docs/references/principia_materia.symmetry.little_group.html#principia_materia.symmetry.little_group.get_little_group><code>get_little_group()</code></a></li></ul></li><li><p><a href=/docs/references/principia_materia.symmetry.point_group.html>principia_materia.symmetry.point_group module</a></p><ul><li><p><a href=/docs/references/principia_materia.symmetry.point_group.html#principia_materia.symmetry.point_group.PointGroup><code>PointGroup</code></a></p><ul><li><p><a href=/docs/references/principia_materia.symmetry.point_group.html#principia_materia.symmetry.point_group.PointGroup.check_irrep_matr><code>PointGroup.check_irrep_matr()</code></a></p></li><li><p><a href=/docs/references/principia_materia.symmetry.point_group.html#principia_materia.symmetry.point_group.PointGroup.clas><code>PointGroup.clas</code></a></p></li><li><p><a href=/docs/references/principia_materia.symmetry.point_group.html#principia_materia.symmetry.point_group.PointGroup.create_all_pg><code>PointGroup.create_all_pg()</code></a></p></li><li><p><a href=/docs/references/principia_materia.symmetry.point_group.html#principia_materia.symmetry.point_group.PointGroup.create_alternate_pgs><code>PointGroup.create_alternate_pgs()</code></a></p></li><li><p><a href=/docs/references/principia_materia.symmetry.point_group.html#principia_materia.symmetry.point_group.PointGroup.create_pgop_to_pg><code>PointGroup.create_pgop_to_pg()</code></a></p></li><li><p><a href=/docs/references/principia_materia.symmetry.point_group.html#principia_materia.symmetry.point_group.PointGroup.find_multiplication_table><code>PointGroup.find_multiplication_table()</code></a></p></li><li><p><a href=/docs/references/principia_materia.symmetry.point_group.html#principia_materia.symmetry.point_group.PointGroup.init_from><code>PointGroup.init_from()</code></a></p></li><li><p><a href=/docs/references/principia_materia.symmetry.point_group.html#principia_materia.symmetry.point_group.PointGroup.init_from_operators><code>PointGroup.init_from_operators()</code></a></p></li><li><p><a href=/docs/references/principia_materia.symmetry.point_group.html#principia_materia.symmetry.point_group.PointGroup.set_alias><code>PointGroup.set_alias()</code></a></p></li><li><p><a href=/docs/references/principia_materia.symmetry.point_group.html#principia_materia.symmetry.point_group.PointGroup.set_clas><code>PointGroup.set_clas()</code></a></p></li><li><p><a href=/docs/references/principia_materia.symmetry.point_group.html#principia_materia.symmetry.point_group.PointGroup.set_ct><code>PointGroup.set_ct()</code></a></p></li><li><p><a href=/docs/references/principia_materia.symmetry.point_group.html#principia_materia.symmetry.point_group.PointGroup.set_gmatr><code>PointGroup.set_gmatr()</code></a></p></li><li><p><a href=/docs/references/principia_materia.symmetry.point_group.html#principia_materia.symmetry.point_group.PointGroup.set_iname><code>PointGroup.set_iname()</code></a></p></li><li><p><a href=/docs/references/principia_materia.symmetry.point_group.html#principia_materia.symmetry.point_group.PointGroup.set_irrep_matr><code>PointGroup.set_irrep_matr()</code></a></p></li><li><p><a href=/docs/references/principia_materia.symmetry.point_group.html#principia_materia.symmetry.point_group.PointGroup.set_mirror_notation><code>PointGroup.set_mirror_notation()</code></a></p></li><li><p><a href=/docs/references/principia_materia.symmetry.point_group.html#principia_materia.symmetry.point_group.PointGroup.set_subgroups><code>PointGroup.set_subgroups()</code></a></p></li><li><p><a href=/docs/references/principia_materia.symmetry.point_group.html#principia_materia.symmetry.point_group.PointGroup.store_characters><code>PointGroup.store_characters()</code></a></p></li></ul></li><li><p><a href=/docs/references/principia_materia.symmetry.point_group.html#principia_materia.symmetry.point_group.class_method_descriptor><code>class_method_descriptor</code></a></p></li><li><p><a href=/docs/references/principia_materia.symmetry.point_group.html#principia_materia.symmetry.point_group.find_inv><code>find_inv()</code></a></p></li><li><p><a href=/docs/references/principia_materia.symmetry.point_group.html#principia_materia.symmetry.point_group.group_lineage><code>group_lineage()</code></a></p></li></ul></li></ul><h2 id=module-contents>Module contents<a class=td-heading-self-link href=#module-contents aria-label="Heading self-link"></a></h2></div><div class=td-content style=page-break-before:always><h1 id=pg-19b381ef74a9ee7dbf2e7b5fa885efb6>8.76 - Module principia_materia.symmetry.cornwell_data</h1><div class=lead>Module principia_materia.symmetry.cornwell_data</div><h1 id=principia_materiasymmetrycornwell_data-module>principia_materia.symmetry.cornwell_data module<a class=td-heading-self-link href=#principia_materiasymmetrycornwell_data-module aria-label="Heading self-link"></a></h1><h3 id=_class_-principia_materiasymmetrycornwell_datacornwell_group_matrices><em>class</em> principia_materia.symmetry.cornwell_data.Cornwell_group_matrices()<a class=td-heading-self-link href=#_class_-principia_materiasymmetrycornwell_datacornwell_group_matrices aria-label="Heading self-link"></a></h3><p>Bases: <code>object</code></p><p>This class is a simple container holding all of the rotation matrices that are used within the point groups.
This information was taken from Appendix C of ‘Group Theory in Physics’ by J.F. Cornwell, 1997 Edition.
Everything is input in a human readable form, and then processed into matrices. These matrices can be used in conjunction
with the Cornwell character table data.</p><h4 id=d_m_--e-array1-0--------0-1-c2e-array0-1--------1-0-c2f-array-0--1---------1--0-c2x-array-1--0---------0--1-c2y-array-1--0---------0--1-c2z-array-1--0---------0--1-c4x-array-0--1---------1--0-ci4x-array-0--1---------1--0_->D_M(_ = {&lsquo;E&rsquo;: array([[1., 0.], [0., 1.]]), &lsquo;c2e&rsquo;: array([[0., 1.], [1., 0.]]), &lsquo;c2f&rsquo;: array([[ 0., -1.], [-1., 0.]]), &lsquo;c2x&rsquo;: array([[-1., 0.], [ 0., -1.]]), &lsquo;c2y&rsquo;: array([[ 1., 0.], [ 0., -1.]]), &lsquo;c2z&rsquo;: array([[-1., 0.], [ 0., 1.]]), &lsquo;c4x&rsquo;: array([[ 0., 1.], [-1., 0.]]), &lsquo;ci4x&rsquo;: array([[ 0., -1.], [ 1., 0.]])_ )<a class=td-heading-self-link href=#d_m_--e-array1-0--------0-1-c2e-array0-1--------1-0-c2f-array-0--1---------1--0-c2x-array-1--0---------0--1-c2y-array-1--0---------0--1-c2z-array-1--0---------0--1-c4x-array-0--1---------1--0-ci4x-array-0--1---------1--0_- aria-label="Heading self-link"></a></h4><h4 id=d_m_text_--n--e-------1--0-----0--1n--c2x-----1--0-----0--1--n--c2y-----1--0-----0--1n--c2z-----1--0-----0--1-n--c4x-----0--1-----1--0-n--ci4x----0--1-----1--0-n--c2e-----0--1-----1--0n--c2f-----0--1-----1--0n--_->D_M_text(_ = &lsquo;\n E 1 0 0 1\n c2x -1 0 0 -1 \n c2y 1 0 0 -1\n c2z -1 0 0 1 \n c4x 0 1 -1 0 \n ci4x 0 -1 1 0 \n c2e 0 1 1 0\n c2f 0 -1 -1 0\n _ )<a class=td-heading-self-link href=#d_m_text_--n--e-------1--0-----0--1n--c2x-----1--0-----0--1--n--c2y-----1--0-----0--1n--c2z-----1--0-----0--1-n--c4x-----0--1-----1--0-n--ci4x----0--1-----1--0-n--c2e-----0--1-----1--0n--c2f-----0--1-----1--0n--_- aria-label="Heading self-link"></a></h4><h4 id=d_x_--e-array1-0--------0-1-c2a-array0-1--------1-0-c2b-array-0--1---------1--0-c2x-array-1--0---------0--1-c2y-array-1--0---------0--1-c2z-array-1--0---------0--1-c4z-array-0--1---------1--0-ci4z-array-0--1---------1--0_->D_X(_ = {&lsquo;E&rsquo;: array([[1., 0.], [0., 1.]]), &lsquo;c2a&rsquo;: array([[0., 1.], [1., 0.]]), &lsquo;c2b&rsquo;: array([[ 0., -1.], [-1., 0.]]), &lsquo;c2x&rsquo;: array([[ 1., 0.], [ 0., -1.]]), &lsquo;c2y&rsquo;: array([[-1., 0.], [ 0., 1.]]), &lsquo;c2z&rsquo;: array([[-1., 0.], [ 0., -1.]]), &lsquo;c4z&rsquo;: array([[ 0., 1.], [-1., 0.]]), &lsquo;ci4z&rsquo;: array([[ 0., -1.], [ 1., 0.]])_ )<a class=td-heading-self-link href=#d_x_--e-array1-0--------0-1-c2a-array0-1--------1-0-c2b-array-0--1---------1--0-c2x-array-1--0---------0--1-c2y-array-1--0---------0--1-c2z-array-1--0---------0--1-c4z-array-0--1---------1--0-ci4z-array-0--1---------1--0_- aria-label="Heading self-link"></a></h4><h4 id=d_x_text_--n--e-------1--0-----0--1n--c2x-----1--0-----0--1n--c2y-----1--0-----0--1n--c2z-----1--0-----0--1--n--c4z-----0--1-----1--0-n--ci4z----0--1-----1--0n--c2a-----0--1-----1--0n--c2b-----0--1-----1--0n--_->D_X_text(_ = &lsquo;\n E 1 0 0 1\n c2x 1 0 0 -1\n c2y -1 0 0 1\n c2z -1 0 0 -1 \n c4z 0 1 -1 0 \n ci4z 0 -1 1 0\n c2a 0 1 1 0\n c2b 0 -1 -1 0\n _ )<a class=td-heading-self-link href=#d_x_text_--n--e-------1--0-----0--1n--c2x-----1--0-----0--1n--c2y-----1--0-----0--1n--c2z-----1--0-----0--1--n--c4z-----0--1-----1--0-n--ci4z----0--1-----1--0n--c2a-----0--1-----1--0n--c2b-----0--1-----1--0n--_- aria-label="Heading self-link"></a></h4><h4 id=d_p_--e-array1-0--------0-1-c2a-array-05--------08660254---------08660254--05-------c2b-array-05--------08660254---------08660254--05-------c2c-array-05--------08660254---------08660254--05-------c2d-array-05--------08660254---------08660254--05-------c2x-array-1--0---------0--1-c2y-array-1--0---------0--1-c2z-array1-0--------0-1-c3z-array-05--------08660254---------08660254--05-------c6z-array-05--------08660254---------08660254--05-------ci3z-array-05--------08660254---------08660254--05-------ci6z-array-05--------08660254---------08660254--05------_->D_p(_ = {&lsquo;E&rsquo;: array([[1., 0.], [0., 1.]]), &lsquo;c2A&rsquo;: array([[ 0.5 , -0.8660254], [-0.8660254, -0.5 ]]), &lsquo;c2B&rsquo;: array([[ 0.5 , 0.8660254], [ 0.8660254, -0.5 ]]), &lsquo;c2C&rsquo;: array([[ 0.5 , -0.8660254], [-0.8660254, -0.5 ]]), &lsquo;c2D&rsquo;: array([[ 0.5 , 0.8660254], [ 0.8660254, -0.5 ]]), &lsquo;c2x&rsquo;: array([[-1., 0.], [ 0., 1.]]), &lsquo;c2y&rsquo;: array([[-1., 0.], [ 0., 1.]]), &lsquo;c2z&rsquo;: array([[1., 0.], [0., 1.]]), &lsquo;c3z&rsquo;: array([[-0.5 , 0.8660254], [-0.8660254, -0.5 ]]), &lsquo;c6z&rsquo;: array([[-0.5 , -0.8660254], [ 0.8660254, -0.5 ]]), &lsquo;ci3z&rsquo;: array([[-0.5 , -0.8660254], [ 0.8660254, -0.5 ]]), &lsquo;ci6z&rsquo;: array([[-0.5 , 0.8660254], [-0.8660254, -0.5 ]])_ )<a class=td-heading-self-link href=#d_p_--e-array1-0--------0-1-c2a-array-05--------08660254---------08660254--05-------c2b-array-05--------08660254---------08660254--05-------c2c-array-05--------08660254---------08660254--05-------c2d-array-05--------08660254---------08660254--05-------c2x-array-1--0---------0--1-c2y-array-1--0---------0--1-c2z-array1-0--------0-1-c3z-array-05--------08660254---------08660254--05-------c6z-array-05--------08660254---------08660254--05-------ci3z-array-05--------08660254---------08660254--05-------ci6z-array-05--------08660254---------08660254--05------_- aria-label="Heading self-link"></a></h4><h4 id=d_p_text_--n--e-----c2z---------1-----0-------0-----1n--c6z---ci3z--------12--3052-----3052---12n--ci6z--c3z---------12--3052-----3052---12n--c2x---c2y---------1-----0-------0-----1n--c2a---c2c---------12--3052-----3052---12n--c2b---c2d---------12--3052-----3052---12n--_->D_p_text(_ = &lsquo;\n E c2z 1 0 0 1\n c6z ci3z -1/2. -3**0.5/2. 3**0.5/2. -1/2.\n ci6z c3z -1/2. 3**0.5/2. -3**0.5/2. -1/2.\n c2x c2y -1 0 0 1\n c2A c2C 1/2. -3**0.5/2. -3**0.5/2. -1/2.\n c2B c2D 1/2. 3**0.5/2. 3**0.5/2. -1/2.\n _ )<a class=td-heading-self-link href=#d_p_text_--n--e-----c2z---------1-----0-------0-----1n--c6z---ci3z--------12--3052-----3052---12n--ci6z--c3z---------12--3052-----3052---12n--c2x---c2y---------1-----0-------0-----1n--c2a---c2c---------12--3052-----3052---12n--c2b---c2d---------12--3052-----3052---12n--_- aria-label="Heading self-link"></a></h4><h4 id=d_pp_--e-array1-0--------0-1-c2a-array-05--------08660254---------08660254--05-------c2b-array-05--------08660254---------08660254--05-------c2c-array-05--------08660254---------08660254--05-------c2d-array-05--------08660254---------08660254--05-------c2x-array-1--0---------0--1-c2y-array-1--0---------0--1-c2z-array-1--0---------0--1-c3z-array-05--------08660254---------08660254--05-------c6z-array-05--------08660254---------08660254--05-------ci3z-array-05--------08660254---------08660254--05-------ci6z-array-05--------08660254---------08660254--05------_->D_pp(_ = {&lsquo;E&rsquo;: array([[1., 0.], [0., 1.]]), &lsquo;c2A&rsquo;: array([[-0.5 , 0.8660254], [ 0.8660254, 0.5 ]]), &lsquo;c2B&rsquo;: array([[-0.5 , -0.8660254], [-0.8660254, 0.5 ]]), &lsquo;c2C&rsquo;: array([[ 0.5 , -0.8660254], [-0.8660254, -0.5 ]]), &lsquo;c2D&rsquo;: array([[ 0.5 , 0.8660254], [ 0.8660254, -0.5 ]]), &lsquo;c2x&rsquo;: array([[ 1., 0.], [ 0., -1.]]), &lsquo;c2y&rsquo;: array([[-1., 0.], [ 0., 1.]]), &lsquo;c2z&rsquo;: array([[-1., 0.], [ 0., -1.]]), &lsquo;c3z&rsquo;: array([[-0.5 , 0.8660254], [-0.8660254, -0.5 ]]), &lsquo;c6z&rsquo;: array([[ 0.5 , 0.8660254], [-0.8660254, 0.5 ]]), &lsquo;ci3z&rsquo;: array([[-0.5 , -0.8660254], [ 0.8660254, -0.5 ]]), &lsquo;ci6z&rsquo;: array([[ 0.5 , -0.8660254], [ 0.8660254, 0.5 ]])_ )<a class=td-heading-self-link href=#d_pp_--e-array1-0--------0-1-c2a-array-05--------08660254---------08660254--05-------c2b-array-05--------08660254---------08660254--05-------c2c-array-05--------08660254---------08660254--05-------c2d-array-05--------08660254---------08660254--05-------c2x-array-1--0---------0--1-c2y-array-1--0---------0--1-c2z-array-1--0---------0--1-c3z-array-05--------08660254---------08660254--05-------c6z-array-05--------08660254---------08660254--05-------ci3z-array-05--------08660254---------08660254--05-------ci6z-array-05--------08660254---------08660254--05------_- aria-label="Heading self-link"></a></h4><h4 id=d_pp_text_--n--e------1-----0--------0----1--n--c6z----12--3052------3052--12n--ci6z---12--3052------3052--12n--c3z----12--3052------3052--12n--ci3z---12--3052------3052--12n--c2z----1-----0--------0----1n--c2x----1-----0--------0----1-n--c2a----12--3052------3052--12n--c2b----12--3052------3052--12n--c2y----1-----0--------0----1n--c2c----12--3052------3052--12n--c2d----12--3052------3052--12n--_->D_pp_text(_ = &lsquo;\n E 1 0 0 1 \n c6z 1/2. 3**0.5/2. -3**0.5/2. 1/2.\n ci6z 1/2. -3**0.5/2. 3**0.5/2. 1/2.\n c3z -1/2. 3**0.5/2. -3**0.5/2. -1/2.\n ci3z -1/2. -3**0.5/2. 3**0.5/2. -1/2.\n c2z -1 0 0 -1\n c2x 1 0 0 -1 \n c2A -1/2. 3**0.5/2. 3**0.5/2. 1/2.\n c2B -1/2. -3**0.5/2. -3**0.5/2. 1/2.\n c2y -1 0 0 1\n c2C 1/2. -3**0.5/2. -3**0.5/2. -1/2.\n c2D 1/2. 3**0.5/2. 3**0.5/2. -1/2.\n _ )<a class=td-heading-self-link href=#d_pp_text_--n--e------1-----0--------0----1--n--c6z----12--3052------3052--12n--ci6z---12--3052------3052--12n--c3z----12--3052------3052--12n--ci3z---12--3052------3052--12n--c2z----1-----0--------0----1n--c2x----1-----0--------0----1-n--c2a----12--3052------3052--12n--c2b----12--3052------3052--12n--c2y----1-----0--------0----1n--c2c----12--3052------3052--12n--c2d----12--3052------3052--12n--_- aria-label="Heading self-link"></a></h4><h4 id=gamma_p_--e-array1-0-0--------0-1-0--------0-0-1-c2a-array-1--0--0---------0--0--1---------0--1--0-c2b-array1-0-0--------0-0-1--------0-1-0-c2c-array-0--1--0---------1--0--0---------0--0--1-c2d-array0-1-0--------1-0-0--------0-0-1-c2e-array-0--0--1---------0--1--0---------1--0--0-c2f-array0-0-1--------0-1-0--------1-0-0-c2x-array-1--0--0---------0--1--0---------0--0--1-c2y-array-1--0--0---------0--1--0---------0--0--1-c2z-array-1--0--0---------0--1--0---------0--0--1-c3al-array-0--1--0---------0--0--1---------1--0--0-c3be-array-0--1--0---------0--0--1---------1--0--0-c3de-array0-1-0--------0-0-1--------1-0-0-c3ga-array-0--1--0---------0--0--1---------1--0--0-c4x-array-0--0--1---------0--1--0---------1--0--0-c4y-array-0--1--0---------1--0--0---------0--0--1-c4z-array-1--0--0---------0--0--1---------0--1--0-ci3al-array-0--0--1---------1--0--0---------0--1--0-ci3be-array-0--0--1---------1--0--0---------0--1--0-ci3de-array0-0-1--------1-0-0--------0-1-0-ci3ga-array-0--0--1---------1--0--0---------0--1--0-ci4x-array-0--0--1---------0--1--0---------1--0--0-ci4y-array-0--1--0---------1--0--0---------0--0--1-ci4z-array-1--0--0---------0--0--1---------0--1--0_->Gamma_p(_ = {&lsquo;E&rsquo;: array([[1., 0., 0.], [0., 1., 0.], [0., 0., 1.]]), &lsquo;c2a&rsquo;: array([[ 1., 0., 0.], [ 0., 0., -1.], [ 0., -1., 0.]]), &lsquo;c2b&rsquo;: array([[1., 0., 0.], [0., 0., 1.], [0., 1., 0.]]), &lsquo;c2c&rsquo;: array([[ 0., -1., 0.], [-1., 0., 0.], [ 0., 0., 1.]]), &lsquo;c2d&rsquo;: array([[0., 1., 0.], [1., 0., 0.], [0., 0., 1.]]), &lsquo;c2e&rsquo;: array([[ 0., 0., -1.], [ 0., 1., 0.], [-1., 0., 0.]]), &lsquo;c2f&rsquo;: array([[0., 0., 1.], [0., 1., 0.], [1., 0., 0.]]), &lsquo;c2x&rsquo;: array([[-1., 0., 0.], [ 0., 1., 0.], [ 0., 0., -1.]]), &lsquo;c2y&rsquo;: array([[-1., 0., 0.], [ 0., -1., 0.], [ 0., 0., 1.]]), &lsquo;c2z&rsquo;: array([[ 1., 0., 0.], [ 0., -1., 0.], [ 0., 0., -1.]]), &lsquo;c3al&rsquo;: array([[ 0., -1., 0.], [ 0., 0., 1.], [-1., 0., 0.]]), &lsquo;c3be&rsquo;: array([[ 0., 1., 0.], [ 0., 0., -1.], [-1., 0., 0.]]), &lsquo;c3de&rsquo;: array([[0., 1., 0.], [0., 0., 1.], [1., 0., 0.]]), &lsquo;c3ga&rsquo;: array([[ 0., -1., 0.], [ 0., 0., -1.], [ 1., 0., 0.]]), &lsquo;c4x&rsquo;: array([[ 0., 0., 1.], [ 0., -1., 0.], [-1., 0., 0.]]), &lsquo;c4y&rsquo;: array([[ 0., -1., 0.], [ 1., 0., 0.], [ 0., 0., -1.]]), &lsquo;c4z&rsquo;: array([[-1., 0., 0.], [ 0., 0., -1.], [ 0., 1., 0.]]), &lsquo;ci3al&rsquo;: array([[ 0., 0., -1.], [-1., 0., 0.], [ 0., 1., 0.]]), &lsquo;ci3be&rsquo;: array([[ 0., 0., -1.], [ 1., 0., 0.], [ 0., -1., 0.]]), &lsquo;ci3de&rsquo;: array([[0., 0., 1.], [1., 0., 0.], [0., 1., 0.]]), &lsquo;ci3ga&rsquo;: array([[ 0., 0., 1.], [-1., 0., 0.], [ 0., -1., 0.]]), &lsquo;ci4x&rsquo;: array([[ 0., 0., -1.], [ 0., -1., 0.], [ 1., 0., 0.]]), &lsquo;ci4y&rsquo;: array([[ 0., 1., 0.], [-1., 0., 0.], [ 0., 0., -1.]]), &lsquo;ci4z&rsquo;: array([[-1., 0., 0.], [ 0., 0., 1.], [ 0., -1., 0.]])_ )<a class=td-heading-self-link href=#gamma_p_--e-array1-0-0--------0-1-0--------0-0-1-c2a-array-1--0--0---------0--0--1---------0--1--0-c2b-array1-0-0--------0-0-1--------0-1-0-c2c-array-0--1--0---------1--0--0---------0--0--1-c2d-array0-1-0--------1-0-0--------0-0-1-c2e-array-0--0--1---------0--1--0---------1--0--0-c2f-array0-0-1--------0-1-0--------1-0-0-c2x-array-1--0--0---------0--1--0---------0--0--1-c2y-array-1--0--0---------0--1--0---------0--0--1-c2z-array-1--0--0---------0--1--0---------0--0--1-c3al-array-0--1--0---------0--0--1---------1--0--0-c3be-array-0--1--0---------0--0--1---------1--0--0-c3de-array0-1-0--------0-0-1--------1-0-0-c3ga-array-0--1--0---------0--0--1---------1--0--0-c4x-array-0--0--1---------0--1--0---------1--0--0-c4y-array-0--1--0---------1--0--0---------0--0--1-c4z-array-1--0--0---------0--0--1---------0--1--0-ci3al-array-0--0--1---------1--0--0---------0--1--0-ci3be-array-0--0--1---------1--0--0---------0--1--0-ci3de-array0-0-1--------1-0-0--------0-1-0-ci3ga-array-0--0--1---------1--0--0---------0--1--0-ci4x-array-0--0--1---------0--1--0---------1--0--0-ci4y-array-0--1--0---------1--0--0---------0--0--1-ci4z-array-1--0--0---------0--0--1---------0--1--0_- aria-label="Heading self-link"></a></h4><h4 id=gamma_p_text_--n--e------1---0---0---0---1---0---0---0---1---n--c2x----1---0---0---0---1---0---0---0---1--n--c2y----1---0---0---0---1---0---0---0---1---n--c2z----1---0---0---0---1---0---0---0---1--n--c4x----0---0---1---0---1---0---1---0---0---n--ci4x---0---0---1---0---1---0---1---0---0---n--c4y----0---1---0---1---0---0---0---0---1--n--ci4y---0---1---0---1---0---0---0---0---1--n--c4z----1---0---0---0---0---1---0---1---0---n--ci4z---1---0---0---0---0---1---0---1---0---n--c2a----1---0---0---0---0---1---0---1---0---n--c2b----1---0---0---0---0---1---0---1---0---n--c2c----0---1---0---1---0---0---0---0---1---n--c2d----0---1---0---1---0---0---0---0---1---n--c2e----0---0---1---0---1---0---1---0---0---n--c2f----0---0---1---0---1---0---1---0---0---n--c3al---0---1---0---0---0---1---1---0---0---n--c3be---0---1---0---0---0---1---1---0---0---n--c3ga---0---1---0---0---0---1---1---0---0---n--c3de---0---1---0---0---0---1---1---0---0---n--ci3al--0---0---1---1---0---0---0---1---0---n--ci3be--0---0---1---1---0---0---0---1---0---n--ci3ga--0---0---1---1---0---0---0---1---0---n--ci3de--0---0---1---1---0---0---0---1---0---n--_->Gamma_p_text(_ = &lsquo;\n E 1 0 0 0 1 0 0 0 1 \n c2x -1 0 0 0 1 0 0 0 -1 \n c2y -1 0 0 0 -1 0 0 0 1 \n c2z 1 0 0 0 -1 0 0 0 -1 \n c4x 0 0 1 0 -1 0 -1 0 0 \n ci4x 0 0 -1 0 -1 0 1 0 0 \n c4y 0 -1 0 1 0 0 0 0 -1 \n ci4y 0 1 0 -1 0 0 0 0 -1 \n c4z -1 0 0 0 0 -1 0 1 0 \n ci4z -1 0 0 0 0 1 0 -1 0 \n c2a 1 0 0 0 0 -1 0 -1 0 \n c2b 1 0 0 0 0 1 0 1 0 \n c2c 0 -1 0 -1 0 0 0 0 1 \n c2d 0 1 0 1 0 0 0 0 1 \n c2e 0 0 -1 0 1 0 -1 0 0 \n c2f 0 0 1 0 1 0 1 0 0 \n c3al 0 -1 0 0 0 1 -1 0 0 \n c3be 0 1 0 0 0 -1 -1 0 0 \n c3ga 0 -1 0 0 0 -1 1 0 0 \n c3de 0 1 0 0 0 1 1 0 0 \n ci3al 0 0 -1 -1 0 0 0 1 0 \n ci3be 0 0 -1 1 0 0 0 -1 0 \n ci3ga 0 0 1 -1 0 0 0 -1 0 \n ci3de 0 0 1 1 0 0 0 1 0 \n _ )<a class=td-heading-self-link href=#gamma_p_text_--n--e------1---0---0---0---1---0---0---0---1---n--c2x----1---0---0---0---1---0---0---0---1--n--c2y----1---0---0---0---1---0---0---0---1---n--c2z----1---0---0---0---1---0---0---0---1--n--c4x----0---0---1---0---1---0---1---0---0---n--ci4x---0---0---1---0---1---0---1---0---0---n--c4y----0---1---0---1---0---0---0---0---1--n--ci4y---0---1---0---1---0---0---0---0---1--n--c4z----1---0---0---0---0---1---0---1---0---n--ci4z---1---0---0---0---0---1---0---1---0---n--c2a----1---0---0---0---0---1---0---1---0---n--c2b----1---0---0---0---0---1---0---1---0---n--c2c----0---1---0---1---0---0---0---0---1---n--c2d----0---1---0---1---0---0---0---0---1---n--c2e----0---0---1---0---1---0---1---0---0---n--c2f----0---0---1---0---1---0---1---0---0---n--c3al---0---1---0---0---0---1---1---0---0---n--c3be---0---1---0---0---0---1---1---0---0---n--c3ga---0---1---0---0---0---1---1---0---0---n--c3de---0---1---0---0---0---1---1---0---0---n--ci3al--0---0---1---1---0---0---0---1---0---n--ci3be--0---0---1---1---0---0---0---1---0---n--ci3ga--0---0---1---1---0---0---0---1---0---n--ci3de--0---0---1---1---0---0---0---1---0---n--_- aria-label="Heading self-link"></a></h4><h4 id=gamma_pp_--e-array1-0--------0-1-c2a-array-1--0---------0--1-c2b-array-1--0---------0--1-c2c-array-05--------08660254---------08660254--05-------c2d-array-05--------08660254---------08660254--05-------c2e-array-05--------08660254---------08660254--05-------c2f-array-05--------08660254---------08660254--05-------c2x-array1-0--------0-1-c2y-array1-0--------0-1-c2z-array1-0--------0-1-c3al-array-05--------08660254---------08660254--05-------c3be-array-05--------08660254---------08660254--05-------c3de-array-05--------08660254---------08660254--05-------c3ga-array-05--------08660254---------08660254--05-------c4x-array-05--------08660254---------08660254--05-------c4y-array-05--------08660254---------08660254--05-------c4z-array-1--0---------0--1-ci3al-array-05--------08660254---------08660254--05-------ci3be-array-05--------08660254---------08660254--05-------ci3de-array-05--------08660254---------08660254--05-------ci3ga-array-05--------08660254---------08660254--05-------ci4x-array-05--------08660254---------08660254--05-------ci4y-array-05--------08660254---------08660254--05-------ci4z-array-1--0---------0--1_->Gamma_pp(_ = {&lsquo;E&rsquo;: array([[1., 0.], [0., 1.]]), &lsquo;c2a&rsquo;: array([[-1., 0.], [ 0., 1.]]), &lsquo;c2b&rsquo;: array([[-1., 0.], [ 0., 1.]]), &lsquo;c2c&rsquo;: array([[ 0.5 , 0.8660254], [ 0.8660254, -0.5 ]]), &lsquo;c2d&rsquo;: array([[ 0.5 , 0.8660254], [ 0.8660254, -0.5 ]]), &lsquo;c2e&rsquo;: array([[ 0.5 , -0.8660254], [-0.8660254, -0.5 ]]), &lsquo;c2f&rsquo;: array([[ 0.5 , -0.8660254], [-0.8660254, -0.5 ]]), &lsquo;c2x&rsquo;: array([[1., 0.], [0., 1.]]), &lsquo;c2y&rsquo;: array([[1., 0.], [0., 1.]]), &lsquo;c2z&rsquo;: array([[1., 0.], [0., 1.]]), &lsquo;c3al&rsquo;: array([[-0.5 , -0.8660254], [ 0.8660254, -0.5 ]]), &lsquo;c3be&rsquo;: array([[-0.5 , -0.8660254], [ 0.8660254, -0.5 ]]), &lsquo;c3de&rsquo;: array([[-0.5 , -0.8660254], [ 0.8660254, -0.5 ]]), &lsquo;c3ga&rsquo;: array([[-0.5 , -0.8660254], [ 0.8660254, -0.5 ]]), &lsquo;c4x&rsquo;: array([[ 0.5 , -0.8660254], [-0.8660254, -0.5 ]]), &lsquo;c4y&rsquo;: array([[ 0.5 , 0.8660254], [ 0.8660254, -0.5 ]]), &lsquo;c4z&rsquo;: array([[-1., 0.], [ 0., 1.]]), &lsquo;ci3al&rsquo;: array([[-0.5 , 0.8660254], [-0.8660254, -0.5 ]]), &lsquo;ci3be&rsquo;: array([[-0.5 , 0.8660254], [-0.8660254, -0.5 ]]), &lsquo;ci3de&rsquo;: array([[-0.5 , 0.8660254], [-0.8660254, -0.5 ]]), &lsquo;ci3ga&rsquo;: array([[-0.5 , 0.8660254], [-0.8660254, -0.5 ]]), &lsquo;ci4x&rsquo;: array([[ 0.5 , -0.8660254], [-0.8660254, -0.5 ]]), &lsquo;ci4y&rsquo;: array([[ 0.5 , 0.8660254], [ 0.8660254, -0.5 ]]), &lsquo;ci4z&rsquo;: array([[-1., 0.], [ 0., 1.]])_ )<a class=td-heading-self-link href=#gamma_pp_--e-array1-0--------0-1-c2a-array-1--0---------0--1-c2b-array-1--0---------0--1-c2c-array-05--------08660254---------08660254--05-------c2d-array-05--------08660254---------08660254--05-------c2e-array-05--------08660254---------08660254--05-------c2f-array-05--------08660254---------08660254--05-------c2x-array1-0--------0-1-c2y-array1-0--------0-1-c2z-array1-0--------0-1-c3al-array-05--------08660254---------08660254--05-------c3be-array-05--------08660254---------08660254--05-------c3de-array-05--------08660254---------08660254--05-------c3ga-array-05--------08660254---------08660254--05-------c4x-array-05--------08660254---------08660254--05-------c4y-array-05--------08660254---------08660254--05-------c4z-array-1--0---------0--1-ci3al-array-05--------08660254---------08660254--05-------ci3be-array-05--------08660254---------08660254--05-------ci3de-array-05--------08660254---------08660254--05-------ci3ga-array-05--------08660254---------08660254--05-------ci4x-array-05--------08660254---------08660254--05-------ci4y-array-05--------08660254---------08660254--05-------ci4z-array-1--0---------0--1_- aria-label="Heading self-link"></a></h4><h4 id=gamma_pp_text_--n--e-----c2x---c2y---c2z-------1-----0-------0-----1--n--c3al--c3be--c3ga--c3de------12--3052-----3052---12n--ci3al-ci3be-ci3ga-ci3de-----12--3052-----3052---12n--c4x---ci4x--c2e---c2f-------12--3052-----3052---12n--c4y---ci4y--c2c---c2d-------12--3052-----3052---12n--c4z---ci4z--c2a---c2b-------1-----0-------0-----1n--_->Gamma_pp_text(_ = &lsquo;\n E c2x c2y c2z 1 0 0 1 \n c3al c3be c3ga c3de -1/2. -3**0.5/2. 3**0.5/2. -1/2.\n ci3al ci3be ci3ga ci3de -1/2. 3**0.5/2. -3**0.5/2. -1/2.\n c4x ci4x c2e c2f 1/2. -3**0.5/2. -3**0.5/2. -1/2.\n c4y ci4y c2c c2d 1/2. 3**0.5/2. 3**0.5/2. -1/2.\n c4z ci4z c2a c2b -1 0 0 1\n _ )<a class=td-heading-self-link href=#gamma_pp_text_--n--e-----c2x---c2y---c2z-------1-----0-------0-----1--n--c3al--c3be--c3ga--c3de------12--3052-----3052---12n--ci3al-ci3be-ci3ga-ci3de-----12--3052-----3052---12n--c4x---ci4x--c2e---c2f-------12--3052-----3052---12n--c4y---ci4y--c2c---c2d-------12--3052-----3052---12n--c4z---ci4z--c2a---c2b-------1-----0-------0-----1n--_- aria-label="Heading self-link"></a></h4><h4 id=r_--e-array1-0-0--------0-1-0--------0-0-1-i-array-1--0--0---------0--1--0---------0--0--1-ii-array1-0-0--------0-1-0--------0-0-1-ic2a-array-05--------08660254--0----------------08660254--05--------0----------------0---------0---------1--------ic2b-array-05--------08660254--0----------------08660254--05--------0----------------0---------0---------1--------ic2c-array-05--------08660254--0----------------08660254--05--------0----------------0---------0---------1--------ic2d-array-05--------08660254--0----------------08660254--05--------0----------------0---------0---------1--------ic2a-array-0--1--0---------1--0--0---------0--0--1-ic2b-array-0--1--0---------1--0--0---------0--0--1-ic2c-array-0--0--1---------0--1--0---------1--0--0-ic2d-array-0--0--1---------0--1--0---------1--0--0-ic2e-array-1--0--0---------0--0--1---------0--1--0-ic2f-array-1--0--0---------0--0--1---------0--1--0-ic2x-array-1--0--0---------0--1--0---------0--0--1-ic2y-array-1--0--0---------0--1--0---------0--0--1-ic2z-array-1--0--0---------0--1--0---------0--0--1-ic3al-array-0--1--0---------0--0--1---------1--0--0-ic3be-array-0--1--0---------0--0--1---------1--0--0-ic3de-array-0--1--0---------0--0--1---------1--0--0-ic3ga-array-0--1--0---------0--0--1---------1--0--0-ic3z-array-05--------08660254--0----------------08660254--05--------0----------------0---------0---------1--------ic4x-array-1--0--0---------0--0--1---------0--1--0-ic4y-array-0--0--1---------0--1--0---------1--0--0-ic4z-array-0--1--0---------1--0--0---------0--0--1-ic6z-array-05--------08660254--0----------------08660254--05--------0----------------0---------0---------1--------ici3al-array-0--0--1---------1--0--0---------0--1--0-ici3be-array-0--0--1---------1--0--0---------0--1--0-ici3de-array-0--0--1---------1--0--0---------0--1--0-ici3ga-array-0--0--1---------1--0--0---------0--1--0-ici3z-array-05--------08660254--0----------------08660254--05--------0----------------0---------0---------1--------ici4x-array-1--0--0---------0--0--1---------0--1--0-ici4y-array-0--0--1---------0--1--0---------1--0--0-ici4z-array-0--1--0---------1--0--0---------0--0--1-ici6z-array-05--------08660254--0----------------08660254--05--------0----------------0---------0---------1--------c2a-array-05--------08660254--0----------------08660254--05--------0----------------0---------0---------1--------c2b-array-05--------08660254--0----------------08660254--05--------0----------------0---------0---------1--------c2c-array-05--------08660254--0----------------08660254--05--------0----------------0---------0---------1--------c2d-array-05--------08660254--0----------------08660254--05--------0----------------0---------0---------1--------c2a-array-0--1--0---------1--0--0---------0--0--1-c2b-array-0--1--0---------1--0--0---------0--0--1-c2c-array-0--0--1---------0--1--0---------1--0--0-c2d-array-0--0--1---------0--1--0---------1--0--0-c2e-array-1--0--0---------0--0--1---------0--1--0-c2f-array-1--0--0---------0--0--1---------0--1--0-c2x-array-1--0--0---------0--1--0---------0--0--1-c2y-array-1--0--0---------0--1--0---------0--0--1-c2z-array-1--0--0---------0--1--0---------0--0--1-c3al-array-0--1--0---------0--0--1---------1--0--0-c3be-array-0--1--0---------0--0--1---------1--0--0-c3de-array0-1-0--------0-0-1--------1-0-0-c3ga-array-0--1--0---------0--0--1---------1--0--0-c3z-array-05--------08660254--0----------------08660254--05--------0----------------0---------0---------1--------c4x-array-1--0--0---------0--0--1---------0--1--0-c4y-array-0--0--1---------0--1--0---------1--0--0-c4z-array-0--1--0---------1--0--0---------0--0--1-c6z-array-05--------08660254--0----------------08660254--05--------0----------------0---------0---------1--------ci3al-array-0--0--1---------1--0--0---------0--1--0-ci3be-array-0--0--1---------1--0--0---------0--1--0-ci3de-array0-0-1--------1-0-0--------0-1-0-ci3ga-array-0--0--1---------1--0--0---------0--1--0-ci3z-array-05--------08660254--0----------------08660254--05--------0----------------0---------0---------1--------ci4x-array-1--0--0---------0--0--1---------0--1--0-ci4y-array-0--0--1---------0--1--0---------1--0--0-ci4z-array-0--1--0---------1--0--0---------0--0--1-ci6z-array-05--------08660254--0----------------08660254--05--------0----------------0---------0---------1-------_->R(_ = {&lsquo;E&rsquo;: array([[1., 0., 0.], [0., 1., 0.], [0., 0., 1.]]), &lsquo;I&rsquo;: array([[-1., -0., -0.], [-0., -1., -0.], [-0., -0., -1.]]), &lsquo;II&rsquo;: array([[1., 0., 0.], [0., 1., 0.], [0., 0., 1.]]), &lsquo;Ic2A&rsquo;: array([[ 0.5 , -0.8660254, -0. ], [-0.8660254, -0.5 , -0. ], [-0. , -0. , 1. ]]), &lsquo;Ic2B&rsquo;: array([[ 0.5 , 0.8660254, -0. ], [ 0.8660254, -0.5 , -0. ], [-0. , -0. , 1. ]]), &lsquo;Ic2C&rsquo;: array([[-0.5 , 0.8660254, -0. ], [ 0.8660254, 0.5 , -0. ], [-0. , -0. , 1. ]]), &lsquo;Ic2D&rsquo;: array([[-0.5 , -0.8660254, -0. ], [-0.8660254, 0.5 , -0. ], [-0. , -0. , 1. ]]), &lsquo;Ic2a&rsquo;: array([[-0., -1., -0.], [-1., -0., -0.], [-0., -0., 1.]]), &lsquo;Ic2b&rsquo;: array([[-0., 1., -0.], [ 1., -0., -0.], [-0., -0., 1.]]), &lsquo;Ic2c&rsquo;: array([[-0., -0., -1.], [-0., 1., -0.], [-1., -0., -0.]]), &lsquo;Ic2d&rsquo;: array([[-0., -0., 1.], [-0., 1., -0.], [ 1., -0., -0.]]), &lsquo;Ic2e&rsquo;: array([[ 1., -0., -0.], [-0., -0., -1.], [-0., -1., -0.]]), &lsquo;Ic2f&rsquo;: array([[ 1., -0., -0.], [-0., -0., 1.], [-0., 1., -0.]]), &lsquo;Ic2x&rsquo;: array([[-1., -0., -0.], [-0., 1., -0.], [-0., -0., 1.]]), &lsquo;Ic2y&rsquo;: array([[ 1., -0., -0.], [-0., -1., -0.], [-0., -0., 1.]]), &lsquo;Ic2z&rsquo;: array([[ 1., -0., -0.], [-0., 1., -0.], [-0., -0., -1.]]), &lsquo;Ic3al&rsquo;: array([[-0., -1., -0.], [-0., -0., 1.], [ 1., -0., -0.]]), &lsquo;Ic3be&rsquo;: array([[-0., 1., -0.], [-0., -0., 1.], [-1., -0., -0.]]), &lsquo;Ic3de&rsquo;: array([[-0., -1., -0.], [-0., -0., -1.], [-1., -0., -0.]]), &lsquo;Ic3ga&rsquo;: array([[-0., 1., -0.], [-0., -0., -1.], [ 1., -0., -0.]]), &lsquo;Ic3z&rsquo;: array([[ 0.5 , -0.8660254, -0. ], [ 0.8660254, 0.5 , -0. ], [-0. , -0. , -1. ]]), &lsquo;Ic4x&rsquo;: array([[-1., -0., -0.], [-0., -0., -1.], [-0., 1., -0.]]), &lsquo;Ic4y&rsquo;: array([[-0., -0., 1.], [-0., -1., -0.], [-1., -0., -0.]]), &lsquo;Ic4z&rsquo;: array([[-0., -1., -0.], [ 1., -0., -0.], [-0., -0., -1.]]), &lsquo;Ic6z&rsquo;: array([[-0.5 , -0.8660254, -0. ], [ 0.8660254, -0.5 , -0. ], [-0. , -0. , -1. ]]), &lsquo;Ici3al&rsquo;: array([[-0., -0., 1.], [-1., -0., -0.], [-0., 1., -0.]]), &lsquo;Ici3be&rsquo;: array([[-0., -0., -1.], [ 1., -0., -0.], [-0., 1., -0.]]), &lsquo;Ici3de&rsquo;: array([[-0., -0., -1.], [-1., -0., -0.], [-0., -1., -0.]]), &lsquo;Ici3ga&rsquo;: array([[-0., -0., 1.], [ 1., -0., -0.], [-0., -1., -0.]]), &lsquo;Ici3z&rsquo;: array([[ 0.5 , 0.8660254, -0. ], [-0.8660254, 0.5 , -0. ], [-0. , -0. , -1. ]]), &lsquo;Ici4x&rsquo;: array([[-1., -0., -0.], [-0., -0., 1.], [-0., -1., -0.]]), &lsquo;Ici4y&rsquo;: array([[-0., -0., -1.], [-0., -1., -0.], [ 1., -0., -0.]]), &lsquo;Ici4z&rsquo;: array([[-0., 1., -0.], [-1., -0., -0.], [-0., -0., -1.]]), &lsquo;Ici6z&rsquo;: array([[-0.5 , 0.8660254, -0. ], [-0.8660254, -0.5 , -0. ], [-0. , -0. , -1. ]]), &lsquo;c2A&rsquo;: array([[-0.5 , 0.8660254, 0. ], [ 0.8660254, 0.5 , 0. ], [ 0. , 0. , -1. ]]), &lsquo;c2B&rsquo;: array([[-0.5 , -0.8660254, 0. ], [-0.8660254, 0.5 , 0. ], [ 0. , 0. , -1. ]]), &lsquo;c2C&rsquo;: array([[ 0.5 , -0.8660254, 0. ], [-0.8660254, -0.5 , 0. ], [ 0. , 0. , -1. ]]), &lsquo;c2D&rsquo;: array([[ 0.5 , 0.8660254, 0. ], [ 0.8660254, -0.5 , 0. ], [ 0. , 0. , -1. ]]), &lsquo;c2a&rsquo;: array([[ 0., 1., 0.], [ 1., 0., 0.], [ 0., 0., -1.]]), &lsquo;c2b&rsquo;: array([[ 0., -1., 0.], [-1., 0., 0.], [ 0., 0., -1.]]), &lsquo;c2c&rsquo;: array([[ 0., 0., 1.], [ 0., -1., 0.], [ 1., 0., 0.]]), &lsquo;c2d&rsquo;: array([[ 0., 0., -1.], [ 0., -1., 0.], [-1., 0., 0.]]), &lsquo;c2e&rsquo;: array([[-1., 0., 0.], [ 0., 0., 1.], [ 0., 1., 0.]]), &lsquo;c2f&rsquo;: array([[-1., 0., 0.], [ 0., 0., -1.], [ 0., -1., 0.]]), &lsquo;c2x&rsquo;: array([[ 1., 0., 0.], [ 0., -1., 0.], [ 0., 0., -1.]]), &lsquo;c2y&rsquo;: array([[-1., 0., 0.], [ 0., 1., 0.], [ 0., 0., -1.]]), &lsquo;c2z&rsquo;: array([[-1., 0., 0.], [ 0., -1., 0.], [ 0., 0., 1.]]), &lsquo;c3al&rsquo;: array([[ 0., 1., 0.], [ 0., 0., -1.], [-1., 0., 0.]]), &lsquo;c3be&rsquo;: array([[ 0., -1., 0.], [ 0., 0., -1.], [ 1., 0., 0.]]), &lsquo;c3de&rsquo;: array([[0., 1., 0.], [0., 0., 1.], [1., 0., 0.]]), &lsquo;c3ga&rsquo;: array([[ 0., -1., 0.], [ 0., 0., 1.], [-1., 0., 0.]]), &lsquo;c3z&rsquo;: array([[-0.5 , 0.8660254, 0. ], [-0.8660254, -0.5 , 0. ], [ 0. , 0. , 1. ]]), &lsquo;c4x&rsquo;: array([[ 1., 0., 0.], [ 0., 0., 1.], [ 0., -1., 0.]]), &lsquo;c4y&rsquo;: array([[ 0., 0., -1.], [ 0., 1., 0.], [ 1., 0., 0.]]), &lsquo;c4z&rsquo;: array([[ 0., 1., 0.], [-1., 0., 0.], [ 0., 0., 1.]]), &lsquo;c6z&rsquo;: array([[ 0.5 , 0.8660254, 0. ], [-0.8660254, 0.5 , 0. ], [ 0. , 0. , 1. ]]), &lsquo;ci3al&rsquo;: array([[ 0., 0., -1.], [ 1., 0., 0.], [ 0., -1., 0.]]), &lsquo;ci3be&rsquo;: array([[ 0., 0., 1.], [-1., 0., 0.], [ 0., -1., 0.]]), &lsquo;ci3de&rsquo;: array([[0., 0., 1.], [1., 0., 0.], [0., 1., 0.]]), &lsquo;ci3ga&rsquo;: array([[ 0., 0., -1.], [-1., 0., 0.], [ 0., 1., 0.]]), &lsquo;ci3z&rsquo;: array([[-0.5 , -0.8660254, 0. ], [ 0.8660254, -0.5 , 0. ], [ 0. , 0. , 1. ]]), &lsquo;ci4x&rsquo;: array([[ 1., 0., 0.], [ 0., 0., -1.], [ 0., 1., 0.]]), &lsquo;ci4y&rsquo;: array([[ 0., 0., 1.], [ 0., 1., 0.], [-1., 0., 0.]]), &lsquo;ci4z&rsquo;: array([[ 0., -1., 0.], [ 1., 0., 0.], [ 0., 0., 1.]]), &lsquo;ci6z&rsquo;: array([[ 0.5 , -0.8660254, 0. ], [ 0.8660254, 0.5 , 0. ], [ 0. , 0. , 1. ]])_ )<a class=td-heading-self-link href=#r_--e-array1-0-0--------0-1-0--------0-0-1-i-array-1--0--0---------0--1--0---------0--0--1-ii-array1-0-0--------0-1-0--------0-0-1-ic2a-array-05--------08660254--0----------------08660254--05--------0----------------0---------0---------1--------ic2b-array-05--------08660254--0----------------08660254--05--------0----------------0---------0---------1--------ic2c-array-05--------08660254--0----------------08660254--05--------0----------------0---------0---------1--------ic2d-array-05--------08660254--0----------------08660254--05--------0----------------0---------0---------1--------ic2a-array-0--1--0---------1--0--0---------0--0--1-ic2b-array-0--1--0---------1--0--0---------0--0--1-ic2c-array-0--0--1---------0--1--0---------1--0--0-ic2d-array-0--0--1---------0--1--0---------1--0--0-ic2e-array-1--0--0---------0--0--1---------0--1--0-ic2f-array-1--0--0---------0--0--1---------0--1--0-ic2x-array-1--0--0---------0--1--0---------0--0--1-ic2y-array-1--0--0---------0--1--0---------0--0--1-ic2z-array-1--0--0---------0--1--0---------0--0--1-ic3al-array-0--1--0---------0--0--1---------1--0--0-ic3be-array-0--1--0---------0--0--1---------1--0--0-ic3de-array-0--1--0---------0--0--1---------1--0--0-ic3ga-array-0--1--0---------0--0--1---------1--0--0-ic3z-array-05--------08660254--0----------------08660254--05--------0----------------0---------0---------1--------ic4x-array-1--0--0---------0--0--1---------0--1--0-ic4y-array-0--0--1---------0--1--0---------1--0--0-ic4z-array-0--1--0---------1--0--0---------0--0--1-ic6z-array-05--------08660254--0----------------08660254--05--------0----------------0---------0---------1--------ici3al-array-0--0--1---------1--0--0---------0--1--0-ici3be-array-0--0--1---------1--0--0---------0--1--0-ici3de-array-0--0--1---------1--0--0---------0--1--0-ici3ga-array-0--0--1---------1--0--0---------0--1--0-ici3z-array-05--------08660254--0----------------08660254--05--------0----------------0---------0---------1--------ici4x-array-1--0--0---------0--0--1---------0--1--0-ici4y-array-0--0--1---------0--1--0---------1--0--0-ici4z-array-0--1--0---------1--0--0---------0--0--1-ici6z-array-05--------08660254--0----------------08660254--05--------0----------------0---------0---------1--------c2a-array-05--------08660254--0----------------08660254--05--------0----------------0---------0---------1--------c2b-array-05--------08660254--0----------------08660254--05--------0----------------0---------0---------1--------c2c-array-05--------08660254--0----------------08660254--05--------0----------------0---------0---------1--------c2d-array-05--------08660254--0----------------08660254--05--------0----------------0---------0---------1--------c2a-array-0--1--0---------1--0--0---------0--0--1-c2b-array-0--1--0---------1--0--0---------0--0--1-c2c-array-0--0--1---------0--1--0---------1--0--0-c2d-array-0--0--1---------0--1--0---------1--0--0-c2e-array-1--0--0---------0--0--1---------0--1--0-c2f-array-1--0--0---------0--0--1---------0--1--0-c2x-array-1--0--0---------0--1--0---------0--0--1-c2y-array-1--0--0---------0--1--0---------0--0--1-c2z-array-1--0--0---------0--1--0---------0--0--1-c3al-array-0--1--0---------0--0--1---------1--0--0-c3be-array-0--1--0---------0--0--1---------1--0--0-c3de-array0-1-0--------0-0-1--------1-0-0-c3ga-array-0--1--0---------0--0--1---------1--0--0-c3z-array-05--------08660254--0----------------08660254--05--------0----------------0---------0---------1--------c4x-array-1--0--0---------0--0--1---------0--1--0-c4y-array-0--0--1---------0--1--0---------1--0--0-c4z-array-0--1--0---------1--0--0---------0--0--1-c6z-array-05--------08660254--0----------------08660254--05--------0----------------0---------0---------1--------ci3al-array-0--0--1---------1--0--0---------0--1--0-ci3be-array-0--0--1---------1--0--0---------0--1--0-ci3de-array0-0-1--------1-0-0--------0-1-0-ci3ga-array-0--0--1---------1--0--0---------0--1--0-ci3z-array-05--------08660254--0----------------08660254--05--------0----------------0---------0---------1--------ci4x-array-1--0--0---------0--0--1---------0--1--0-ci4y-array-0--0--1---------0--1--0---------1--0--0-ci4z-array-0--1--0---------1--0--0---------0--0--1-ci6z-array-05--------08660254--0----------------08660254--05--------0----------------0---------0---------1-------_- aria-label="Heading self-link"></a></h4><h4 id=r_text_--n--e--------1------0-----0---------0-----1------0---------0---0---1n--c2x------1------0-----0---------0-----1------0---------0---0---1n--c2y------1------0-----0---------0-----1------0---------0---0---1n--c2z------1------0-----0---------0-----1------0---------0---0---1n--c4x------1------0-----0---------0-----0------1---------0---1---0n--ci4x-----1------0-----0---------0-----0------1---------0---1---0n--c4y------0------0-----1---------0-----1------0---------1---0---0n--ci4y-----0------0-----1---------0-----1------0---------1---0---0n--c4z------0------1-----0---------1-----0------0---------0---0---1n--ci4z-----0------1-----0---------1-----0------0---------0---0---1n--c2a------0------1-----0---------1-----0------0---------0---0---1n--c2b------0------1-----0---------1-----0------0---------0---0---1n--c2c------0------0-----1---------0-----1------0---------1---0---0n--c2d------0------0-----1---------0-----1------0---------1---0---0n--c2e------1------0-----0---------0-----0------1---------0---1---0n--c2f------1------0-----0---------0-----0------1---------0---1---0n--c3al-----0------1-----0---------0-----0------1---------1---0---0n--c3be-----0------1-----0---------0-----0------1---------1---0---0n--c3ga-----0------1-----0---------0-----0------1---------1---0---0n--c3de-----0------1-----0---------0-----0------1---------1---0---0n--ci3al----0------0-----1---------1-----0------0---------0---1---0-n--ci3be----0------0-----1---------1-----0------0---------0---1---0n--ci3ga----0------0-----1---------1-----0------0---------0---1---0-n--ci3de----0------0-----1---------1-----0------0---------0---1---0-n--c3z------12---3052---0---------3052---12---0---------0---0---1n--ci3z-----12---3052---0---------3052---12---0---------0---0---1n--c6z------12---3052---0---------3052---12---0---------0---0---1n--ci6z-----12---3052---0---------3052---12---0---------0---0---1n--c2a------12---3052---0---------3052---12---0---------0---0---1n--c2b------12---3052---0---------3052---12---0---------0---0---1n--c2c------12---3052---0---------3052---12---0---------0---0---1n--c2d------12---3052---0---------3052---12---0---------0---0---1n--_->R_text(_ = &lsquo;\n E 1 0 0 0 1 0 0 0 1\n c2x 1 0 0 0 -1 0 0 0 -1\n c2y -1 0 0 0 1 0 0 0 -1\n c2z -1 0 0 0 -1 0 0 0 1\n c4x 1 0 0 0 0 1 0 -1 0\n ci4x 1 0 0 0 0 -1 0 1 0\n c4y 0 0 -1 0 1 0 1 0 0\n ci4y 0 0 1 0 1 0 -1 0 0\n c4z 0 1 0 -1 0 0 0 0 1\n ci4z 0 -1 0 1 0 0 0 0 1\n c2a 0 1 0 1 0 0 0 0 -1\n c2b 0 -1 0 -1 0 0 0 0 -1\n c2c 0 0 1 0 -1 0 1 0 0\n c2d 0 0 -1 0 -1 0 -1 0 0\n c2e -1 0 0 0 0 1 0 1 0\n c2f -1 0 0 0 0 -1 0 -1 0\n c3al 0 1 0 0 0 -1 -1 0 0\n c3be 0 -1 0 0 0 -1 1 0 0\n c3ga 0 -1 0 0 0 1 -1 0 0\n c3de 0 1 0 0 0 1 1 0 0\n ci3al 0 0 -1 1 0 0 0 -1 0 \n ci3be 0 0 1 -1 0 0 0 -1 0\n ci3ga 0 0 -1 -1 0 0 0 1 0 \n ci3de 0 0 1 1 0 0 0 1 0 \n c3z -1/2. 3**0.5/2. 0 -3**0.5/2. -1/2. 0 0 0 1\n ci3z -1/2. -3**0.5/2. 0 3**0.5/2. -1/2. 0 0 0 1\n c6z 1/2. 3**0.5/2. 0 -3**0.5/2. 1/2. 0 0 0 1\n ci6z 1/2. -3**0.5/2. 0 3**0.5/2. 1/2. 0 0 0 1\n c2A -1/2. 3**0.5/2. 0 3**0.5/2. 1/2. 0 0 0 -1\n c2B -1/2. -3**0.5/2. 0 -3**0.5/2. 1/2. 0 0 0 -1\n c2C 1/2. -3**0.5/2. 0 -3**0.5/2. -1/2. 0 0 0 -1\n c2D 1/2. 3**0.5/2. 0 3**0.5/2. -1/2. 0 0 0 -1\n _ )<a class=td-heading-self-link href=#r_text_--n--e--------1------0-----0---------0-----1------0---------0---0---1n--c2x------1------0-----0---------0-----1------0---------0---0---1n--c2y------1------0-----0---------0-----1------0---------0---0---1n--c2z------1------0-----0---------0-----1------0---------0---0---1n--c4x------1------0-----0---------0-----0------1---------0---1---0n--ci4x-----1------0-----0---------0-----0------1---------0---1---0n--c4y------0------0-----1---------0-----1------0---------1---0---0n--ci4y-----0------0-----1---------0-----1------0---------1---0---0n--c4z------0------1-----0---------1-----0------0---------0---0---1n--ci4z-----0------1-----0---------1-----0------0---------0---0---1n--c2a------0------1-----0---------1-----0------0---------0---0---1n--c2b------0------1-----0---------1-----0------0---------0---0---1n--c2c------0------0-----1---------0-----1------0---------1---0---0n--c2d------0------0-----1---------0-----1------0---------1---0---0n--c2e------1------0-----0---------0-----0------1---------0---1---0n--c2f------1------0-----0---------0-----0------1---------0---1---0n--c3al-----0------1-----0---------0-----0------1---------1---0---0n--c3be-----0------1-----0---------0-----0------1---------1---0---0n--c3ga-----0------1-----0---------0-----0------1---------1---0---0n--c3de-----0------1-----0---------0-----0------1---------1---0---0n--ci3al----0------0-----1---------1-----0------0---------0---1---0-n--ci3be----0------0-----1---------1-----0------0---------0---1---0n--ci3ga----0------0-----1---------1-----0------0---------0---1---0-n--ci3de----0------0-----1---------1-----0------0---------0---1---0-n--c3z------12---3052---0---------3052---12---0---------0---0---1n--ci3z-----12---3052---0---------3052---12---0---------0---0---1n--c6z------12---3052---0---------3052---12---0---------0---0---1n--ci6z-----12---3052---0---------3052---12---0---------0---0---1n--c2a------12---3052---0---------3052---12---0---------0---0---1n--c2b------12---3052---0---------3052---12---0---------0---0---1n--c2c------12---3052---0---------3052---12---0---------0---0---1n--c2d------12---3052---0---------3052---12---0---------0---0---1n--_- aria-label="Heading self-link"></a></h4><h4 id=s_--e-array1-0--------0-1-c2c-array0-1--------1-0-c2d-array-0--1---------1--0-c2x-array-1--0---------0--1-c2y-array-1--0---------0--1-c2z-array-1--0---------0--1-c4y-array-0--1---------1--0-ci4y-array-0--1---------1--0_->S(_ = {&lsquo;E&rsquo;: array([[1., 0.], [0., 1.]]), &lsquo;c2c&rsquo;: array([[0., 1.], [1., 0.]]), &lsquo;c2d&rsquo;: array([[ 0., -1.], [-1., 0.]]), &lsquo;c2x&rsquo;: array([[ 1., 0.], [ 0., -1.]]), &lsquo;c2y&rsquo;: array([[-1., 0.], [ 0., -1.]]), &lsquo;c2z&rsquo;: array([[-1., 0.], [ 0., 1.]]), &lsquo;c4y&rsquo;: array([[ 0., -1.], [ 1., 0.]]), &lsquo;ci4y&rsquo;: array([[ 0., 1.], [-1., 0.]])_ )<a class=td-heading-self-link href=#s_--e-array1-0--------0-1-c2c-array0-1--------1-0-c2d-array-0--1---------1--0-c2x-array-1--0---------0--1-c2y-array-1--0---------0--1-c2z-array-1--0---------0--1-c4y-array-0--1---------1--0-ci4y-array-0--1---------1--0_- aria-label="Heading self-link"></a></h4><h4 id=s_text_--n--e--------1--0------0--1--n--c2y------1--0------0--1n--c2c------0--1------1--0n--c2d------0--1------1--0n--c4y------0--1------1--0n--ci4y-----0--1------1--0-n--c2x------1--0------0--1n--c2z------1--0------0--1n--_->S_text(_ = &lsquo;\n E 1 0 0 1 \n c2y -1 0 0 -1\n c2c 0 1 1 0\n c2d 0 -1 -1 0\n c4y 0 -1 1 0\n ci4y 0 1 -1 0 \n c2x 1 0 0 -1\n c2z -1 0 0 1\n _ )<a class=td-heading-self-link href=#s_text_--n--e--------1--0------0--1--n--c2y------1--0------0--1n--c2c------0--1------1--0n--c2d------0--1------1--0n--c4y------0--1------1--0n--ci4y-----0--1------1--0-n--c2x------1--0------0--1n--c2z------1--0------0--1n--_- aria-label="Heading self-link"></a></h4><h4 id=i_--c2d_->i(_ = &lsquo;c2D_ )<a class=td-heading-self-link href=#i_--c2d_- aria-label="Heading self-link"></a></h4><h4 id=ii_--c2z--1-0-0-1_->ii(_ = [&lsquo;c2z&rsquo;, &lsquo;-1&rsquo;, &lsquo;0&rsquo;, &lsquo;0&rsquo;, &lsquo;1&rsquo;_ )<a class=td-heading-self-link href=#ii_--c2z--1-0-0-1_- aria-label="Heading self-link"></a></h4><h4 id=jj_--c2b-c2d_->jj(_ = [&lsquo;c2B&rsquo;, &lsquo;c2D&rsquo;_ )<a class=td-heading-self-link href=#jj_--c2b-c2d_- aria-label="Heading self-link"></a></h4><h4 id=kk_--12-3052-3052--12_->kk(_ = [&lsquo;1/2.&rsquo;, &lsquo;3**0.5/2.&rsquo;, &lsquo;3**0.5/2.&rsquo;, &lsquo;-1/2.&rsquo;_ )<a class=td-heading-self-link href=#kk_--12-3052-3052--12_- aria-label="Heading self-link"></a></h4><h3 id=_class_-principia_materiasymmetrycornwell_datacornwell_point_grouppgn><em>class</em> principia_materia.symmetry.cornwell_data.Cornwell_point_group(pgn)<a class=td-heading-self-link href=#_class_-principia_materiasymmetrycornwell_datacornwell_point_grouppgn aria-label="Heading self-link"></a></h3><p>Bases: <code>object</code></p><p>This class is a simple container holding all of the information on the crystallographic point groups.
This information was taken from Appendix C of ‘Group Theory in Physics’ by J.F. Cornwell, 1997 Edition.
Information includes the classes, character tables, irrep matrices, and subgroups. When combined with the
information from Cornwell_group_matrices, these classes can be used to instantiate the point group class.</p><h4 id=get_mirror_notation>get_mirror_notation()<a class=td-heading-self-link href=#get_mirror_notation aria-label="Heading self-link"></a></h4><p>This method provides a dictionary to map between Cornwell notation and mirror plane notation.</p><h4 id=parse_data>parse_data()<a class=td-heading-self-link href=#parse_data aria-label="Heading self-link"></a></h4><h4 id=parse_irrep_matr>parse_irrep_matr()<a class=td-heading-self-link href=#parse_irrep_matr aria-label="Heading self-link"></a></h4><p>This method will parse the input for the irrep matrices. This is basically just encoding what is given
in the Appendix of Cornwell. We store all the necessary matrices in Cornwell_group_matrices, but we need to
know which ones to take and whether or not we should mutliply by -1. A have created the following syntax:
Eg | c 1 Gamma_pp | I 1 Gamma_pp
T1g | c 1 R | I 1 R</p><p>First we have the irrep, then we have either one or two (two in this case) 3-tuple sets of info. The first item
‘c’ tells us that this is the proper rotations, we should use matrices Gamma_pp from Cornwell, and we should multiply
by the prefactor of ‘1’. The same logic applies to the next set of info which corresponds to the improper rotations.</p></div><div class=td-content style=page-break-before:always><h1 id=pg-7842f552c13c978c5d94d015ca8f0014>8.77 - Module principia_materia.symmetry.little_group</h1><div class=lead>Module principia_materia.symmetry.little_group</div><h1 id=principia_materiasymmetrylittle_group-module>principia_materia.symmetry.little_group module<a class=td-heading-self-link href=#principia_materiasymmetrylittle_group-module aria-label="Heading self-link"></a></h1><h3 id=principia_materiasymmetrylittle_groupget_little_groupqpoint-pg-rvec-subgroupfalse-tol1e-06>principia_materia.symmetry.little_group.get_little_group(Qpoint, pg, rvec, subgroup=False, tol=1e-06)<a class=td-heading-self-link href=#principia_materiasymmetrylittle_groupget_little_groupqpoint-pg-rvec-subgroupfalse-tol1e-06 aria-label="Heading self-link"></a></h3></div><div class=td-content style=page-break-before:always><h1 id=pg-5e38e7a610f1a34874f60ea3ac0da59f>8.78 - Module principia_materia.symmetry.point_group</h1><div class=lead>Module principia_materia.symmetry.point_group</div><h1 id=principia_materiasymmetrypoint_group-module>principia_materia.symmetry.point_group module<a class=td-heading-self-link href=#principia_materiasymmetrypoint_group-module aria-label="Heading self-link"></a></h1><h3 id=_class_-principia_materiasymmetrypoint_grouppointgroupinp-mirror_notationfalse><em>class</em> principia_materia.symmetry.point_group.PointGroup(inp, mirror_notation=False)<a class=td-heading-self-link href=#_class_-principia_materiasymmetrypoint_grouppointgroupinp-mirror_notationfalse aria-label="Heading self-link"></a></h3><p>Bases: <code>object</code></p><p>This class allows one to encode all of the information about a point group, including the character table. This class mainly is a container
for data. The only nontrivial method is for rotating to a different coordinate system.</p><h4 id=check_irrep_matrtol1e-06>check_irrep_matr(tol=1e-06)<a class=td-heading-self-link href=#check_irrep_matrtol1e-06 aria-label="Heading self-link"></a></h4><p>Check if the irrep matrices match the character table.</p><p>This will check if the irrep matrices that were entered have the proper characters as prescribed by
the character table, and we will confirm that they are unitary. This ensures no typos with Cornwell_group_matrices
and that no typos are made when entering the point group info below.</p><h4 id=_property_-clas><em>property</em> clas()<a class=td-heading-self-link href=#_property_-clas aria-label="Heading self-link"></a></h4><p>clas will be the alias if set, otherwise it will return the default class names in Cornwell.</p><h4 id=_classmethod_-create_all_pg><em>classmethod</em> create_all_pg()<a class=td-heading-self-link href=#_classmethod_-create_all_pg aria-label="Heading self-link"></a></h4><p>Create all point groups that are listed in Cornwell class and return them as a dictionary.</p><h4 id=create_alternate_pgs>create_alternate_pgs()<a class=td-heading-self-link href=#create_alternate_pgs aria-label="Heading self-link"></a></h4><p>Create a list of PointGroup instances enumerating all the different class choices given by clas_choices in Cornwell_point_group.</p><h4 id=_classmethod_-create_pgop_to_pg><em>classmethod</em> create_pgop_to_pg()<a class=td-heading-self-link href=#_classmethod_-create_pgop_to_pg aria-label="Heading self-link"></a></h4><p>Create a dictionary which maps a tuple of group elements to a point group. The keys must be sorted, and the values are a tuple containing the
point group name and the default class.</p><h4 id=find_multiplication_tableg-namestrue>find_multiplication_table(G={}, names=True)<a class=td-heading-self-link href=#find_multiplication_tableg-namestrue aria-label="Heading self-link"></a></h4><p>This method will find the multiplication table, and it can be returned either in terms of the element names or numbers.</p><p>The latter is useful to determine if two groups are isomorphic.</p><h4 id=_classmethod_-init_frominp><em>classmethod</em> init_from(inp)<a class=td-heading-self-link href=#_classmethod_-init_frominp aria-label="Heading self-link"></a></h4><p>Construct PointGroup object from either a point group name or a list of point group operators.</p><h4 id=_classmethod_-init_from_operatorspgop><em>classmethod</em> init_from_operators(pgop)<a class=td-heading-self-link href=#_classmethod_-init_from_operatorspgop aria-label="Heading self-link"></a></h4><p>Construct PointGroup object from a list of point group operators.</p><h4 id=set_aliasmapd>set_alias(mapd)<a class=td-heading-self-link href=#set_aliasmapd aria-label="Heading self-link"></a></h4><p>Rename the group elements according to the mapping provided by the dictionary mapd.</p><h4 id=set_clasclasnone>set_clas(clas=None)<a class=td-heading-self-link href=#set_clasclasnone aria-label="Heading self-link"></a></h4><p>Set the classes using the same notation as in Cornwell file.</p><p>The different classes are split on the ‘|’, for example:</p><pre tabindex=0><code class=language-default data-lang=default>E | c3z ci3z | Ic2x Ic2A Ic2B | c2z | c6z ci6z | Ic2y Ic2C Ic2D
</code></pre><h4 id=set_ctctnone>set_ct(ct=None)<a class=td-heading-self-link href=#set_ctctnone aria-label="Heading self-link"></a></h4><p>Set the character table values as a string using the same notation as in Cornwell file.</p><p>The default is to take these from Cornwell. A set can be provided as a string:</p><pre tabindex=0><code class=language-default data-lang=default>1    1   1   1    1   1
1    1  -1   1    1  -1
...
</code></pre><h4 id=set_gmatrgmatrnone>set_gmatr(gmatr=None)<a class=td-heading-self-link href=#set_gmatrgmatrnone aria-label="Heading self-link"></a></h4><p>Set the group element matrices. The default is to take these from Cornwell.</p><p>A set can be provided as a string (needs to be updated to CP data) or a list of matrices.</p><h4 id=set_inameinamenone>set_iname(iname=None)<a class=td-heading-self-link href=#set_inameinamenone aria-label="Heading self-link"></a></h4><p>Set the names of the irreps.</p><h4 id=set_irrep_matrirrep_matrnone>set_irrep_matr(irrep_matr=None)<a class=td-heading-self-link href=#set_irrep_matrirrep_matrnone aria-label="Heading self-link"></a></h4><p>Set the irreducible representation matrices. They are either taken from Cornwell, or input, or neither.</p><p>These are not required given that our representation code can compute them.</p><h4 id=set_mirror_notation>set_mirror_notation()<a class=td-heading-self-link href=#set_mirror_notation aria-label="Heading self-link"></a></h4><h4 id=set_subgroups>set_subgroups()<a class=td-heading-self-link href=#set_subgroups aria-label="Heading self-link"></a></h4><h4 id=store_characters>store_characters()<a class=td-heading-self-link href=#store_characters aria-label="Heading self-link"></a></h4><p>Create an OrderedDict characters which stores the character for each group element.</p><p>This is needed when using the projection operator.</p><h3 id=_class_-principia_materiasymmetrypoint_groupclass_method_descriptorfunc><em>class</em> principia_materia.symmetry.point_group.class_method_descriptor(func)<a class=td-heading-self-link href=#_class_-principia_materiasymmetrypoint_groupclass_method_descriptorfunc aria-label="Heading self-link"></a></h3><p>Bases: <code>object</code></p><h3 id=principia_materiasymmetrypoint_groupfind_invgroup-sym_op>principia_materia.symmetry.point_group.find_inv(group, sym_op)<a class=td-heading-self-link href=#principia_materiasymmetrypoint_groupfind_invgroup-sym_op aria-label="Heading self-link"></a></h3><p>This function finds the inverse group operator of the input, in the given point group.</p><h3 id=principia_materiasymmetrypoint_groupgroup_lineageparent-child>principia_materia.symmetry.point_group.group_lineage(parent, child)<a class=td-heading-self-link href=#principia_materiasymmetrypoint_groupgroup_lineageparent-child aria-label="Heading self-link"></a></h3><p>Determine the lineage of two groups.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>parent</strong> (instance of PointGroup) – The parent group.</p></li><li><p><strong>child</strong> (instance of PointGroup) – The child group.</p></li></ul></li><li><p><strong>Returns</strong></p><p><strong>pc_lineage</strong> – A dictionary with keys being a parent irrep and values being a corresponding
OrderedDict containing keys with child irreps and values of number of nonzero instances.</p></li><li><p><strong>Return type</strong></p><p>OrderedDict</p></li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-73fe3c7311f27996432925865453889d>8.79 - Module principia_materia.tetrahedron</h1><div class=lead>Module principia_materia.tetrahedron</div><h1 id=principia_materiatetrahedron-package>principia_materia.tetrahedron package<a class=td-heading-self-link href=#principia_materiatetrahedron-package aria-label="Heading self-link"></a></h1><h2 id=submodules>Submodules<a class=td-heading-self-link href=#submodules aria-label="Heading self-link"></a></h2><ul><li><p><a href=/docs/references/principia_materia.tetrahedron.tetrahedra.html>principia_materia.tetrahedron.tetrahedra module</a></p><ul><li><p><a href=/docs/references/principia_materia.tetrahedron.tetrahedra.html#principia_materia.tetrahedron.tetrahedra.Tetrahedra><code>Tetrahedra</code></a></p><ul><li><p><a href=/docs/references/principia_materia.tetrahedron.tetrahedra.html#principia_materia.tetrahedron.tetrahedra.Tetrahedra.diagonal_vecs><code>Tetrahedra.diagonal_vecs</code></a></p></li><li><p><a href=/docs/references/principia_materia.tetrahedron.tetrahedra.html#principia_materia.tetrahedron.tetrahedra.Tetrahedra.itet_kpoint_ind_fort><code>Tetrahedra.itet_kpoint_ind_fort</code></a></p></li><li><p><a href=/docs/references/principia_materia.tetrahedron.tetrahedra.html#principia_materia.tetrahedron.tetrahedra.Tetrahedra.make_tetrahedrons><code>Tetrahedra.make_tetrahedrons()</code></a></p><ul><li><p><a href=/docs/references/principia_materia.tetrahedron.tetrahedra.html#principia_materia.tetrahedron.tetrahedra.Tetrahedra.tet_kpoint_ind><code>Tetrahedra.tet_kpoint_ind</code></a></p></li><li><p><a href=/docs/references/principia_materia.tetrahedron.tetrahedra.html#principia_materia.tetrahedron.tetrahedra.Tetrahedra.itet_kpoint_ind><code>Tetrahedra.itet_kpoint_ind</code></a></p></li><li><p><a href=/docs/references/principia_materia.tetrahedron.tetrahedra.html#principia_materia.tetrahedron.tetrahedra.Tetrahedra.itet_map><code>Tetrahedra.itet_map</code></a></p></li><li><p><a href=/docs/references/principia_materia.tetrahedron.tetrahedra.html#principia_materia.tetrahedron.tetrahedra.Tetrahedra.itet_mult><code>Tetrahedra.itet_mult</code></a></p></li></ul></li><li><p><a href=/docs/references/principia_materia.tetrahedron.tetrahedra.html#principia_materia.tetrahedron.tetrahedra.Tetrahedra.ptets><code>Tetrahedra.ptets</code></a></p></li><li><p><a href=/docs/references/principia_materia.tetrahedron.tetrahedra.html#principia_materia.tetrahedron.tetrahedra.Tetrahedra.shortest_diagonals><code>Tetrahedra.shortest_diagonals</code></a></p></li><li><p><a href=/docs/references/principia_materia.tetrahedron.tetrahedra.html#principia_materia.tetrahedron.tetrahedra.Tetrahedra.tet_kpoint_ind_fort><code>Tetrahedra.tet_kpoint_ind_fort</code></a></p></li><li><p><a href=/docs/references/principia_materia.tetrahedron.tetrahedra.html#principia_materia.tetrahedron.tetrahedra.Tetrahedra.tet_mult><code>Tetrahedra.tet_mult</code></a></p></li></ul></li></ul></li></ul><h2 id=module-contents>Module contents<a class=td-heading-self-link href=#module-contents aria-label="Heading self-link"></a></h2></div><div class=td-content style=page-break-before:always><h1 id=pg-e5ada9933bc577a58429db215186b012>8.80 - Module principia_materia.tetrahedron.tetrahedra</h1><div class=lead>Module principia_materia.tetrahedron.tetrahedra</div><h1 id=principia_materiatetrahedrontetrahedra-module>principia_materia.tetrahedron.tetrahedra module<a class=td-heading-self-link href=#principia_materiatetrahedrontetrahedra-module aria-label="Heading self-link"></a></h1><h3 id=_class_-principia_materiatetrahedrontetrahedratetrahedravec-supa-pgnone-tol1e-06><em>class</em> principia_materia.tetrahedron.tetrahedra.Tetrahedra(vec, supa, pg=None, tol=1e-06)<a class=td-heading-self-link href=#_class_-principia_materiatetrahedrontetrahedratetrahedravec-supa-pgnone-tol1e-06 aria-label="Heading self-link"></a></h3><p>Bases: <a href=/docs/references/principia_materia.translation_group.kpoints.html#principia_materia.translation_group.kpoints.Kpoints><code>Kpoints</code></a></p><p>K-vectors for tetrahedron integration of the reciprocal space</p><h4 id=_property_-diagonal_vecs><em>property</em> diagonal_vecs()<a class=td-heading-self-link href=#_property_-diagonal_vecs aria-label="Heading self-link"></a></h4><h4 id=_property_-itet_kpoint_ind_fort><em>property</em> itet_kpoint_ind_fort()<a class=td-heading-self-link href=#_property_-itet_kpoint_ind_fort aria-label="Heading self-link"></a></h4><h4 id=make_tetrahedrons>make_tetrahedrons()<a class=td-heading-self-link href=#make_tetrahedrons aria-label="Heading self-link"></a></h4><p>Find the irreducible tetrahedra</p><p>Construct the tetrahedra in terms of irreducible K-vectors and reduce this list of terahedra to a irreducible set.</p><h4 id=tet_kpoint_ind>tet_kpoint_ind()<a class=td-heading-self-link href=#tet_kpoint_ind aria-label="Heading self-link"></a></h4><p>Tetrahedra in terms of indices of irreducible K-vectors in the irreducible K-vector list.</p><ul><li><p><strong>Type</strong></p><p>array of int, shape(self.vol * 6, 4)</p></li></ul><h4 id=itet_kpoint_ind>itet_kpoint_ind()<a class=td-heading-self-link href=#itet_kpoint_ind aria-label="Heading self-link"></a></h4><p>Irreducible tetrahedra in terms of indices of irreducible K-vectors in the irreducible K-vector list.</p><ul><li><p><strong>Type</strong></p><p>array of int, shape(N, 4)</p></li></ul><h4 id=itet_map>itet_map()<a class=td-heading-self-link href=#itet_map aria-label="Heading self-link"></a></h4><p>The index of irreducible tetrahedra of each tetradedron.</p><ul><li><p><strong>Type</strong></p><p>array of int, shape(self.vol * 6, )</p></li></ul><h4 id=itet_mult>itet_mult()<a class=td-heading-self-link href=#itet_mult aria-label="Heading self-link"></a></h4><p>The multiplicity of each irreducible tetrahedra.</p><ul><li><p><strong>Type</strong></p><p>array of int, shape(N)</p></li></ul><h4 id=_property_-ptets><em>property</em> ptets()<a class=td-heading-self-link href=#_property_-ptets aria-label="Heading self-link"></a></h4><h4 id=_property_-shortest_diagonals><em>property</em> shortest_diagonals()<a class=td-heading-self-link href=#_property_-shortest_diagonals aria-label="Heading self-link"></a></h4><h4 id=_property_-tet_kpoint_ind_fort><em>property</em> tet_kpoint_ind_fort()<a class=td-heading-self-link href=#_property_-tet_kpoint_ind_fort aria-label="Heading self-link"></a></h4><h4 id=_property_-tet_mult><em>property</em> tet_mult()<a class=td-heading-self-link href=#_property_-tet_mult aria-label="Heading self-link"></a></h4></div><div class=td-content style=page-break-before:always><h1 id=pg-93772a7a8bc9d06a7abceaef1f11b17d>8.81 - Module principia_materia.translation_group</h1><div class=lead>Module principia_materia.translation_group</div><h1 id=principia_materiatranslation_group-package>principia_materia.translation_group package<a class=td-heading-self-link href=#principia_materiatranslation_group-package aria-label="Heading self-link"></a></h1><h2 id=submodules>Submodules<a class=td-heading-self-link href=#submodules aria-label="Heading self-link"></a></h2><ul><li><p><a href=/docs/references/principia_materia.translation_group.cluster.html>principia_materia.translation_group.cluster module</a></p><ul><li><p><a href=/docs/references/principia_materia.translation_group.cluster.html#principia_materia.translation_group.cluster.Cluster><code>Cluster</code></a></p><ul><li><p><a href=/docs/references/principia_materia.translation_group.cluster.html#principia_materia.translation_group.cluster.Cluster.dim><code>Cluster.dim</code></a></p></li><li><p><a href=/docs/references/principia_materia.translation_group.cluster.html#principia_materia.translation_group.cluster.Cluster.natoms><code>Cluster.natoms</code></a></p></li><li><p><a href=/docs/references/principia_materia.translation_group.cluster.html#principia_materia.translation_group.cluster.Cluster.nspecies><code>Cluster.nspecies</code></a></p></li><li><p><a href=/docs/references/principia_materia.translation_group.cluster.html#principia_materia.translation_group.cluster.Cluster.positions><code>Cluster.positions</code></a></p></li><li><p><a href=/docs/references/principia_materia.translation_group.cluster.html#principia_materia.translation_group.cluster.Cluster.orbitals><code>Cluster.orbitals</code></a></p></li><li><p><a href=/docs/references/principia_materia.translation_group.cluster.html#principia_materia.translation_group.cluster.Cluster.norbitals><code>Cluster.norbitals</code></a></p></li><li><p><a href=/docs/references/principia_materia.translation_group.cluster.html#principia_materia.translation_group.cluster.Cluster.atoms><code>Cluster.atoms</code></a></p></li><li><p><a href=/docs/references/principia_materia.translation_group.cluster.html#principia_materia.translation_group.cluster.Cluster.species><code>Cluster.species</code></a></p></li><li><p><a href=/docs/references/principia_materia.translation_group.cluster.html#principia_materia.translation_group.cluster.Cluster.center><code>Cluster.center</code></a></p></li><li><p><a href=/docs/references/principia_materia.translation_group.cluster.html#id0><code>Cluster.atoms</code></a></p></li><li><p><a href=/docs/references/principia_materia.translation_group.cluster.html#principia_materia.translation_group.cluster.Cluster.atoms_species_map><code>Cluster.atoms_species_map</code></a></p></li><li><p><a href=/docs/references/principia_materia.translation_group.cluster.html#principia_materia.translation_group.cluster.Cluster.axial_strain><code>Cluster.axial_strain()</code></a></p></li><li><p><a href=/docs/references/principia_materia.translation_group.cluster.html#id1><code>Cluster.center</code></a></p></li><li><p><a href=/docs/references/principia_materia.translation_group.cluster.html#principia_materia.translation_group.cluster.Cluster.check_atoms_overlap><code>Cluster.check_atoms_overlap()</code></a></p></li><li><p><a href=/docs/references/principia_materia.translation_group.cluster.html#principia_materia.translation_group.cluster.Cluster.copy><code>Cluster.copy()</code></a></p></li><li><p><a href=/docs/references/principia_materia.translation_group.cluster.html#id2><code>Cluster.dim</code></a></p></li><li><p><a href=/docs/references/principia_materia.translation_group.cluster.html#principia_materia.translation_group.cluster.Cluster.find_atoms><code>Cluster.find_atoms()</code></a></p></li><li><p><a href=/docs/references/principia_materia.translation_group.cluster.html#id3><code>Cluster.natoms</code></a></p></li><li><p><a href=/docs/references/principia_materia.translation_group.cluster.html#id4><code>Cluster.norbitals</code></a></p></li><li><p><a href=/docs/references/principia_materia.translation_group.cluster.html#id5><code>Cluster.nspecies</code></a></p></li><li><p><a href=/docs/references/principia_materia.translation_group.cluster.html#id6><code>Cluster.orbitals</code></a></p></li><li><p><a href=/docs/references/principia_materia.translation_group.cluster.html#id7><code>Cluster.positions</code></a></p></li><li><p><a href=/docs/references/principia_materia.translation_group.cluster.html#principia_materia.translation_group.cluster.Cluster.rotate><code>Cluster.rotate()</code></a></p></li><li><p><a href=/docs/references/principia_materia.translation_group.cluster.html#principia_materia.translation_group.cluster.Cluster.rotate_atoms><code>Cluster.rotate_atoms()</code></a></p></li><li><p><a href=/docs/references/principia_materia.translation_group.cluster.html#principia_materia.translation_group.cluster.Cluster.shift_atom><code>Cluster.shift_atom()</code></a></p></li><li><p><a href=/docs/references/principia_materia.translation_group.cluster.html#principia_materia.translation_group.cluster.Cluster.shift_atoms><code>Cluster.shift_atoms()</code></a></p></li><li><p><a href=/docs/references/principia_materia.translation_group.cluster.html#principia_materia.translation_group.cluster.Cluster.shift_origin><code>Cluster.shift_origin()</code></a></p></li><li><p><a href=/docs/references/principia_materia.translation_group.cluster.html#id8><code>Cluster.species</code></a></p></li><li><p><a href=/docs/references/principia_materia.translation_group.cluster.html#principia_materia.translation_group.cluster.Cluster.species_names><code>Cluster.species_names</code></a></p></li><li><p><a href=/docs/references/principia_materia.translation_group.cluster.html#principia_materia.translation_group.cluster.Cluster.strain><code>Cluster.strain()</code></a></p></li><li><p><a href=/docs/references/principia_materia.translation_group.cluster.html#principia_materia.translation_group.cluster.Cluster.to_dict><code>Cluster.to_dict()</code></a></p></li></ul></li><li><p><a href=/docs/references/principia_materia.translation_group.cluster.html#principia_materia.translation_group.cluster.get_cluster_io_wrapper><code>get_cluster_io_wrapper()</code></a></p></li></ul></li><li><p><a href=/docs/references/principia_materia.translation_group.crystal.html>principia_materia.translation_group.crystal module</a></p><ul><li><p><a href=/docs/references/principia_materia.translation_group.crystal.html#principia_materia.translation_group.crystal.Crystal><code>Crystal</code></a></p><ul><li><p><a href=/docs/references/principia_materia.translation_group.crystal.html#principia_materia.translation_group.crystal.Crystal.copy><code>Crystal.copy()</code></a></p></li><li><p><a href=/docs/references/principia_materia.translation_group.crystal.html#principia_materia.translation_group.crystal.Crystal.get_subcell><code>Crystal.get_subcell()</code></a></p></li><li><p><a href=/docs/references/principia_materia.translation_group.crystal.html#principia_materia.translation_group.crystal.Crystal.positions_cartesian><code>Crystal.positions_cartesian</code></a></p></li><li><p><a href=/docs/references/principia_materia.translation_group.crystal.html#principia_materia.translation_group.crystal.Crystal.rotate_atoms><code>Crystal.rotate_atoms()</code></a></p></li><li><p><a href=/docs/references/principia_materia.translation_group.crystal.html#principia_materia.translation_group.crystal.Crystal.to_dict><code>Crystal.to_dict()</code></a></p></li></ul></li><li><p><a href=/docs/references/principia_materia.translation_group.crystal.html#principia_materia.translation_group.crystal.get_crystal_io_wrapper><code>get_crystal_io_wrapper()</code></a></p></li></ul></li><li><p><a href=/docs/references/principia_materia.translation_group.crystal_ftg.html>principia_materia.translation_group.crystal_ftg module</a></p><ul><li><p><a href=/docs/references/principia_materia.translation_group.crystal_ftg.html#principia_materia.translation_group.crystal_ftg.CrystalFTG><code>CrystalFTG</code></a></p><ul><li><p><a href=/docs/references/principia_materia.translation_group.crystal_ftg.html#principia_materia.translation_group.crystal_ftg.CrystalFTG.as_primitive><code>CrystalFTG.as_primitive()</code></a></p></li><li><p><a href=/docs/references/principia_materia.translation_group.crystal_ftg.html#principia_materia.translation_group.crystal_ftg.CrystalFTG.atoms><code>CrystalFTG.atoms</code></a></p></li><li><p><a href=/docs/references/principia_materia.translation_group.crystal_ftg.html#principia_materia.translation_group.crystal_ftg.CrystalFTG.copy><code>CrystalFTG.copy()</code></a></p></li><li><p><a href=/docs/references/principia_materia.translation_group.crystal_ftg.html#principia_materia.translation_group.crystal_ftg.CrystalFTG.find_atoms><code>CrystalFTG.find_atoms()</code></a></p></li><li><p><a href=/docs/references/principia_materia.translation_group.crystal_ftg.html#principia_materia.translation_group.crystal_ftg.CrystalFTG.from_primitive><code>CrystalFTG.from_primitive()</code></a></p></li><li><p><a href=/docs/references/principia_materia.translation_group.crystal_ftg.html#principia_materia.translation_group.crystal_ftg.CrystalFTG.get_basis_at_q><code>CrystalFTG.get_basis_at_q()</code></a></p></li><li><p><a href=/docs/references/principia_materia.translation_group.crystal_ftg.html#principia_materia.translation_group.crystal_ftg.CrystalFTG.get_wigner_seitz_cell><code>CrystalFTG.get_wigner_seitz_cell()</code></a></p></li><li><p><a href=/docs/references/principia_materia.translation_group.crystal_ftg.html#principia_materia.translation_group.crystal_ftg.CrystalFTG.invsupa><code>CrystalFTG.invsupa</code></a></p></li><li><p><a href=/docs/references/principia_materia.translation_group.crystal_ftg.html#principia_materia.translation_group.crystal_ftg.CrystalFTG.orbitals><code>CrystalFTG.orbitals</code></a></p></li><li><p><a href=/docs/references/principia_materia.translation_group.crystal_ftg.html#principia_materia.translation_group.crystal_ftg.CrystalFTG.rotate><code>CrystalFTG.rotate()</code></a></p></li><li><p><a href=/docs/references/principia_materia.translation_group.crystal_ftg.html#principia_materia.translation_group.crystal_ftg.CrystalFTG.shift_atom><code>CrystalFTG.shift_atom()</code></a></p></li><li><p><a href=/docs/references/principia_materia.translation_group.crystal_ftg.html#principia_materia.translation_group.crystal_ftg.CrystalFTG.species_names><code>CrystalFTG.species_names</code></a></p></li><li><p><a href=/docs/references/principia_materia.translation_group.crystal_ftg.html#principia_materia.translation_group.crystal_ftg.CrystalFTG.supa><code>CrystalFTG.supa</code></a></p></li><li><p><a href=/docs/references/principia_materia.translation_group.crystal_ftg.html#principia_materia.translation_group.crystal_ftg.CrystalFTG.supa_atoms_map><code>CrystalFTG.supa_atoms_map</code></a></p></li><li><p><a href=/docs/references/principia_materia.translation_group.crystal_ftg.html#principia_materia.translation_group.crystal_ftg.CrystalFTG.supa_translations><code>CrystalFTG.supa_translations</code></a></p></li><li><p><a href=/docs/references/principia_materia.translation_group.crystal_ftg.html#principia_materia.translation_group.crystal_ftg.CrystalFTG.to_dict><code>CrystalFTG.to_dict()</code></a></p></li><li><p><a href=/docs/references/principia_materia.translation_group.crystal_ftg.html#principia_materia.translation_group.crystal_ftg.CrystalFTG.tol><code>CrystalFTG.tol</code></a></p></li></ul></li><li><p><a href=/docs/references/principia_materia.translation_group.crystal_ftg.html#principia_materia.translation_group.crystal_ftg.get_crystal_ftg_io_wrapper><code>get_crystal_ftg_io_wrapper()</code></a></p></li></ul></li><li><p><a href=/docs/references/principia_materia.translation_group.kpoints.html>principia_materia.translation_group.kpoints module</a></p><ul><li><p><a href=/docs/references/principia_materia.translation_group.kpoints.html#principia_materia.translation_group.kpoints.Kpoints><code>Kpoints</code></a></p><ul><li><p><a href=/docs/references/principia_materia.translation_group.kpoints.html#principia_materia.translation_group.kpoints.Kpoints.copy><code>Kpoints.copy()</code></a></p></li><li><p><a href=/docs/references/principia_materia.translation_group.kpoints.html#principia_materia.translation_group.kpoints.Kpoints.find_irreducible_lattice_points><code>Kpoints.find_irreducible_lattice_points()</code></a></p></li><li><p><a href=/docs/references/principia_materia.translation_group.kpoints.html#principia_materia.translation_group.kpoints.Kpoints.get_index><code>Kpoints.get_index()</code></a></p></li><li><p><a href=/docs/references/principia_materia.translation_group.kpoints.html#principia_materia.translation_group.kpoints.Kpoints.invsupa><code>Kpoints.invsupa</code></a></p></li><li><p><a href=/docs/references/principia_materia.translation_group.kpoints.html#principia_materia.translation_group.kpoints.Kpoints.irreducible_kpoints><code>Kpoints.irreducible_kpoints</code></a></p></li><li><p><a href=/docs/references/principia_materia.translation_group.kpoints.html#principia_materia.translation_group.kpoints.Kpoints.irreducible_kpoints_index_map><code>Kpoints.irreducible_kpoints_index_map</code></a></p></li><li><p><a href=/docs/references/principia_materia.translation_group.kpoints.html#principia_materia.translation_group.kpoints.Kpoints.irreducible_kpoints_map><code>Kpoints.irreducible_kpoints_map</code></a></p></li><li><p><a href=/docs/references/principia_materia.translation_group.kpoints.html#principia_materia.translation_group.kpoints.Kpoints.irreducible_kpoints_mult><code>Kpoints.irreducible_kpoints_mult</code></a></p></li><li><p><a href=/docs/references/principia_materia.translation_group.kpoints.html#principia_materia.translation_group.kpoints.Kpoints.irreducible_kpoints_trans><code>Kpoints.irreducible_kpoints_trans</code></a></p></li><li><p><a href=/docs/references/principia_materia.translation_group.kpoints.html#principia_materia.translation_group.kpoints.Kpoints.kpoints><code>Kpoints.kpoints</code></a></p></li><li><p><a href=/docs/references/principia_materia.translation_group.kpoints.html#principia_materia.translation_group.kpoints.Kpoints.kpoints_to_rlattice><code>Kpoints.kpoints_to_rlattice()</code></a></p></li><li><p><a href=/docs/references/principia_materia.translation_group.kpoints.html#principia_materia.translation_group.kpoints.Kpoints.multiplicity><code>Kpoints.multiplicity</code></a></p></li><li><p><a href=/docs/references/principia_materia.translation_group.kpoints.html#principia_materia.translation_group.kpoints.Kpoints.rlattice_to_kpoints><code>Kpoints.rlattice_to_kpoints()</code></a></p></li><li><p><a href=/docs/references/principia_materia.translation_group.kpoints.html#principia_materia.translation_group.kpoints.Kpoints.rotated_kpoints><code>Kpoints.rotated_kpoints</code></a></p></li><li><p><a href=/docs/references/principia_materia.translation_group.kpoints.html#principia_materia.translation_group.kpoints.Kpoints.rvec_bz><code>Kpoints.rvec_bz</code></a></p></li><li><p><a href=/docs/references/principia_materia.translation_group.kpoints.html#principia_materia.translation_group.kpoints.Kpoints.supa><code>Kpoints.supa</code></a></p></li><li><p><a href=/docs/references/principia_materia.translation_group.kpoints.html#principia_materia.translation_group.kpoints.Kpoints.to_dict><code>Kpoints.to_dict()</code></a></p></li></ul></li><li><p><a href=/docs/references/principia_materia.translation_group.kpoints.html#principia_materia.translation_group.kpoints.get_kpoints_io_wrapper><code>get_kpoints_io_wrapper()</code></a></p></li></ul></li><li><p><a href=/docs/references/principia_materia.translation_group.lattice.html>principia_materia.translation_group.lattice module</a></p><ul><li><p><a href=/docs/references/principia_materia.translation_group.lattice.html#principia_materia.translation_group.lattice.Lattice><code>Lattice</code></a></p><ul><li><p><a href=/docs/references/principia_materia.translation_group.lattice.html#principia_materia.translation_group.lattice.Lattice.abc><code>Lattice.abc</code></a></p></li><li><p><a href=/docs/references/principia_materia.translation_group.lattice.html#principia_materia.translation_group.lattice.Lattice.abg><code>Lattice.abg</code></a></p></li><li><p><a href=/docs/references/principia_materia.translation_group.lattice.html#principia_materia.translation_group.lattice.Lattice.axial_strain><code>Lattice.axial_strain()</code></a></p></li><li><p><a href=/docs/references/principia_materia.translation_group.lattice.html#principia_materia.translation_group.lattice.Lattice.cartesian_to_lattice><code>Lattice.cartesian_to_lattice()</code></a></p></li><li><p><a href=/docs/references/principia_materia.translation_group.lattice.html#principia_materia.translation_group.lattice.Lattice.copy><code>Lattice.copy()</code></a></p></li><li><p><a href=/docs/references/principia_materia.translation_group.lattice.html#principia_materia.translation_group.lattice.Lattice.dim><code>Lattice.dim</code></a></p></li><li><p><a href=/docs/references/principia_materia.translation_group.lattice.html#principia_materia.translation_group.lattice.Lattice.lattice_to_cartesian><code>Lattice.lattice_to_cartesian()</code></a></p></li><li><p><a href=/docs/references/principia_materia.translation_group.lattice.html#principia_materia.translation_group.lattice.Lattice.rabc><code>Lattice.rabc</code></a></p></li><li><p><a href=/docs/references/principia_materia.translation_group.lattice.html#principia_materia.translation_group.lattice.Lattice.rabg><code>Lattice.rabg</code></a></p></li><li><p><a href=/docs/references/principia_materia.translation_group.lattice.html#principia_materia.translation_group.lattice.Lattice.rvec><code>Lattice.rvec</code></a></p></li><li><p><a href=/docs/references/principia_materia.translation_group.lattice.html#principia_materia.translation_group.lattice.Lattice.rvol><code>Lattice.rvol</code></a></p></li><li><p><a href=/docs/references/principia_materia.translation_group.lattice.html#principia_materia.translation_group.lattice.Lattice.set_ws_cell><code>Lattice.set_ws_cell()</code></a></p></li><li><p><a href=/docs/references/principia_materia.translation_group.lattice.html#principia_materia.translation_group.lattice.Lattice.similarity_transform><code>Lattice.similarity_transform()</code></a></p></li><li><p><a href=/docs/references/principia_materia.translation_group.lattice.html#principia_materia.translation_group.lattice.Lattice.strain><code>Lattice.strain()</code></a></p></li><li><p><a href=/docs/references/principia_materia.translation_group.lattice.html#principia_materia.translation_group.lattice.Lattice.to_dict><code>Lattice.to_dict()</code></a></p></li><li><p><a href=/docs/references/principia_materia.translation_group.lattice.html#principia_materia.translation_group.lattice.Lattice.vec><code>Lattice.vec</code></a></p></li><li><p><a href=/docs/references/principia_materia.translation_group.lattice.html#principia_materia.translation_group.lattice.Lattice.vol><code>Lattice.vol</code></a></p></li><li><p><a href=/docs/references/principia_materia.translation_group.lattice.html#principia_materia.translation_group.lattice.Lattice.ws_weight><code>Lattice.ws_weight()</code></a></p></li></ul></li><li><p><a href=/docs/references/principia_materia.translation_group.lattice.html#principia_materia.translation_group.lattice.get_lattice_io_wrapper><code>get_lattice_io_wrapper()</code></a></p></li></ul></li><li><p><a href=/docs/references/principia_materia.translation_group.lattice_ftg.html>principia_materia.translation_group.lattice_ftg module</a></p><ul><li><p><a href=/docs/references/principia_materia.translation_group.lattice_ftg.html#principia_materia.translation_group.lattice_ftg.LatticeFTG><code>LatticeFTG</code></a></p><ul><li><p><a href=/docs/references/principia_materia.translation_group.lattice_ftg.html#principia_materia.translation_group.lattice_ftg.LatticeFTG.copy><code>LatticeFTG.copy()</code></a></p></li><li><p><a href=/docs/references/principia_materia.translation_group.lattice_ftg.html#principia_materia.translation_group.lattice_ftg.LatticeFTG.find_irreducible_lattice_points><code>LatticeFTG.find_irreducible_lattice_points()</code></a></p><ul><li><p><a href=/docs/references/principia_materia.translation_group.lattice_ftg.html#principia_materia.translation_group.lattice_ftg.LatticeFTG.rotated_lattice_points><code>LatticeFTG.rotated_lattice_points</code></a></p></li><li><p><a href=/docs/references/principia_materia.translation_group.lattice_ftg.html#principia_materia.translation_group.lattice_ftg.LatticeFTG.irreducible_lattice_points_trans><code>LatticeFTG.irreducible_lattice_points_trans</code></a></p></li><li><p><a href=/docs/references/principia_materia.translation_group.lattice_ftg.html#principia_materia.translation_group.lattice_ftg.LatticeFTG.irreducible_lattice_points_index_map><code>LatticeFTG.irreducible_lattice_points_index_map</code></a></p></li><li><p><a href=/docs/references/principia_materia.translation_group.lattice_ftg.html#principia_materia.translation_group.lattice_ftg.LatticeFTG.irreducible_lattice_points_index><code>LatticeFTG.irreducible_lattice_points_index</code></a></p></li><li><p><a href=/docs/references/principia_materia.translation_group.lattice_ftg.html#principia_materia.translation_group.lattice_ftg.LatticeFTG.irreducible_lattice_points_map><code>LatticeFTG.irreducible_lattice_points_map</code></a></p></li><li><p><a href=/docs/references/principia_materia.translation_group.lattice_ftg.html#principia_materia.translation_group.lattice_ftg.LatticeFTG.irreducible_lattice_points_mult><code>LatticeFTG.irreducible_lattice_points_mult</code></a></p></li><li><p><a href=/docs/references/principia_materia.translation_group.lattice_ftg.html#principia_materia.translation_group.lattice_ftg.LatticeFTG.irreducible_lattice_points><code>LatticeFTG.irreducible_lattice_points</code></a></p></li></ul></li><li><p><a href=/docs/references/principia_materia.translation_group.lattice_ftg.html#principia_materia.translation_group.lattice_ftg.LatticeFTG.get_index><code>LatticeFTG.get_index()</code></a></p></li><li><p><a href=/docs/references/principia_materia.translation_group.lattice_ftg.html#principia_materia.translation_group.lattice_ftg.LatticeFTG.invsupa><code>LatticeFTG.invsupa</code></a></p></li><li><p><a href=/docs/references/principia_materia.translation_group.lattice_ftg.html#principia_materia.translation_group.lattice_ftg.LatticeFTG.multiplicity><code>LatticeFTG.multiplicity</code></a></p></li><li><p><a href=/docs/references/principia_materia.translation_group.lattice_ftg.html#principia_materia.translation_group.lattice_ftg.LatticeFTG.set_lattice_points><code>LatticeFTG.set_lattice_points()</code></a></p></li><li><p><a href=/docs/references/principia_materia.translation_group.lattice_ftg.html#principia_materia.translation_group.lattice_ftg.LatticeFTG.set_lattice_points_diagonal><code>LatticeFTG.set_lattice_points_diagonal()</code></a></p></li><li><p><a href=/docs/references/principia_materia.translation_group.lattice_ftg.html#principia_materia.translation_group.lattice_ftg.LatticeFTG.set_lattice_points_generic><code>LatticeFTG.set_lattice_points_generic()</code></a></p><ul><li><a href=/docs/references/principia_materia.translation_group.lattice_ftg.html#principia_materia.translation_group.lattice_ftg.LatticeFTG.lattice_points><code>LatticeFTG.lattice_points</code></a></li></ul></li><li><p><a href=/docs/references/principia_materia.translation_group.lattice_ftg.html#principia_materia.translation_group.lattice_ftg.LatticeFTG.supa><code>LatticeFTG.supa</code></a></p></li><li><p><a href=/docs/references/principia_materia.translation_group.lattice_ftg.html#principia_materia.translation_group.lattice_ftg.LatticeFTG.supa_is_diagonal><code>LatticeFTG.supa_is_diagonal</code></a></p></li><li><p><a href=/docs/references/principia_materia.translation_group.lattice_ftg.html#principia_materia.translation_group.lattice_ftg.LatticeFTG.to_dict><code>LatticeFTG.to_dict()</code></a></p></li></ul></li><li><p><a href=/docs/references/principia_materia.translation_group.lattice_ftg.html#principia_materia.translation_group.lattice_ftg.get_lattice_ftg_io_wrapper><code>get_lattice_ftg_io_wrapper()</code></a></p></li><li><p><a href=/docs/references/principia_materia.translation_group.lattice_ftg.html#principia_materia.translation_group.lattice_ftg.get_lattice_points><code>get_lattice_points()</code></a></p></li></ul></li><li><p><a href=/docs/references/principia_materia.translation_group.minimum_supercell.html>principia_materia.translation_group.minimum_supercell module</a></p><ul><li><a href=/docs/references/principia_materia.translation_group.minimum_supercell.html#principia_materia.translation_group.minimum_supercell.get_minimum_supercell><code>get_minimum_supercell()</code></a></li></ul></li><li><p><a href=/docs/references/principia_materia.translation_group.qpoints_n.html>principia_materia.translation_group.qpoints_n module</a></p><ul><li><p><a href=/docs/references/principia_materia.translation_group.qpoints_n.html#principia_materia.translation_group.qpoints_n.QpointsN><code>QpointsN</code></a></p><ul><li><p><a href=/docs/references/principia_materia.translation_group.qpoints_n.html#principia_materia.translation_group.qpoints_n.QpointsN.Qpoints><code>QpointsN.Qpoints</code></a></p></li><li><p><a href=/docs/references/principia_materia.translation_group.qpoints_n.html#principia_materia.translation_group.qpoints_n.QpointsN.Qpoints_orbits><code>QpointsN.Qpoints_orbits</code></a></p></li><li><p><a href=/docs/references/principia_materia.translation_group.qpoints_n.html#principia_materia.translation_group.qpoints_n.QpointsN.find_irreducible_Qpoints><code>QpointsN.find_irreducible_Qpoints()</code></a></p></li><li><p><a href=/docs/references/principia_materia.translation_group.qpoints_n.html#principia_materia.translation_group.qpoints_n.QpointsN.get_Qindex><code>QpointsN.get_Qindex()</code></a></p></li><li><p><a href=/docs/references/principia_materia.translation_group.qpoints_n.html#principia_materia.translation_group.qpoints_n.QpointsN.irreducible_Qpoints><code>QpointsN.irreducible_Qpoints</code></a></p></li><li><p><a href=/docs/references/principia_materia.translation_group.qpoints_n.html#principia_materia.translation_group.qpoints_n.QpointsN.irreducible_Qpoints_Qind><code>QpointsN.irreducible_Qpoints_Qind</code></a></p></li><li><p><a href=/docs/references/principia_materia.translation_group.qpoints_n.html#principia_materia.translation_group.qpoints_n.QpointsN.irreducible_Qpoints_inverse><code>QpointsN.irreducible_Qpoints_inverse</code></a></p></li><li><p><a href=/docs/references/principia_materia.translation_group.qpoints_n.html#principia_materia.translation_group.qpoints_n.QpointsN.irreducible_Qpoints_map><code>QpointsN.irreducible_Qpoints_map</code></a></p></li><li><p><a href=/docs/references/principia_materia.translation_group.qpoints_n.html#principia_materia.translation_group.qpoints_n.QpointsN.irreducible_Qpoints_mult><code>QpointsN.irreducible_Qpoints_mult</code></a></p></li><li><p><a href=/docs/references/principia_materia.translation_group.qpoints_n.html#principia_materia.translation_group.qpoints_n.QpointsN.irreducible_Qpoints_permutation><code>QpointsN.irreducible_Qpoints_permutation</code></a></p></li><li><p><a href=/docs/references/principia_materia.translation_group.qpoints_n.html#principia_materia.translation_group.qpoints_n.QpointsN.irreducible_Qpoints_rotation><code>QpointsN.irreducible_Qpoints_rotation</code></a></p></li><li><p><a href=/docs/references/principia_materia.translation_group.qpoints_n.html#principia_materia.translation_group.qpoints_n.QpointsN.multiplicity><code>QpointsN.multiplicity</code></a></p></li><li><p><a href=/docs/references/principia_materia.translation_group.qpoints_n.html#principia_materia.translation_group.qpoints_n.QpointsN.nQpoints><code>QpointsN.nQpoints</code></a></p></li><li><p><a href=/docs/references/principia_materia.translation_group.qpoints_n.html#principia_materia.translation_group.qpoints_n.QpointsN.n_irreducible_Qpoints><code>QpointsN.n_irreducible_Qpoints</code></a></p></li><li><p><a href=/docs/references/principia_materia.translation_group.qpoints_n.html#principia_materia.translation_group.qpoints_n.QpointsN.supa><code>QpointsN.supa</code></a></p></li><li><p><a href=/docs/references/principia_materia.translation_group.qpoints_n.html#principia_materia.translation_group.qpoints_n.QpointsN.to_dict><code>QpointsN.to_dict()</code></a></p></li></ul></li><li><p><a href=/docs/references/principia_materia.translation_group.qpoints_n.html#principia_materia.translation_group.qpoints_n.QpointsPerm><code>QpointsPerm</code></a></p><ul><li><p><a href=/docs/references/principia_materia.translation_group.qpoints_n.html#principia_materia.translation_group.qpoints_n.QpointsPerm.Qpoints><code>QpointsPerm.Qpoints</code></a></p></li><li><p><a href=/docs/references/principia_materia.translation_group.qpoints_n.html#principia_materia.translation_group.qpoints_n.QpointsPerm.find_permutationally_irreducible_Qpoints><code>QpointsPerm.find_permutationally_irreducible_Qpoints()</code></a></p></li><li><p><a href=/docs/references/principia_materia.translation_group.qpoints_n.html#principia_materia.translation_group.qpoints_n.QpointsPerm.get_Qindex><code>QpointsPerm.get_Qindex()</code></a></p></li><li><p><a href=/docs/references/principia_materia.translation_group.qpoints_n.html#principia_materia.translation_group.qpoints_n.QpointsPerm.irreducible_Qpoints><code>QpointsPerm.irreducible_Qpoints</code></a></p></li><li><p><a href=/docs/references/principia_materia.translation_group.qpoints_n.html#principia_materia.translation_group.qpoints_n.QpointsPerm.irreducible_Qpoints_Qind><code>QpointsPerm.irreducible_Qpoints_Qind</code></a></p></li><li><p><a href=/docs/references/principia_materia.translation_group.qpoints_n.html#principia_materia.translation_group.qpoints_n.QpointsPerm.irreducible_Qpoints_inverse><code>QpointsPerm.irreducible_Qpoints_inverse</code></a></p></li><li><p><a href=/docs/references/principia_materia.translation_group.qpoints_n.html#principia_materia.translation_group.qpoints_n.QpointsPerm.irreducible_Qpoints_map><code>QpointsPerm.irreducible_Qpoints_map</code></a></p></li><li><p><a href=/docs/references/principia_materia.translation_group.qpoints_n.html#principia_materia.translation_group.qpoints_n.QpointsPerm.irreducible_Qpoints_mult><code>QpointsPerm.irreducible_Qpoints_mult</code></a></p></li><li><p><a href=/docs/references/principia_materia.translation_group.qpoints_n.html#principia_materia.translation_group.qpoints_n.QpointsPerm.irreducible_Qpoints_permutation><code>QpointsPerm.irreducible_Qpoints_permutation</code></a></p></li><li><p><a href=/docs/references/principia_materia.translation_group.qpoints_n.html#principia_materia.translation_group.qpoints_n.QpointsPerm.multiplicity><code>QpointsPerm.multiplicity</code></a></p></li><li><p><a href=/docs/references/principia_materia.translation_group.qpoints_n.html#principia_materia.translation_group.qpoints_n.QpointsPerm.nQpoints><code>QpointsPerm.nQpoints</code></a></p></li><li><p><a href=/docs/references/principia_materia.translation_group.qpoints_n.html#principia_materia.translation_group.qpoints_n.QpointsPerm.n_irreducible_Qpoints><code>QpointsPerm.n_irreducible_Qpoints</code></a></p></li><li><p><a href=/docs/references/principia_materia.translation_group.qpoints_n.html#principia_materia.translation_group.qpoints_n.QpointsPerm.supa><code>QpointsPerm.supa</code></a></p></li><li><p><a href=/docs/references/principia_materia.translation_group.qpoints_n.html#principia_materia.translation_group.qpoints_n.QpointsPerm.to_dict><code>QpointsPerm.to_dict()</code></a></p></li></ul></li><li><p><a href=/docs/references/principia_materia.translation_group.qpoints_n.html#principia_materia.translation_group.qpoints_n.get_QpointsN_io_wrapper><code>get_QpointsN_io_wrapper()</code></a></p></li></ul></li><li><p><a href=/docs/references/principia_materia.translation_group.wigner_seitz.html>principia_materia.translation_group.wigner_seitz module</a></p><ul><li><p><a href=/docs/references/principia_materia.translation_group.wigner_seitz.html#principia_materia.translation_group.wigner_seitz.WignerSeitz><code>WignerSeitz</code></a></p><ul><li><a href=/docs/references/principia_materia.translation_group.wigner_seitz.html#principia_materia.translation_group.wigner_seitz.WignerSeitz.weight><code>WignerSeitz.weight()</code></a></li></ul></li></ul></li></ul><h2 id=module-contents>Module contents<a class=td-heading-self-link href=#module-contents aria-label="Heading self-link"></a></h2><h3 id=principia_materiatranslation_groupfit_in_supercellqpoint-supa-decimal6>principia_materia.translation_group.fit_in_supercell(qpoint, supa, decimal=6)<a class=td-heading-self-link href=#principia_materiatranslation_groupfit_in_supercellqpoint-supa-decimal6 aria-label="Heading self-link"></a></h3><p>Check if q-point fit in a supercell.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>qpoint</strong> (array of floats of <a href=/docs/references/principia_materia.mathematics.new_fraction.html#principia_materia.mathematics.new_fraction.Fraction>Fraction</a>, shape (dim, ) or (N, &mldr;, N&rsquo;, dim)) – qpoint(s) to check the fit.</p></li><li><p><strong>supa</strong> (array of int, shape(dim, dim)) – Supercell matrix.</p></li><li><p><strong>decimal</strong> (int, optional, default to 6) – Decimal points for tolerance.</p></li></ul></li><li><p><strong>Returns</strong></p><p><strong>fit</strong> – Whether the q-point(s) fit in the given supercell.</p></li><li><p><strong>Return type</strong></p><p>bool or array of bool</p></li></ul><h3 id=principia_materiatranslation_groupget_structureinpnone-vecnone-pgnone-supanone-atomsnone-orbitalsnone-scalenone-strict_symmetryfalse-lattice_coordinatetrue-tol1e-06-stypeauto-copyfalse>principia_materia.translation_group.get_structure(inp=None, vec=None, pg=None, supa=None, atoms=None, orbitals=None, scale=None, strict_symmetry=False, lattice_coordinate=True, tol=1e-06, stype=&lsquo;auto&rsquo;, copy=False)<a class=td-heading-self-link href=#principia_materiatranslation_groupget_structureinpnone-vecnone-pgnone-supanone-atomsnone-orbitalsnone-scalenone-strict_symmetryfalse-lattice_coordinatetrue-tol1e-06-stypeauto-copyfalse aria-label="Heading self-link"></a></h3><p>Construct a translation group object based on input data.</p><p>There are several types of inputs accepted:</p><blockquote><ol><li>If a translation group object (i.e. an object of type
Lattice/LatticeFTG/Cluster/Kpoints/Crystal/CrystalFTG)
is passed in as <code>inp</code>, it will return the object back
directly, or return a copy of the object if <code>copy==True</code>.</li></ol></blockquote><blockquote><ol start=2><li>If A YAML file containing information to construct the object,
is passed in as <code>inp</code>, it will be parsed and its content
will be used to construct the object.</li></ol></blockquote><blockquote><ol start=3><li>The key information of the object can be directly passed in.</li></ol></blockquote><p>The keyword <code>stype</code> determines which type of the translation group
object to construct. It can be set to each of the translation group
type, or “auto”.
If <code>stype</code> is not “auto” input type 1 is used, it will check if
the input object is an instance of <code>stype</code>.</p><p>If <code>stype==auto</code>, and input type 2 or 3 is passed in, then the
type of object to construct will be determined using the following
rule:</p><blockquote><ol><li>If <code>vec</code> is provided (either in YAML file or in arguments),
and <code>atoms</code>, <code>supa</code> are missing, Lattice will be constructed.</li></ol></blockquote><blockquote><ol start=2><li>If <code>vec</code> and <code>supa</code> are provided and <code>pg</code>, <code>atoms</code>,
are missing, LatticeFTG will be constructed.</li></ol></blockquote><blockquote><ol start=3><li>If <code>vec</code>, <code>supa</code> and <code>pg</code> are provided and <code>atoms</code>,
are missing, Kpoints will be constructed.</li></ol></blockquote><blockquote><ol start=4><li>If <code>atoms</code> is provided and <code>vec</code>, <code>supa</code> are missing,
Cluster will be constructed.</li></ol></blockquote><blockquote><ol start=5><li>If <code>vec</code>, <code>atoms</code> are provided and <code>supa</code> is missing,
Crystal will be constructed.</li></ol></blockquote><blockquote><ol start=6><li>If <code>vec</code>, <code>atoms</code> and <code>supa</code> are all provided, CrystalFTG
will be constructed.</li></ol></blockquote><p>In cases 1, 4, 5, 6 <code>pg</code> is optional, and in cases 4, 5, 6 <code>orbitals</code>
is optional.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>inp</strong> (str or translation group object, default to None) – A YAML file/YAML string containing information to construct the translation group object,
or a translation group object.
If <code>inp</code> is provided, <code>vec</code>, <code>pg</code>, <code>supa</code>, <code>atoms</code>, <code>orbitals</code> should not be
provided through the arguments, vice versa.</p></li><li><p><strong>vec</strong> (arrays of float, shape(dim, dim), default to None) – The lattice vectors, in row convention.</p></li><li><p><strong>pg</strong> (str or PointGroup object, default to None) – The point group of the lattice.</p></li><li><p><strong>supa</strong> (array of int, shape(dim, dim), default to None) – Super lattice matrix.</p></li><li><p><strong>atoms</strong> (dict (preferably ordered), with str as keys and array of float as values, default None) – A dictionary of names of atoms and their positions.</p></li><li><p><strong>orbitals</strong> (str or list of str or nested list of str, default to None) – Orbital names to assign to the atoms.</p></li><li><p><strong>scale</strong> (float or array of float with shape of (dim, ), default to None) – Scale the lattice vectors.</p></li><li><p><strong>strict_symmetry</strong> (bool, optional, default to False) – In case of LatticeFTG or Kpoints, whether to allow points be rotated out of the given grid.</p></li><li><p><strong>lattice_coordinate</strong> (bool, optional, default to True) – In case of Crystal or CrystalFTG, the positions are in lattice coordinate if
<code>lattice_coordinate==True</code>, otherwise they are in cartesian coordinate.</p></li><li><p><strong>tol</strong> (float, optional, default to 1.0E-6) – Tolerance threshold.</p></li><li><p><strong>stype</strong> (str or traslation group types, optional, default to &ldquo;auto&rdquo;) – The type of translation group object to construct.</p></li><li><p><strong>copy</strong> (bool, optional, default to False) – In the case when <code>inp</code> is a translation group object, whether to return the object directly
or a copy of it.</p></li></ul></li></ul><h3 id=examples>Examples<a class=td-heading-self-link href=#examples aria-label="Heading self-link"></a></h3><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;&gt;&gt;</span> <span style=color:#000>struct</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>get_structure</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;structure.yml&#34;</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;&gt;&gt;</span> <span style=color:#204a87>type</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>struct</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>class</span> <span style=color:#a40000>&#39;</span><span style=color:#000>principia_materia</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>translation_group</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>crystal_ftg</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>CrystalFTG</span><span style=color:#4e9a06>&#39;&gt;</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;&gt;&gt;</span> <span style=color:#204a87>print</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>struct</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>to_dict</span><span style=color:#000;font-weight:700>())</span>
</span></span><span style=display:flex><span><span style=color:#000>OrderedDict</span><span style=color:#000;font-weight:700>([(</span><span style=color:#4e9a06>&#39;vec&#39;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>array</span><span style=color:#000;font-weight:700>([[</span><span style=color:#0000cf;font-weight:700>2.</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>0.</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>0.</span><span style=color:#000;font-weight:700>],</span>
</span></span><span style=display:flex><span>       <span style=color:#000;font-weight:700>[</span><span style=color:#0000cf;font-weight:700>0.</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>2.</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>0.</span><span style=color:#000;font-weight:700>],</span>
</span></span><span style=display:flex><span>       <span style=color:#000;font-weight:700>[</span><span style=color:#0000cf;font-weight:700>0.</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>0.</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>2.</span><span style=color:#000;font-weight:700>]])),</span> <span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;atoms&#39;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>OrderedDict</span><span style=color:#000;font-weight:700>([(</span><span style=color:#4e9a06>&#39;H&#39;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>array</span><span style=color:#000;font-weight:700>([[</span><span style=color:#0000cf;font-weight:700>0.</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>0.</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>0.</span><span style=color:#000;font-weight:700>]])),</span> <span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;He&#39;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>array</span><span style=color:#000;font-weight:700>([[</span><span style=color:#0000cf;font-weight:700>0.25</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>0.25</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>0.25</span><span style=color:#000;font-weight:700>],</span>
</span></span><span style=display:flex><span>       <span style=color:#000;font-weight:700>[</span><span style=color:#0000cf;font-weight:700>0.75</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>0.75</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>0.75</span><span style=color:#000;font-weight:700>]]))])),</span> <span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;orbitals&#39;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#39;s&#39;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#39;d&#39;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#39;p&#39;</span><span style=color:#000;font-weight:700>]),</span> <span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;supa&#39;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>array</span><span style=color:#000;font-weight:700>([[</span><span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>],</span>
</span></span><span style=display:flex><span>       <span style=color:#000;font-weight:700>[</span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>],</span>
</span></span><span style=display:flex><span>       <span style=color:#000;font-weight:700>[</span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>]]))])</span>
</span></span></code></pre></div><h3 id=principia_materiatranslation_groupregister_structure_datawrapper_typewrapper>principia_materia.translation_group.register_structure_datawrapper_type(wrapper)<a class=td-heading-self-link href=#principia_materiatranslation_groupregister_structure_datawrapper_typewrapper aria-label="Heading self-link"></a></h3><h3 id=principia_materiatranslation_groupregister_structure_hdf5wrapper_typewrapper>principia_materia.translation_group.register_structure_hdf5wrapper_type(wrapper)<a class=td-heading-self-link href=#principia_materiatranslation_groupregister_structure_hdf5wrapper_typewrapper aria-label="Heading self-link"></a></h3><h3 id=principia_materiatranslation_groupsave_structurestructure-filenone-use_configfalse>principia_materia.translation_group.save_structure(structure, file=None, use_config=False)<a class=td-heading-self-link href=#principia_materiatranslation_groupsave_structurestructure-filenone-use_configfalse aria-label="Heading self-link"></a></h3><p>Save structure object into YAML file.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>structure</strong> (<a href=/docs/references/principia_materia.translation_group.lattice.html#principia_materia.translation_group.lattice.Lattice>Lattice</a>, <a href=/docs/references/principia_materia.translation_group.cluster.html#principia_materia.translation_group.cluster.Cluster>Cluster</a>, <a href=/docs/references/principia_materia.translation_group.lattice_ftg.html#principia_materia.translation_group.lattice_ftg.LatticeFTG>LatticeFTG</a>, <a href=/docs/references/principia_materia.translation_group.crystal.html#principia_materia.translation_group.crystal.Crystal>Crystal</a>, <a href=/docs/references/principia_materia.translation_group.kpoints.html#principia_materia.translation_group.kpoints.Kpoints>Kpoints</a> or CrystalFTG object) – A structure object to save.</p></li><li><p><strong>file</strong> (str, optional, default to None) – The file to save YAML string into, if None return the string.</p></li></ul></li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-3008f85833532b59cd41ff4e62879913>8.82 - Module principia_materia.translation_group.cluster</h1><div class=lead>Module principia_materia.translation_group.cluster</div><h1 id=principia_materiatranslation_groupcluster-module>principia_materia.translation_group.cluster module<a class=td-heading-self-link href=#principia_materiatranslation_groupcluster-module aria-label="Heading self-link"></a></h1><h3 id=_class_-principia_materiatranslation_groupclusterclusteratoms-orbitalsnone-tol1e-06><em>class</em> principia_materia.translation_group.cluster.Cluster(atoms, orbitals=None, tol=1e-06)<a class=td-heading-self-link href=#_class_-principia_materiatranslation_groupclusterclusteratoms-orbitalsnone-tol1e-06 aria-label="Heading self-link"></a></h3><p>Bases: <code>object</code></p><p>A cluster of atoms or particles.</p><p>We will only refer to them as atoms for now.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>atoms</strong> (dict of str as keys and array of float as values) – A dictionary of names of atoms and their positions.</p></li><li><p><strong>orbitals</strong> (str or array of str) – Orbital names to assign to the atoms.</p></li><li><p><strong>tol</strong> (float) – Tolerance.</p></li></ul></li></ul><h4 id=dim>dim()<a class=td-heading-self-link href=#dim aria-label="Heading self-link"></a></h4><p>Dimension of the cluster.</p><ul><li><p><strong>Type</strong></p><p>int</p></li></ul><h4 id=natoms>natoms()<a class=td-heading-self-link href=#natoms aria-label="Heading self-link"></a></h4><p>Number of atoms in the cluster.</p><ul><li><p><strong>Type</strong></p><p>int</p></li></ul><h4 id=nspecies>nspecies()<a class=td-heading-self-link href=#nspecies aria-label="Heading self-link"></a></h4><p>Number of different species in the cluster.</p><ul><li><p><strong>Type</strong></p><p>int</p></li></ul><h4 id=positions>positions()<a class=td-heading-self-link href=#positions aria-label="Heading self-link"></a></h4><p>Positions of atoms in the cluster.</p><ul><li><p><strong>Type</strong></p><p>array of float, shape(natoms, dim)</p></li></ul><h4 id=orbitals>orbitals()<a class=td-heading-self-link href=#orbitals aria-label="Heading self-link"></a></h4><p>A list of all orbitals of the all the atoms in the cluster.</p><ul><li><p><strong>Type</strong></p><p>array of tuple&lt;int, str></p></li></ul><h4 id=norbitals>norbitals()<a class=td-heading-self-link href=#norbitals aria-label="Heading self-link"></a></h4><p>Total number of orbitals in the cluster.</p><ul><li><p><strong>Type</strong></p><p>float</p></li></ul><h4 id=atoms>atoms()<a class=td-heading-self-link href=#atoms aria-label="Heading self-link"></a></h4><p>A dictionary of names of atoms and their positions.</p><ul><li><p><strong>Type</strong></p><p>dict of str as keys and array of float as values</p></li></ul><h4 id=species>species()<a class=td-heading-self-link href=#species aria-label="Heading self-link"></a></h4><p>A dictionary of names of atoms and their index in all the atoms in the cluster.</p><ul><li><p><strong>Type</strong></p><p>dict of str as keys and array of int as values</p></li></ul><h4 id=center>center()<a class=td-heading-self-link href=#center aria-label="Heading self-link"></a></h4><p>The averanged positions of all the atoms in the cluster.</p><ul><li><p><strong>Type</strong></p><p>array of float, shape(dim, )</p></li></ul><h4 id=_property_-atoms><em>property</em> atoms()<a class=td-heading-self-link href=#_property_-atoms aria-label="Heading self-link"></a></h4><p>A dictionary of atoms and their positions.</p><h4 id=_property_-atoms_species_map><em>property</em> atoms_species_map()<a class=td-heading-self-link href=#_property_-atoms_species_map aria-label="Heading self-link"></a></h4><p>A list of indices of species of each atom.</p><h4 id=axial_strainstrain>axial_strain(strain)<a class=td-heading-self-link href=#axial_strainstrain aria-label="Heading self-link"></a></h4><p>Apply axial strain to the cluster.</p><ul><li><p><strong>Parameters</strong></p><p><strong>strain</strong> (array of float, shape(dim, dim) or shape(dim, )) – The strain matrix or the diagonal of the diaongal strain matrix.</p></li></ul><h4 id=_property_-center><em>property</em> center()<a class=td-heading-self-link href=#_property_-center aria-label="Heading self-link"></a></h4><p>The center of the cluster.</p><p>This center is defined as average positions of all atoms.</p><h4 id=check_atoms_overlaptolnone>check_atoms_overlap(tol=None)<a class=td-heading-self-link href=#check_atoms_overlaptolnone aria-label="Heading self-link"></a></h4><p>Check if atoms overlap with each other.</p><h4 id=copy>copy()<a class=td-heading-self-link href=#copy aria-label="Heading self-link"></a></h4><p>Return a copy of the object.</p><ul><li><p><strong>Returns</strong></p><p><strong>new</strong> – A copy of the object itself.</p></li><li><p><strong>Return type</strong></p><p>Cluster</p></li></ul><h4 id=_property_-dim><em>property</em> dim()<a class=td-heading-self-link href=#_property_-dim aria-label="Heading self-link"></a></h4><p>Dimension of the cluster.</p><h4 id=find_atomspositions>find_atoms(positions)<a class=td-heading-self-link href=#find_atomspositions aria-label="Heading self-link"></a></h4><p>Find the indices of atoms of the same position.</p><p>If an atom is not found, in return index will be -1.</p><ul><li><p><strong>Parameters</strong></p><p><strong>positions</strong> (array of float, shape (dim, ) or (N, dim)) – Positions of atoms to be found.
If input shape is (dim, ), it will be reshaped into
(1, dim) and N = 1.</p></li><li><p><strong>Returns</strong></p><p><strong>atoms_index</strong> – The indices of atoms.</p></li><li><p><strong>Return type</strong></p><p>array of int, shape (N, )</p></li></ul><h4 id=_property_-natoms><em>property</em> natoms()<a class=td-heading-self-link href=#_property_-natoms aria-label="Heading self-link"></a></h4><p>Number of atoms in the cluster.</p><h4 id=_property_-norbitals><em>property</em> norbitals()<a class=td-heading-self-link href=#_property_-norbitals aria-label="Heading self-link"></a></h4><p>Number of orbitals in the cluster.</p><h4 id=_property_-nspecies><em>property</em> nspecies()<a class=td-heading-self-link href=#_property_-nspecies aria-label="Heading self-link"></a></h4><p>Number of species in the cluster.</p><h4 id=_property_-orbitals><em>property</em> orbitals()<a class=td-heading-self-link href=#_property_-orbitals aria-label="Heading self-link"></a></h4><p>A list of all orbitals of atoms in the cluster.</p><h4 id=_property_-positions><em>property</em> positions()<a class=td-heading-self-link href=#_property_-positions aria-label="Heading self-link"></a></h4><p>The coordinates of all atoms.</p><h4 id=rotaterotation>rotate(rotation)<a class=td-heading-self-link href=#rotaterotation aria-label="Heading self-link"></a></h4><p>Rotate atoms (in place).</p><ul><li><p><strong>Parameters</strong></p><p><strong>rotation</strong> (arrat of floats, shape(dim, dim)) – The rotation matrix in column convention.</p></li></ul><h4 id=rotate_atomsrotation>rotate_atoms(rotation)<a class=td-heading-self-link href=#rotate_atomsrotation aria-label="Heading self-link"></a></h4><p>Return the rotated positions of atoms.</p><ul><li><p><strong>Parameters</strong></p><p><strong>rotation</strong> (arrat of floats, shape(dim, dim)) – The rotation matrix in column convention.</p></li></ul><h4 id=shift_atomatom_index-shift>shift_atom(atom_index, shift)<a class=td-heading-self-link href=#shift_atomatom_index-shift aria-label="Heading self-link"></a></h4><p>Shift an atom.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>atom_index</strong> (int) – Index of the atom to shift.</p></li><li><p><strong>shift</strong> (float or array of float, shape(dim, )) – The shift amount.</p></li></ul></li></ul><h4 id=shift_atomsshift>shift_atoms(shift)<a class=td-heading-self-link href=#shift_atomsshift aria-label="Heading self-link"></a></h4><p>Shift all atoms.</p><ul><li><p><strong>Parameters</strong></p><p><strong>shift</strong> (float or array of float, shape(dim, ), or array of float shape(natoms, dim)) – The shift amount.</p></li></ul><h4 id=shift_originshift>shift_origin(shift)<a class=td-heading-self-link href=#shift_originshift aria-label="Heading self-link"></a></h4><p>Shift the origin of the cluster.</p><ul><li><p><strong>Parameters</strong></p><p><strong>shift</strong> (arrat of floats, shape(dim, )) – The shift amount.</p></li></ul><h4 id=_property_-species><em>property</em> species()<a class=td-heading-self-link href=#_property_-species aria-label="Heading self-link"></a></h4><p>The dictionary of species and the indices of atoms of each species.</p><h4 id=_property_-species_names><em>property</em> species_names()<a class=td-heading-self-link href=#_property_-species_names aria-label="Heading self-link"></a></h4><p>A list of names of species.</p><h4 id=strainstrain>strain(strain)<a class=td-heading-self-link href=#strainstrain aria-label="Heading self-link"></a></h4><p>Apply strain to the cluster.</p><ul><li><p><strong>Parameters</strong></p><p><strong>strain</strong> (array of float, shape(dim, dim) or shape(dim, )) – The strain matrix.</p></li></ul><h4 id=to_dict>to_dict()<a class=td-heading-self-link href=#to_dict aria-label="Heading self-link"></a></h4><p>Return a dictionary containing key information about the cluster.</p><h3 id=principia_materiatranslation_groupclusterget_cluster_io_wrappertitlecluster>principia_materia.translation_group.cluster.get_cluster_io_wrapper(title=&lsquo;Cluster&rsquo;)<a class=td-heading-self-link href=#principia_materiatranslation_groupclusterget_cluster_io_wrappertitlecluster aria-label="Heading self-link"></a></h3><p>YAML data wrapper for Cluster class.</p></div><div class=td-content style=page-break-before:always><h1 id=pg-5182ebc231a75cce9c40137099f1756a>8.83 - Module principia_materia.translation_group.crystal</h1><div class=lead>Module principia_materia.translation_group.crystal</div><h1 id=principia_materiatranslation_groupcrystal-module>principia_materia.translation_group.crystal module<a class=td-heading-self-link href=#principia_materiatranslation_groupcrystal-module aria-label="Heading self-link"></a></h1><h3 id=_class_-principia_materiatranslation_groupcrystalcrystalvec-atoms-orbitalsnone-lattice_coordinatetrue-pgnone-tol1e-06><em>class</em> principia_materia.translation_group.crystal.Crystal(vec, atoms, orbitals=None, lattice_coordinate=True, pg=None, tol=1e-06)<a class=td-heading-self-link href=#_class_-principia_materiatranslation_groupcrystalcrystalvec-atoms-orbitalsnone-lattice_coordinatetrue-pgnone-tol1e-06 aria-label="Heading self-link"></a></h3><p>Bases: <a href=/docs/references/principia_materia.translation_group.lattice.html#principia_materia.translation_group.lattice.Lattice><code>Lattice</code></a>, <a href=/docs/references/principia_materia.translation_group.cluster.html#principia_materia.translation_group.cluster.Cluster><code>Cluster</code></a></p><p>A crystal structure.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>vec</strong> (array of float, shape(dim, dim)) – The lattice vectors.</p></li><li><p><strong>atoms</strong> (dict of str as keys and array of float as values) – A dictionary of names of atoms and their positions.
The positions are in lattice coordinate if <em>lattice_coordinate</em> == True,
otherwise they are in cartesian coordinate.</p></li><li><p><strong>orbitals</strong> (str or array of str) – Orbital names to assign to the atoms.</p></li><li><p><strong>lattice_coordinate</strong> (bool, optional, default to True) – If True, the coordinate in input variable atoms is in Cartesian coordinates.</p></li><li><p><strong>pg</strong> (str or a PointGroup object) – The point group of the lattice.</p></li><li><p><strong>tol</strong> (float, optional, default to 1.0E-6) – Tolerance.</p></li></ul></li></ul><h4 id=copy>copy()<a class=td-heading-self-link href=#copy aria-label="Heading self-link"></a></h4><p>Return a copy of the object.</p><ul><li><p><strong>Returns</strong></p><p><strong>new</strong> – A copy of the object itself.</p></li><li><p><strong>Return type</strong></p><p>Crystal</p></li></ul><h4 id=get_subcellsupa>get_subcell(supa)<a class=td-heading-self-link href=#get_subcellsupa aria-label="Heading self-link"></a></h4><p>Get the subcell that can transform to the current cell with the supercell matrix.</p><p>Sometimes, the crystal at hand is not the primitive cell, this method
will help obtain the primitive cell once the supercell matrix is found.</p><ul><li><p><strong>Parameters</strong></p><p><strong>supa</strong> (array of int) – The supercell matrix.</p></li><li><p><strong>Returns</strong></p><p><strong>subcell</strong> – The subcell.</p></li><li><p><strong>Return type</strong></p><p>Crystal</p></li></ul><h4 id=_property_-positions_cartesian><em>property</em> positions_cartesian()<a class=td-heading-self-link href=#_property_-positions_cartesian aria-label="Heading self-link"></a></h4><p>The Cartesian coordinates of the atoms.</p><p>The <code>posision</code> attribute now returns the direct coodinates of the atoms.</p><h4 id=rotate_atomsrotation>rotate_atoms(rotation)<a class=td-heading-self-link href=#rotate_atomsrotation aria-label="Heading self-link"></a></h4><p>Return the rotated positions of atoms.</p><ul><li><p><strong>Parameters</strong></p><p><strong>rotation</strong> (arrat of floats, shape(dim, dim)) – The rotation matrix in column convention</p></li></ul><h4 id=to_dict>to_dict()<a class=td-heading-self-link href=#to_dict aria-label="Heading self-link"></a></h4><p>Return a dictionary containing key information about the crystal.</p><h3 id=principia_materiatranslation_groupcrystalget_crystal_io_wrappertitlecrystal>principia_materia.translation_group.crystal.get_crystal_io_wrapper(title=&lsquo;Crystal&rsquo;)<a class=td-heading-self-link href=#principia_materiatranslation_groupcrystalget_crystal_io_wrappertitlecrystal aria-label="Heading self-link"></a></h3><p>YAML data wrapper for Crystal class.</p><p>It’s a sum of Lattice wrapper and Cluster wrapper.</p></div><div class=td-content style=page-break-before:always><h1 id=pg-6550a8310dc13607ce03d909def015a1>8.84 - Module principia_materia.translation_group.crystal_ftg</h1><div class=lead>Module principia_materia.translation_group.crystal_ftg</div><h1 id=principia_materiatranslation_groupcrystal_ftg-module>principia_materia.translation_group.crystal_ftg module<a class=td-heading-self-link href=#principia_materiatranslation_groupcrystal_ftg-module aria-label="Heading self-link"></a></h1><h3 id=_class_-principia_materiatranslation_groupcrystal_ftgcrystalftgvec-atoms-supanone-orbitalsnone-lattice_coordinatetrue-pgnone-tol1e-06><em>class</em> principia_materia.translation_group.crystal_ftg.CrystalFTG(vec, atoms, supa=None, orbitals=None, lattice_coordinate=True, pg=None, tol=1e-06)<a class=td-heading-self-link href=#_class_-principia_materiatranslation_groupcrystal_ftgcrystalftgvec-atoms-supanone-orbitalsnone-lattice_coordinatetrue-pgnone-tol1e-06 aria-label="Heading self-link"></a></h3><p>Bases: <a href=/docs/references/principia_materia.translation_group.crystal.html#principia_materia.translation_group.crystal.Crystal><code>Crystal</code></a></p><p>A crystal structure with a finite translation group (FTG).</p><p>Here we define a finite translation group by mapping the infinite translation group
of the crystal with periodic boundary condition. This boundary condition is defined
with a supercell.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>vec</strong> (array of float, shape(dim, dim)) – The lattice vectors.</p></li><li><p><strong>atoms</strong> (dict of str as keys and array of float as values) – A dictionary of names of atoms and their positions.
The positions are in lattice coordinate if <em>lattice_coordinate</em> == True,
otherwise they are in cartesian coordinate.</p></li><li><p><strong>supa</strong> (array of int, shape(dim, dim)) – The supercell matrix.</p></li><li><p><strong>orbitals</strong> (str or array of str) – Orbital names to assign to the atoms.</p></li><li><p><strong>lattice_coordinate</strong> (bool, optional, default to True) – If True, the coordinate in input variable atoms is in Cartesian coordinates.</p></li><li><p><strong>pg</strong> (str or a PointGroup object) – The point group of the lattice.</p></li><li><p><strong>tol</strong> (float, optional, default to 1.0E-6) – Tolerance.</p></li></ul></li></ul><h4 id=as_primitive>as_primitive()<a class=td-heading-self-link href=#as_primitive aria-label="Heading self-link"></a></h4><p>Return a copy of the object with the current structure as the primitive cell and supa equal to identity.</p><ul><li><p><strong>Returns</strong></p><p><strong>new</strong> – An CrystalFTG object with the current vec, atoms, orbitals, pg and tol,
supa set to identity.</p></li><li><p><strong>Return type</strong></p><p>CrystalFTG</p></li></ul><h4 id=_property_-atoms><em>property</em> atoms()<a class=td-heading-self-link href=#_property_-atoms aria-label="Heading self-link"></a></h4><p>A dictionary of atoms and their positions.</p><h4 id=copy>copy()<a class=td-heading-self-link href=#copy aria-label="Heading self-link"></a></h4><p>Return a copy of the object.</p><ul><li><p><strong>Returns</strong></p><p><strong>new</strong> – A copy of the object itself.</p></li><li><p><strong>Return type</strong></p><p>CrystalFTG</p></li></ul><h4 id=find_atomspositions>find_atoms(positions)<a class=td-heading-self-link href=#find_atomspositions aria-label="Heading self-link"></a></h4><p>Find the indices of atoms of that have identical positions within a translation.</p><p>If an atom is not found, in return index will be -1.</p><ul><li><p><strong>Parameters</strong></p><p><strong>positions</strong> (array of float, shape (dim, ) or (N, dim)) – Positions of atoms to be found.
If input shape is (dim, ), it will be reshaped into
(1, dim) and N = 1.</p></li><li><p><strong>Returns</strong></p><ul><li><p><strong>atoms_index</strong> (<em>array of int, shape (N, )</em>) – The indices of atoms.</p></li><li><p><strong>translation</strong> (<em>array of int, shape (N, dim)</em>) – The translation that will take the atoms in the crystal
to the input atom position.</p></li></ul></li></ul><h4 id=_classmethod_-from_primitiveprimitive-supa><em>classmethod</em> from_primitive(primitive, supa)<a class=td-heading-self-link href=#_classmethod_-from_primitiveprimitive-supa aria-label="Heading self-link"></a></h4><p>Construct CrystalFTG from Crystal and a supercell.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>primitive</strong> (<a href=/docs/references/principia_materia.translation_group.crystal.html#principia_materia.translation_group.crystal.Crystal>Crystal</a>) – The Crystal object of a primitive cell.</p></li><li><p><strong>supa</strong> (array of int, shape(dim, dim)) – The supercell matrix.</p></li></ul></li><li><p><strong>Returns</strong></p><p><strong>new</strong> – The produced CrystalFTG object.</p></li><li><p><strong>Return type</strong></p><p>CrystalFTG</p></li></ul><h4 id=get_basis_at_qqpoint>get_basis_at_q(qpoint)<a class=td-heading-self-link href=#get_basis_at_qqpoint aria-label="Heading self-link"></a></h4><p>Compute the basis vectors of the primitive cell orbitals at a q-point.</p><p>The input q-point has to fit in the supercell.</p><ul><li><p><strong>Parameters</strong></p><p><strong>qpoint</strong> (array of <a href=/docs/references/principia_materia.mathematics.new_fraction.html#principia_materia.mathematics.new_fraction.Fraction>Fraction</a>, shape(dim, )) – A q-point.</p></li><li><p><strong>Returns</strong></p><p><strong>basis</strong> – The dictionary of the basis vectors of the primitive cell orbitals.</p></li><li><p><strong>Return type</strong></p><p>dict with tuple(int, str) as keys and array of complex, shape(natoms, dim) as values</p></li></ul><h4 id=get_wigner_seitz_cellcenter>get_wigner_seitz_cell(center)<a class=td-heading-self-link href=#get_wigner_seitz_cellcenter aria-label="Heading self-link"></a></h4><p>Find atoms in the Wigner Seitz (WS) cell at a given center.</p><ul><li><p><strong>Parameters</strong></p><p><strong>center</strong> (array of float, shape(self.dim)) – The coordinate of the center of the WS cell in lattice coordinate.</p></li><li><p><strong>Returns</strong></p><ul><li><p><strong>ws_cell_translation</strong> (<em>array of int, shape(N, self.dim)</em>) – The primitive translation vector of the WS atom.
<code>N</code> is the total number of the atoms in the WS cell.</p></li><li><p><strong>ws_cell_atoms</strong> (<em>array of int, shape(N)</em>) – The index of the WS atom in the primitive cell.</p></li><li><p><strong>ws_cell_weights</strong> (<em>array of float, shape(N)</em>) – The weight of the WS atom.</p></li></ul></li></ul><h4 id=_property_-invsupa><em>property</em> invsupa()<a class=td-heading-self-link href=#_property_-invsupa aria-label="Heading self-link"></a></h4><p>The inverse of the supercell matrix.</p><h4 id=_property_-orbitals><em>property</em> orbitals()<a class=td-heading-self-link href=#_property_-orbitals aria-label="Heading self-link"></a></h4><p>A list of all orbitals of atoms in the cluster.</p><h4 id=rotaterotation>rotate(rotation)<a class=td-heading-self-link href=#rotaterotation aria-label="Heading self-link"></a></h4><p>Rotate atoms (in place).</p><ul><li><p><strong>Parameters</strong></p><p><strong>rotation</strong> (arrat of floats, shape(dim, dim)) – The rotation matrix in column convention.</p></li></ul><h4 id=shift_atomatom_index-shift>shift_atom(atom_index, shift)<a class=td-heading-self-link href=#shift_atomatom_index-shift aria-label="Heading self-link"></a></h4><p>Shift an atom.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>atom_index</strong> (int) – Index of the atom to shift.</p></li><li><p><strong>shift</strong> (float or array of float, shape(dim, )) – The shift amount.</p></li></ul></li></ul><h4 id=_property_-species_names><em>property</em> species_names()<a class=td-heading-self-link href=#_property_-species_names aria-label="Heading self-link"></a></h4><p>A list of names of species.</p><h4 id=_property_-supa><em>property</em> supa()<a class=td-heading-self-link href=#_property_-supa aria-label="Heading self-link"></a></h4><p>The supercell matrix.</p><h4 id=_property_-supa_atoms_map><em>property</em> supa_atoms_map()<a class=td-heading-self-link href=#_property_-supa_atoms_map aria-label="Heading self-link"></a></h4><p>The atom indices of the supercell atoms with respect to their
corresponding atoms in primitive cell.</p><h4 id=_property_-supa_translations><em>property</em> supa_translations()<a class=td-heading-self-link href=#_property_-supa_translations aria-label="Heading self-link"></a></h4><p>The translation vectors of the supercell atoms with respect to their
corresponding atoms in primitive cell.</p><h4 id=to_dict>to_dict()<a class=td-heading-self-link href=#to_dict aria-label="Heading self-link"></a></h4><p>Return a dictionary containing key information about the CrystalFTG object.</p><h4 id=_property_-tol><em>property</em> tol()<a class=td-heading-self-link href=#_property_-tol aria-label="Heading self-link"></a></h4><p>Error tolerance.</p><h3 id=principia_materiatranslation_groupcrystal_ftgget_crystal_ftg_io_wrappertitlecrystalftg>principia_materia.translation_group.crystal_ftg.get_crystal_ftg_io_wrapper(title=&lsquo;CrystalFTG&rsquo;)<a class=td-heading-self-link href=#principia_materiatranslation_groupcrystal_ftgget_crystal_ftg_io_wrappertitlecrystalftg aria-label="Heading self-link"></a></h3><p>YAML data wrapper for CrystalFTG class.</p></div><div class=td-content style=page-break-before:always><h1 id=pg-083037c299f8b0e678144a7a9eff4773>8.85 - Module principia_materia.translation_group.kpoints</h1><div class=lead>Module principia_materia.translation_group.kpoints</div><h1 id=principia_materiatranslation_groupkpoints-module>principia_materia.translation_group.kpoints module<a class=td-heading-self-link href=#principia_materiatranslation_groupkpoints-module aria-label="Heading self-link"></a></h1><h3 id=_class_-principia_materiatranslation_groupkpointskpointsvec-supa-pgc1-strict_symmetrytrue-tol1e-06><em>class</em> principia_materia.translation_group.kpoints.Kpoints(vec, supa, pg=&lsquo;C1&rsquo;, strict_symmetry=True, tol=1e-06)<a class=td-heading-self-link href=#_class_-principia_materiatranslation_groupkpointskpointsvec-supa-pgc1-strict_symmetrytrue-tol1e-06 aria-label="Heading self-link"></a></h3><p>Bases: <a href=/docs/references/principia_materia.translation_group.lattice.html#principia_materia.translation_group.lattice.Lattice><code>Lattice</code></a></p><p>A list of K-points that fit in a given supercell.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>vec</strong> (array of float, shape(dim, dim)) – The lattice vectors, in row convention.</p></li><li><p><strong>supa</strong> (array of int, shape(dim, dim)) – Super lattice matrix.</p></li><li><p><strong>pg</strong> (str or a PointGroup object) – The point group of the lattice.</p></li><li><p><strong>strict_symmetry</strong> (bool, optional, default to True) – If True, lattice points must rotate into a point that also fits in the cell.</p></li><li><p><strong>tol</strong> (float, optional, default to 1.0E-6) – Tolerance threshold.</p></li></ul></li></ul><h4 id=copy>copy()<a class=td-heading-self-link href=#copy aria-label="Heading self-link"></a></h4><p>Return a copy of the object.</p><ul><li><p><strong>Returns</strong></p><p><strong>new</strong> – A copy of the object itself.</p></li><li><p><strong>Return type</strong></p><p>Kpoints</p></li></ul><h4 id=find_irreducible_lattice_points>find_irreducible_lattice_points()<a class=td-heading-self-link href=#find_irreducible_lattice_points aria-label="Heading self-link"></a></h4><p>Find the irreducible set of k-points under the given symmetry.</p><h4 id=get_indexvecs>get_index(vecs)<a class=td-heading-self-link href=#get_indexvecs aria-label="Heading self-link"></a></h4><p>Find the index of a given K-vector or a list of K-vectors</p><h4 id=_property_-invsupa><em>property</em> invsupa()<a class=td-heading-self-link href=#_property_-invsupa aria-label="Heading self-link"></a></h4><p>The inverse of the supercell matrix.</p><h4 id=_property_-irreducible_kpoints><em>property</em> irreducible_kpoints()<a class=td-heading-self-link href=#_property_-irreducible_kpoints aria-label="Heading self-link"></a></h4><p>The irreducible k-points.</p><h4 id=_property_-irreducible_kpoints_index_map><em>property</em> irreducible_kpoints_index_map()<a class=td-heading-self-link href=#_property_-irreducible_kpoints_index_map aria-label="Heading self-link"></a></h4><p>The corresponding irreducible k-point index in the k-point list for each k-point.</p><h4 id=_property_-irreducible_kpoints_map><em>property</em> irreducible_kpoints_map()<a class=td-heading-self-link href=#_property_-irreducible_kpoints_map aria-label="Heading self-link"></a></h4><p>The corresponding irreducible k-point index in the irreducible k-point list for each k-point.</p><h4 id=_property_-irreducible_kpoints_mult><em>property</em> irreducible_kpoints_mult()<a class=td-heading-self-link href=#_property_-irreducible_kpoints_mult aria-label="Heading self-link"></a></h4><p>The multiplicity of each irreducible k-point.</p><h4 id=_property_-irreducible_kpoints_trans><em>property</em> irreducible_kpoints_trans()<a class=td-heading-self-link href=#_property_-irreducible_kpoints_trans aria-label="Heading self-link"></a></h4><p>The name of the operation takes the k-points at its index to one of the irreducible k-points.</p><h4 id=_property_-kpoints><em>property</em> kpoints()<a class=td-heading-self-link href=#_property_-kpoints aria-label="Heading self-link"></a></h4><p>The k-points that fit in the supercell.</p><h4 id=kpoints_to_rlatticevecs>kpoints_to_rlattice(vecs)<a class=td-heading-self-link href=#kpoints_to_rlatticevecs aria-label="Heading self-link"></a></h4><p>Convert Fraction K-vector(s) to reciprocal lattice points</p><ul><li><p><strong>Parameters</strong></p><p><strong>vecs</strong> (array of Fraction, same shape as <code>vecs</code>) – The K-vectors (q-points).</p></li><li><p><strong>Returns</strong></p><p><strong>retval</strong> – An array of a series of arrays of the reciprocal lattice points (p-points).</p></li><li><p><strong>Return type</strong></p><p>array of int, shape(N, dim) or shape(dim, )</p></li></ul><h4 id=_property_-multiplicity><em>property</em> multiplicity()<a class=td-heading-self-link href=#_property_-multiplicity aria-label="Heading self-link"></a></h4><p>The multiplicity of the supercell.</p><h4 id=rlattice_to_kpointsvecs>rlattice_to_kpoints(vecs)<a class=td-heading-self-link href=#rlattice_to_kpointsvecs aria-label="Heading self-link"></a></h4><p>Convert reciprocal lattice points to Fraction K-vector(s)</p><ul><li><p><strong>Parameters</strong></p><p><strong>vecs</strong> (array of int, shape(N, dim) or shape(dim, )) – An array of a series of arrays of the reciprocal lattice points (p-points).</p></li><li><p><strong>Returns</strong></p><p><strong>retval</strong> – The K-vectors (q-points).</p></li><li><p><strong>Return type</strong></p><p>array of Fraction, same shape as <code>vecs</code></p></li></ul><h4 id=_property_-rotated_kpoints><em>property</em> rotated_kpoints()<a class=td-heading-self-link href=#_property_-rotated_kpoints aria-label="Heading self-link"></a></h4><p>Dictionary of how what each k-points rotate into for each group operation. (Indices)</p><h4 id=_property_-rvec_bz><em>property</em> rvec_bz()<a class=td-heading-self-link href=#_property_-rvec_bz aria-label="Heading self-link"></a></h4><p>The reciprocal lattice vector of the supercell.</p><h4 id=_property_-supa><em>property</em> supa()<a class=td-heading-self-link href=#_property_-supa aria-label="Heading self-link"></a></h4><p>The supercell matrix.</p><h4 id=to_dict>to_dict()<a class=td-heading-self-link href=#to_dict aria-label="Heading self-link"></a></h4><p>Return a dictionary containing key information about the LatticeFTG object.</p><h3 id=principia_materiatranslation_groupkpointsget_kpoints_io_wrappertitlekpoints>principia_materia.translation_group.kpoints.get_kpoints_io_wrapper(title=&lsquo;Kpoints&rsquo;)<a class=td-heading-self-link href=#principia_materiatranslation_groupkpointsget_kpoints_io_wrappertitlekpoints aria-label="Heading self-link"></a></h3><p>YAML data wrapper for Kpoints class.</p></div><div class=td-content style=page-break-before:always><h1 id=pg-ab550da44e34b302c8ae93c4189c51e6>8.86 - Module principia_materia.translation_group.lattice</h1><div class=lead>Module principia_materia.translation_group.lattice</div><h1 id=principia_materiatranslation_grouplattice-module>principia_materia.translation_group.lattice module<a class=td-heading-self-link href=#principia_materiatranslation_grouplattice-module aria-label="Heading self-link"></a></h1><h3 id=_class_-principia_materiatranslation_grouplatticelatticevec-pgnone-tol1e-06><em>class</em> principia_materia.translation_group.lattice.Lattice(vec, pg=None, tol=1e-06)<a class=td-heading-self-link href=#_class_-principia_materiatranslation_grouplatticelatticevec-pgnone-tol1e-06 aria-label="Heading self-link"></a></h3><p>Bases: <code>object</code></p><p>A lattice.</p><p>It can be a lattice in any kind</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>vec</strong> (array of float, shape(dim, dim)) – The lattice vectors, in row convention.</p></li><li><p><strong>pg</strong> (str or a PointGroup object) – The point group of the lattice.</p></li><li><p><strong>tol</strong> (float, optional, default to 1.0E-6) – Tolerance threshold.</p></li></ul></li></ul><h4 id=_property_-abc><em>property</em> abc()<a class=td-heading-self-link href=#_property_-abc aria-label="Heading self-link"></a></h4><p>Length of each lattice vector</p><h4 id=_property_-abg><em>property</em> abg()<a class=td-heading-self-link href=#_property_-abg aria-label="Heading self-link"></a></h4><p>Angle between lattice vectors</p><h4 id=axial_strainstrain>axial_strain(strain)<a class=td-heading-self-link href=#axial_strainstrain aria-label="Heading self-link"></a></h4><p>Strains the unit cell.</p><ul><li><p><strong>Parameters</strong></p><p><strong>strain</strong> (array of floats, shape(dim)) – Strain on each axis.</p></li></ul><h4 id=cartesian_to_latticevector>cartesian_to_lattice(vector)<a class=td-heading-self-link href=#cartesian_to_latticevector aria-label="Heading self-link"></a></h4><p>Convert the position of a point from cartesian coordinate to lattice coordinate.</p><ul><li><p><strong>Parameters</strong></p><p><strong>vector</strong> (array of float, shape(dim)) – A point in the space, in cartesian coordinate.</p></li></ul><h4 id=copy>copy()<a class=td-heading-self-link href=#copy aria-label="Heading self-link"></a></h4><p>Return a copy of the object.</p><ul><li><p><strong>Returns</strong></p><p><strong>new</strong> – A copy of the object itself.</p></li><li><p><strong>Return type</strong></p><p>Lattice</p></li></ul><h4 id=_property_-dim><em>property</em> dim()<a class=td-heading-self-link href=#_property_-dim aria-label="Heading self-link"></a></h4><p>Dimentions of the lattice.</p><h4 id=lattice_to_cartesianvector>lattice_to_cartesian(vector)<a class=td-heading-self-link href=#lattice_to_cartesianvector aria-label="Heading self-link"></a></h4><p>Convert the position of a point from lattice coordinate to cartesian coordinate.</p><ul><li><p><strong>Parameters</strong></p><p><strong>vector</strong> (array of float, shape(dim)) – A point in the space, in lattice coordinate.</p></li></ul><h4 id=_property_-rabc><em>property</em> rabc()<a class=td-heading-self-link href=#_property_-rabc aria-label="Heading self-link"></a></h4><p>Length of each reciprocal lattice vector</p><h4 id=_property_-rabg><em>property</em> rabg()<a class=td-heading-self-link href=#_property_-rabg aria-label="Heading self-link"></a></h4><p>Angle between reciprocal lattice vectors</p><h4 id=_property_-rvec><em>property</em> rvec()<a class=td-heading-self-link href=#_property_-rvec aria-label="Heading self-link"></a></h4><p>Reciprocal lattice vectors.</p><h4 id=_property_-rvol><em>property</em> rvol()<a class=td-heading-self-link href=#_property_-rvol aria-label="Heading self-link"></a></h4><p>Volume of the reciprocal lattice</p><h4 id=set_ws_cellnrange2>set_ws_cell(nrange=2)<a class=td-heading-self-link href=#set_ws_cellnrange2 aria-label="Heading self-link"></a></h4><p>Construct WS cell object for <code>ws_weight</code> calculation.</p><h4 id=similarity_transformtransformation_matrix>similarity_transform(transformation_matrix)<a class=td-heading-self-link href=#similarity_transformtransformation_matrix aria-label="Heading self-link"></a></h4><p>Similarity transformation on lattice vectors.</p><ul><li><p><strong>Parameters</strong></p><p><strong>transformation_matrix</strong> (array of floats, shape(dim, dim)) – An invertable similarity transformation matrix, in row convention.</p></li></ul><h4 id=strainstrain>strain(strain)<a class=td-heading-self-link href=#strainstrain aria-label="Heading self-link"></a></h4><p>Strains the unit cell.</p><ul><li><p><strong>Parameters</strong></p><p><strong>strain</strong> (array of floats, shape(dim)) – Strain on each axis.</p></li></ul><h4 id=to_dict>to_dict()<a class=td-heading-self-link href=#to_dict aria-label="Heading self-link"></a></h4><p>Return a dictionary containing key information about the lattice.</p><h4 id=_property_-vec><em>property</em> vec()<a class=td-heading-self-link href=#_property_-vec aria-label="Heading self-link"></a></h4><p>Lattice vectors.</p><h4 id=_property_-vol><em>property</em> vol()<a class=td-heading-self-link href=#_property_-vol aria-label="Heading self-link"></a></h4><p>Volume of the lattice</p><h4 id=ws_weightvector-lattice_coordinatetrue>ws_weight(vector, lattice_coordinate=True)<a class=td-heading-self-link href=#ws_weightvector-lattice_coordinatetrue aria-label="Heading self-link"></a></h4><p>Compute the weight of a point in the WS cell of the lattice.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>vector</strong> (array of float, shape(dim)) – A point in the space, in lattice coordinate if lattice_coordinate == True,
otherwise in cartesian coordinate.</p></li><li><p><strong>lattice_coordinate</strong> (bool) – Whether the input point is in lattice coordinate or cartesian coordinate.</p></li></ul></li></ul><h3 id=principia_materiatranslation_grouplatticeget_lattice_io_wrappertitlelattice>principia_materia.translation_group.lattice.get_lattice_io_wrapper(title=&lsquo;Lattice&rsquo;)<a class=td-heading-self-link href=#principia_materiatranslation_grouplatticeget_lattice_io_wrappertitlelattice aria-label="Heading self-link"></a></h3><p>YAML data wrapper for Lattice class.</p></div><div class=td-content style=page-break-before:always><h1 id=pg-a922c70cf54b0272fe972ea7d95a0d22>8.87 - Module principia_materia.translation_group.lattice_ftg</h1><div class=lead>Module principia_materia.translation_group.lattice_ftg</div><h1 id=principia_materiatranslation_grouplattice_ftg-module>principia_materia.translation_group.lattice_ftg module<a class=td-heading-self-link href=#principia_materiatranslation_grouplattice_ftg-module aria-label="Heading self-link"></a></h1><h3 id=_class_-principia_materiatranslation_grouplattice_ftglatticeftgvec-supa-pgnone-strict_symmetrytrue-tol1e-06><em>class</em> principia_materia.translation_group.lattice_ftg.LatticeFTG(vec, supa, pg=None, strict_symmetry=True, tol=1e-06)<a class=td-heading-self-link href=#_class_-principia_materiatranslation_grouplattice_ftglatticeftgvec-supa-pgnone-strict_symmetrytrue-tol1e-06 aria-label="Heading self-link"></a></h3><p>Bases: <a href=/docs/references/principia_materia.translation_group.lattice.html#principia_materia.translation_group.lattice.Lattice><code>Lattice</code></a></p><p>A finite translation group (i.e. supercell) of the primitive lattice with point symmetry.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>vec</strong> (array of float, shape(dim, dim)) – The lattice vectors, in row convention.</p></li><li><p><strong>supa</strong> (array of int, shape(dim, dim)) – Super lattice matrix.</p></li><li><p><strong>pg</strong> (str or a PointGroup object) – The point group of the lattice.</p></li><li><p><strong>strict_symmetry</strong> (bool, optional, default to True) – If True, lattice points must rotate into a point that also fits in the cell.</p></li><li><p><strong>tol</strong> (float, optional, default to 1.0E-6) – Tolerance threshold.</p></li></ul></li></ul><h4 id=copy>copy()<a class=td-heading-self-link href=#copy aria-label="Heading self-link"></a></h4><p>Return a copy of the object.</p><ul><li><p><strong>Returns</strong></p><p><strong>new</strong> – A copy of the object itself.</p></li><li><p><strong>Return type</strong></p><p>LatticeFTG</p></li></ul><h4 id=find_irreducible_lattice_points>find_irreducible_lattice_points()<a class=td-heading-self-link href=#find_irreducible_lattice_points aria-label="Heading self-link"></a></h4><p>Find the irreducible set of lattice points under the given symmetry.</p><h4 id=rotated_lattice_points>rotated_lattice_points()<a class=td-heading-self-link href=#rotated_lattice_points aria-label="Heading self-link"></a></h4><p>Dictionary of how what each lattice points rotate into for each group operation. (Indices)</p><ul><li><p><strong>Type</strong></p><p>dict with str as keys and array of int as values</p></li></ul><h4 id=irreducible_lattice_points_trans>irreducible_lattice_points_trans()<a class=td-heading-self-link href=#irreducible_lattice_points_trans aria-label="Heading self-link"></a></h4><p>The name of the operation takes the lattice points at its index to one of the irreducible
lattice points.</p><ul><li><p><strong>Type</strong></p><p>array of str, shape(multiplicity)</p></li></ul><h4 id=irreducible_lattice_points_index_map>irreducible_lattice_points_index_map()<a class=td-heading-self-link href=#irreducible_lattice_points_index_map aria-label="Heading self-link"></a></h4><p>The corresponding irreducible lattice point index in the lattice point list for each lattice point.</p><ul><li><p><strong>Type</strong></p><p>array of int, shape(multiplicity)</p></li></ul><h4 id=irreducible_lattice_points_index>irreducible_lattice_points_index()<a class=td-heading-self-link href=#irreducible_lattice_points_index aria-label="Heading self-link"></a></h4><p>Index of irreducible lattice points in the lattice points list.</p><ul><li><p><strong>Type</strong></p><p>array of int, shape(nilp)</p></li></ul><h4 id=irreducible_lattice_points_map>irreducible_lattice_points_map()<a class=td-heading-self-link href=#irreducible_lattice_points_map aria-label="Heading self-link"></a></h4><p>The corresponding irreducible lattice point index in the irreducible lattice point list for each
lattice point.</p><ul><li><p><strong>Type</strong></p><p>array of int, shape(multiplicity)</p></li></ul><h4 id=irreducible_lattice_points_mult>irreducible_lattice_points_mult()<a class=td-heading-self-link href=#irreducible_lattice_points_mult aria-label="Heading self-link"></a></h4><p>The multiplicity of each irreducible lattice point.</p><ul><li><p><strong>Type</strong></p><p>array of int, shape(nilp)</p></li></ul><h4 id=irreducible_lattice_points>irreducible_lattice_points()<a class=td-heading-self-link href=#irreducible_lattice_points aria-label="Heading self-link"></a></h4><p>The list of irreducible lattice point.</p><ul><li><p><strong>Type</strong></p><p>array of array of int, shape(nilp, dim)</p></li></ul><h3 id=-nilpnumber-of-irreducible-lattice-points>\* nilp=number of irreducible lattice points()<a class=td-heading-self-link href=#-nilpnumber-of-irreducible-lattice-points aria-label="Heading self-link"></a></h3><h4 id=get_indexpoints>get_index(points)<a class=td-heading-self-link href=#get_indexpoints aria-label="Heading self-link"></a></h4><p>Find the index of a given lattice point or a list of lattice points.</p><p>The algorithm is descrived in method <code>create_mesh</code>. For each lattice point,
instead of using the ordinary indexing of a list, this algorithm only has the time
complexity of O(1), which is much more efficient when used.</p><p>In order to compute the index, the a tranformation matrix $\textrm{H}_p$ and an
index weight vector $\textrm{IW}$</p><p>$$
& H_{p, (j, i)} = H^{-1}_{(j, i)} \times H_{(i, i)} \forall i \in [1, d], j \in [1, i)</p><p>& \textrm{IW}_{i} = \prod_{j=1}^{i} H_{(j, j)}
$$
Then the index of any given point in the supercell can be computed directly:</p><p>$$
& \textrm{index}_{t} = ((t \cdot L + \textrm{floor}(t \cdot L \cdot H_p)) \mod \textrm{diag}(H)) \cdot \textrm{IW}
$$</p><ul><li><p><strong>Parameters</strong></p><p><strong>points</strong> (array of integers, shape(dim) or shape(N, dim)) – Points to compute indices.</p></li></ul><h4 id=_property_-invsupa><em>property</em> invsupa()<a class=td-heading-self-link href=#_property_-invsupa aria-label="Heading self-link"></a></h4><p>The inverse of the supercell matrix.</p><h4 id=_property_-multiplicity><em>property</em> multiplicity()<a class=td-heading-self-link href=#_property_-multiplicity aria-label="Heading self-link"></a></h4><p>The multiplicity of the supercell.</p><h4 id=set_lattice_points>set_lattice_points()<a class=td-heading-self-link href=#set_lattice_points aria-label="Heading self-link"></a></h4><p>Find t-points that fit in the supercell.</p><h4 id=set_lattice_points_diagonal>set_lattice_points_diagonal()<a class=td-heading-self-link href=#set_lattice_points_diagonal aria-label="Heading self-link"></a></h4><p>Find the lattice points that fit in the given diagonal supercell.</p><p>Same as set_lattice_points_generic, except for diagonal supercells it can be simplified.</p><h4 id=set_lattice_points_generic>set_lattice_points_generic()<a class=td-heading-self-link href=#set_lattice_points_generic aria-label="Heading self-link"></a></h4><p>Find the lattice points that fit in the given supercell.</p><p>It uses the algorithm implemented in <code>get_lattice_points</code> function
(described in <a href=https://doi.org/10.1103/PhysRevB.100.014303>Phys. Rev. B 100, 014303 (2019)</a>).
And meanwhile, prepares the matrices to determine the index of each
lattice point using the inverse operation of the above metioned function.</p><h4 id=lattice_points>lattice_points()<a class=td-heading-self-link href=#lattice_points aria-label="Heading self-link"></a></h4><p>Lattice points of the super cell (i.e. FTG).</p><ul><li><p><strong>Type</strong></p><p>array of int, shape(self.multiplicity, 3)</p></li></ul><h4 id=_property_-supa><em>property</em> supa()<a class=td-heading-self-link href=#_property_-supa aria-label="Heading self-link"></a></h4><p>The supercell matrix.</p><h4 id=_property_-supa_is_diagonal><em>property</em> supa_is_diagonal()<a class=td-heading-self-link href=#_property_-supa_is_diagonal aria-label="Heading self-link"></a></h4><p>Whether the supercell is a diagonal matrix.</p><h4 id=to_dict>to_dict()<a class=td-heading-self-link href=#to_dict aria-label="Heading self-link"></a></h4><p>Return a dictionary containing key information about the LatticeFTG object.</p><h3 id=principia_materiatranslation_grouplattice_ftgget_lattice_ftg_io_wrappertitlelatticeftg>principia_materia.translation_group.lattice_ftg.get_lattice_ftg_io_wrapper(title=&lsquo;LatticeFTG&rsquo;)<a class=td-heading-self-link href=#principia_materiatranslation_grouplattice_ftgget_lattice_ftg_io_wrappertitlelatticeftg aria-label="Heading self-link"></a></h3><p>YAML data wrapper for LatticeFTG class.</p><h3 id=principia_materiatranslation_grouplattice_ftgget_lattice_pointssupa-decimals6>principia_materia.translation_group.lattice_ftg.get_lattice_points(supa, decimals=6)<a class=td-heading-self-link href=#principia_materiatranslation_grouplattice_ftgget_lattice_pointssupa-decimals6 aria-label="Heading self-link"></a></h3><p>Find t-points using Hermite Normal Form (HNF) of the $S_BZ$.</p><p>The algorithm is described in <a href=https://doi.org/10.1103/PhysRevB.100.014303>paper</a>:</p><ol><li>We can decompose the supercell matrix into its HNF:</li></ol><blockquote><p>$$
& S_BZ = HL^{-1}</p></blockquote><blockquote><p>& S_BZ^{-1} = LH^{-1}
$$</p></blockquote><ol><li>Then we have the condition of the t-points that fit in the supercell:</li></ol><blockquote><p>$$
& 0 &lt;= t S_BZ^{-1} e_j &lt; 1</p></blockquote><blockquote><p>& 0 &lt;= t L H^{-1} e_j &lt; 1
$$</p></blockquote><ol><li>If we let $t&rsquo; = tL$, we can rewrite the condition</li></ol><blockquote><p>$$
0 &lt;= t&rsquo; H^{-1} e_j &lt; 1
$$
, and we can solve for $t&rsquo;$ and recover $t$ afterwards:</p></blockquote><blockquote><p>$$
t = t&rsquo; L^{-1}
$$</p></blockquote><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>supa</strong> (array of int, shape(dim, dim)) – Supercell matrix.</p></li><li><p><strong>decimals</strong> (int, optional, default to 6) – The decimal points to round</p></li></ul></li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-481d59374bfd957071396bc97f83ba55>8.88 - Module principia_materia.translation_group.minimum_supercell</h1><div class=lead>Module principia_materia.translation_group.minimum_supercell</div><h1 id=principia_materiatranslation_groupminimum_supercell-module>principia_materia.translation_group.minimum_supercell module<a class=td-heading-self-link href=#principia_materiatranslation_groupminimum_supercell-module aria-label="Heading self-link"></a></h1><h3 id=principia_materiatranslation_groupminimum_supercellget_minimum_supercellqpoints-dim3>principia_materia.translation_group.minimum_supercell.get_minimum_supercell(qpoints, dim=3)<a class=td-heading-self-link href=#principia_materiatranslation_groupminimum_supercellget_minimum_supercellqpoints-dim3 aria-label="Heading self-link"></a></h3><p>Find the minimum supercell that accommodates the input qpoints.</p><p>The algorithm is described in Section III.B of paper Phys. Rev. B 100, 014303 (2019).</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>qpoints</strong> (1-D or 2-D array of <a href=/docs/references/principia_materia.mathematics.new_fraction.html#principia_materia.mathematics.new_fraction.Fraction>Fraction</a>, shape(dim, ) or shape(N, dim)) – Q-points for the supercell to accommodate.</p></li><li><p><strong>dim</strong> (integer, optional, default to 3) – Dimension of the space.</p></li><li><p><strong>optimize</strong> (..)</p></li><li><p><strong>supercell.</strong> (.. Whether to optimize found)</p></li></ul></li><li><p><strong>Returns</strong></p><p><strong>supa</strong> – Found supercell that accommodates the input qpoints.</p></li><li><p><strong>Return type</strong></p><p>array of integer</p></li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-dacc6bd628e3a4588d7a348a2c259d2b>8.89 - Module principia_materia.translation_group.qpoints_n</h1><div class=lead>Module principia_materia.translation_group.qpoints_n</div><h1 id=principia_materiatranslation_groupqpoints_n-module>principia_materia.translation_group.qpoints_n module<a class=td-heading-self-link href=#principia_materiatranslation_groupqpoints_n-module aria-label="Heading self-link"></a></h1><h3 id=_class_-principia_materiatranslation_groupqpoints_nqpointsnvec-supa-order-pgc1-tol1e-06><em>class</em> principia_materia.translation_group.qpoints_n.QpointsN(vec, supa, order, pg=&lsquo;C1&rsquo;, tol=1e-06)<a class=td-heading-self-link href=#_class_-principia_materiatranslation_groupqpoints_nqpointsnvec-supa-order-pgc1-tol1e-06 aria-label="Heading self-link"></a></h3><p>Bases: <a href=/docs/references/principia_materia.translation_group.lattice.html#principia_materia.translation_group.lattice.Lattice><code>Lattice</code></a></p><p>A list of Q-points at a given order that fit in a given supercell find irreducible Q with point and permutaion symmetry.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>vec</strong> (array of float, shape(dim, dim)) – The lattice vectors, in row convention.</p></li><li><p><strong>supa</strong> (array of int, shape(dim, dim)) – Super lattice matrix.</p></li><li><p><strong>pg</strong> (str or a PointGroup object) – The point group of the lattice.</p></li><li><p><strong>tol</strong> (float, optional, default to 1.0E-6) – Tolerance threshold.</p></li></ul></li></ul><h4 id=_property_-qpoints><em>property</em> Qpoints()<a class=td-heading-self-link href=#_property_-qpoints aria-label="Heading self-link"></a></h4><p>The Q-points that fit in the supercell.</p><h4 id=_property_-qpoints_orbits><em>property</em> Qpoints_orbits()<a class=td-heading-self-link href=#_property_-qpoints_orbits aria-label="Heading self-link"></a></h4><h4 id=find_irreducible_qpoints>find_irreducible_Qpoints()<a class=td-heading-self-link href=#find_irreducible_qpoints aria-label="Heading self-link"></a></h4><p>Find the irreducible set of Q-points under the given symmetry.</p><h4 id=get_qindexqpoints>get_Qindex(Qpoints)<a class=td-heading-self-link href=#get_qindexqpoints aria-label="Heading self-link"></a></h4><p>Computes the indices of Q-points.</p><h4 id=_property_-irreducible_qpoints><em>property</em> irreducible_Qpoints()<a class=td-heading-self-link href=#_property_-irreducible_qpoints aria-label="Heading self-link"></a></h4><p>The irreducible Qpoints.</p><h4 id=_property_-irreducible_qpoints_qind><em>property</em> irreducible_Qpoints_Qind()<a class=td-heading-self-link href=#_property_-irreducible_qpoints_qind aria-label="Heading self-link"></a></h4><p>The index of the irreducible Q-points in the Q-points list.</p><h4 id=_property_-irreducible_qpoints_inverse><em>property</em> irreducible_Qpoints_inverse()<a class=td-heading-self-link href=#_property_-irreducible_qpoints_inverse aria-label="Heading self-link"></a></h4><p>The index of the corresponding irreducible Q-points of the Q-points in the irreducible Q-points list.</p><h4 id=_property_-irreducible_qpoints_map><em>property</em> irreducible_Qpoints_map()<a class=td-heading-self-link href=#_property_-irreducible_qpoints_map aria-label="Heading self-link"></a></h4><p>The corresponding irreducible Q-point index in the irreducible Q-point list for each Q-point.</p><h4 id=_property_-irreducible_qpoints_mult><em>property</em> irreducible_Qpoints_mult()<a class=td-heading-self-link href=#_property_-irreducible_qpoints_mult aria-label="Heading self-link"></a></h4><p>The multiplicity of the irreducible Q-points.</p><h4 id=_property_-irreducible_qpoints_permutation><em>property</em> irreducible_Qpoints_permutation()<a class=td-heading-self-link href=#_property_-irreducible_qpoints_permutation aria-label="Heading self-link"></a></h4><p>The permutation that maps a Q-point to the corresponding irreducible Q-point.</p><h4 id=_property_-irreducible_qpoints_rotation><em>property</em> irreducible_Qpoints_rotation()<a class=td-heading-self-link href=#_property_-irreducible_qpoints_rotation aria-label="Heading self-link"></a></h4><p>The point group operation that maps a Q-point to the corresponding irreducible Q-point.</p><h4 id=_property_-multiplicity><em>property</em> multiplicity()<a class=td-heading-self-link href=#_property_-multiplicity aria-label="Heading self-link"></a></h4><p>The multiplicity of the supercell.</p><h4 id=_property_-nqpoints><em>property</em> nQpoints()<a class=td-heading-self-link href=#_property_-nqpoints aria-label="Heading self-link"></a></h4><p>Number of Q-points</p><h4 id=_property_-n_irreducible_qpoints><em>property</em> n_irreducible_Qpoints()<a class=td-heading-self-link href=#_property_-n_irreducible_qpoints aria-label="Heading self-link"></a></h4><h4 id=_property_-supa><em>property</em> supa()<a class=td-heading-self-link href=#_property_-supa aria-label="Heading self-link"></a></h4><p>The supercell matrix.</p><h4 id=to_dict>to_dict()<a class=td-heading-self-link href=#to_dict aria-label="Heading self-link"></a></h4><p>Return a dictionary containing key information about the QpointsN object.</p><h3 id=_class_-principia_materiatranslation_groupqpoints_nqpointspermvec-supa-order-pgc1-tol1e-06><em>class</em> principia_materia.translation_group.qpoints_n.QpointsPerm(vec, supa, order, pg=&lsquo;C1&rsquo;, tol=1e-06)<a class=td-heading-self-link href=#_class_-principia_materiatranslation_groupqpoints_nqpointspermvec-supa-order-pgc1-tol1e-06 aria-label="Heading self-link"></a></h3><p>Bases: <a href=/docs/references/principia_materia.translation_group.lattice.html#principia_materia.translation_group.lattice.Lattice><code>Lattice</code></a></p><p>A list of Q-points at a given order that fit in a given supercell, find permutationally irreducible Q.</p><p>For a given order N Q point, in contains N-1 independent q-point, since the Q point
needs to satisfy conservation of momentum and the sum of all q-points in a Q point
must be equivalent to Gamma point (0, 0, 0).</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>vec</strong> (array of float, shape(dim, dim)) – The lattice vectors, in row convention.</p></li><li><p><strong>supa</strong> (array of int, shape(dim, dim)) – Super lattice matrix.</p></li><li><p><strong>pg</strong> (str or a PointGroup object) – The point group of the lattice.</p></li><li><p><strong>tol</strong> (float, optional, default to 1.0E-6) – Tolerance threshold.</p></li></ul></li></ul><h4 id=_property_-qpoints-1><em>property</em> Qpoints()<a class=td-heading-self-link href=#_property_-qpoints-1 aria-label="Heading self-link"></a></h4><p>The Q-points that fit in the supercell.</p><h4 id=find_permutationally_irreducible_qpoints>find_permutationally_irreducible_Qpoints()<a class=td-heading-self-link href=#find_permutationally_irreducible_qpoints aria-label="Heading self-link"></a></h4><p>Find the permutationally irreducible set of Q-points.</p><h4 id=get_qindexqpoints-1>get_Qindex(Qpoints)<a class=td-heading-self-link href=#get_qindexqpoints-1 aria-label="Heading self-link"></a></h4><p>Computes the indices of Q-points.</p><h4 id=_property_-irreducible_qpoints-1><em>property</em> irreducible_Qpoints()<a class=td-heading-self-link href=#_property_-irreducible_qpoints-1 aria-label="Heading self-link"></a></h4><p>The irreducible Q-points.</p><h4 id=_property_-irreducible_qpoints_qind-1><em>property</em> irreducible_Qpoints_Qind()<a class=td-heading-self-link href=#_property_-irreducible_qpoints_qind-1 aria-label="Heading self-link"></a></h4><p>The index of the irreducible Q-points in the Q-points list.</p><h4 id=_property_-irreducible_qpoints_inverse-1><em>property</em> irreducible_Qpoints_inverse()<a class=td-heading-self-link href=#_property_-irreducible_qpoints_inverse-1 aria-label="Heading self-link"></a></h4><p>The index of the corresponding irreducible Q-points of the Q-points in the irreducible Q-points list.</p><h4 id=_property_-irreducible_qpoints_map-1><em>property</em> irreducible_Qpoints_map()<a class=td-heading-self-link href=#_property_-irreducible_qpoints_map-1 aria-label="Heading self-link"></a></h4><p>The index of corresponding irreducible Q-point of each Q-point.</p><h4 id=_property_-irreducible_qpoints_mult-1><em>property</em> irreducible_Qpoints_mult()<a class=td-heading-self-link href=#_property_-irreducible_qpoints_mult-1 aria-label="Heading self-link"></a></h4><p>The multiplicity of each irreducible Q-point.</p><h4 id=_property_-irreducible_qpoints_permutation-1><em>property</em> irreducible_Qpoints_permutation()<a class=td-heading-self-link href=#_property_-irreducible_qpoints_permutation-1 aria-label="Heading self-link"></a></h4><p>The permutation that transform the Q-point to the corresponding irreducible Q-point.</p><h4 id=_property_-multiplicity-1><em>property</em> multiplicity()<a class=td-heading-self-link href=#_property_-multiplicity-1 aria-label="Heading self-link"></a></h4><p>The multiplicity of the supercell.</p><h4 id=_property_-nqpoints-1><em>property</em> nQpoints()<a class=td-heading-self-link href=#_property_-nqpoints-1 aria-label="Heading self-link"></a></h4><p>Number of Q-points.</p><h4 id=_property_-n_irreducible_qpoints-1><em>property</em> n_irreducible_Qpoints()<a class=td-heading-self-link href=#_property_-n_irreducible_qpoints-1 aria-label="Heading self-link"></a></h4><p>Number of irreducible Q-points.</p><h4 id=_property_-supa-1><em>property</em> supa()<a class=td-heading-self-link href=#_property_-supa-1 aria-label="Heading self-link"></a></h4><p>The supercell matrix.</p><h4 id=to_dict-1>to_dict()<a class=td-heading-self-link href=#to_dict-1 aria-label="Heading self-link"></a></h4><p>Return a dictionary containing key information about the QpointsPerm object.</p><h3 id=principia_materiatranslation_groupqpoints_nget_qpointsn_io_wrappertitleqpointsn>principia_materia.translation_group.qpoints_n.get_QpointsN_io_wrapper(title=&lsquo;QpointsN&rsquo;)<a class=td-heading-self-link href=#principia_materiatranslation_groupqpoints_nget_qpointsn_io_wrappertitleqpointsn aria-label="Heading self-link"></a></h3><p>YAML data wrapper for QpointsN class.</p></div><div class=td-content style=page-break-before:always><h1 id=pg-bc5fce46738b74f5c6595084c11f4ccb>8.90 - Module principia_materia.translation_group.wigner_seitz</h1><div class=lead>Module principia_materia.translation_group.wigner_seitz</div><h1 id=principia_materiatranslation_groupwigner_seitz-module>principia_materia.translation_group.wigner_seitz module<a class=td-heading-self-link href=#principia_materiatranslation_groupwigner_seitz-module aria-label="Heading self-link"></a></h1><h3 id=_class_-principia_materiatranslation_groupwigner_seitzwignerseitzvec-nrange2-tol1e-05><em>class</em> principia_materia.translation_group.wigner_seitz.WignerSeitz(vec, nrange=2, tol=1e-05)<a class=td-heading-self-link href=#_class_-principia_materiatranslation_groupwigner_seitzwignerseitzvec-nrange2-tol1e-05 aria-label="Heading self-link"></a></h3><p>Bases: <code>object</code></p><p>Find the weight of a point in Wigner Seitz cell.</p><p>If a point is in the cell, it has weight of 1.
If a point is out of the cell, it has weight of 0.
If a point is on the boundaries of the cell, the weight is 1 / (1 + # of cells the point is shared with neighbor WS cells.)</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>vec</strong> (array of floats, shape(dim, dim)) – Lattice vectors.</p></li><li><p><strong>nrange</strong> (int, optional, default 2) – Number of translations in each direction used to find neighbor list.</p></li><li><p><strong>tol</strong> (float, optional, default 1.0E-5) – Tolerance.</p></li></ul></li></ul><h4 id=weightvector>weight(vector)<a class=td-heading-self-link href=#weightvector aria-label="Heading self-link"></a></h4><p>Weighing by counting how many times the point sit of one of the ws cell edges</p><ul><li><p><strong>Parameters</strong></p><p><strong>vector</strong> (array of float) – The Cartesian coordinates of a point.</p></li><li><p><strong>Returns</strong></p><p><strong>weight</strong> – The weight of the point.</p></li><li><p><strong>Return type</strong></p><p>float</p></li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-79992d353358c6ac3793dbacd3213d41>8.91 - Module principia_materia.utils</h1><div class=lead>Module principia_materia.utils</div><h1 id=principia_materiautils-package>principia_materia.utils package<a class=td-heading-self-link href=#principia_materiautils-package aria-label="Heading self-link"></a></h1><h2 id=submodules>Submodules<a class=td-heading-self-link href=#submodules aria-label="Heading self-link"></a></h2><ul><li><p><a href=/docs/references/principia_materia.utils.config_manager.html>principia_materia.utils.config_manager module</a></p><ul><li><a href=/docs/references/principia_materia.utils.config_manager.html#principia_materia.utils.config_manager.update_recursive><code>update_recursive()</code></a></li></ul></li><li><p><a href=/docs/references/principia_materia.utils.db_utils.html>principia_materia.utils.db_utils module</a></p><ul><li><p><a href=/docs/references/principia_materia.utils.db_utils.html#principia_materia.utils.db_utils.SQLiteDB><code>SQLiteDB</code></a></p><ul><li><p><a href=/docs/references/principia_materia.utils.db_utils.html#principia_materia.utils.db_utils.SQLiteDB.commit><code>SQLiteDB.commit()</code></a></p></li><li><p><a href=/docs/references/principia_materia.utils.db_utils.html#principia_materia.utils.db_utils.SQLiteDB.create_table><code>SQLiteDB.create_table()</code></a></p></li><li><p><a href=/docs/references/principia_materia.utils.db_utils.html#principia_materia.utils.db_utils.SQLiteDB.cursor><code>SQLiteDB.cursor</code></a></p></li><li><p><a href=/docs/references/principia_materia.utils.db_utils.html#principia_materia.utils.db_utils.SQLiteDB.execute><code>SQLiteDB.execute()</code></a></p></li><li><p><a href=/docs/references/principia_materia.utils.db_utils.html#principia_materia.utils.db_utils.SQLiteDB.get_column_names><code>SQLiteDB.get_column_names()</code></a></p></li><li><p><a href=/docs/references/principia_materia.utils.db_utils.html#principia_materia.utils.db_utils.SQLiteDB.insert_to_table><code>SQLiteDB.insert_to_table()</code></a></p></li><li><p><a href=/docs/references/principia_materia.utils.db_utils.html#principia_materia.utils.db_utils.SQLiteDB.row_in_table><code>SQLiteDB.row_in_table()</code></a></p></li><li><p><a href=/docs/references/principia_materia.utils.db_utils.html#principia_materia.utils.db_utils.SQLiteDB.search_table><code>SQLiteDB.search_table()</code></a></p></li><li><p><a href=/docs/references/principia_materia.utils.db_utils.html#principia_materia.utils.db_utils.SQLiteDB.table_exists><code>SQLiteDB.table_exists()</code></a></p></li><li><p><a href=/docs/references/principia_materia.utils.db_utils.html#principia_materia.utils.db_utils.SQLiteDB.update_table><code>SQLiteDB.update_table()</code></a></p></li></ul></li><li><p><a href=/docs/references/principia_materia.utils.db_utils.html#principia_materia.utils.db_utils.adapt_array><code>adapt_array()</code></a></p></li><li><p><a href=/docs/references/principia_materia.utils.db_utils.html#principia_materia.utils.db_utils.convert_array><code>convert_array()</code></a></p></li></ul></li><li><p><a href=/docs/references/principia_materia.utils.testing.html>principia_materia.utils.testing module</a></p><ul><li><p><a href=/docs/references/principia_materia.utils.testing.html#principia_materia.utils.testing.assertDictAlmostEqual><code>assertDictAlmostEqual()</code></a></p></li><li><p><a href=/docs/references/principia_materia.utils.testing.html#principia_materia.utils.testing.assertDictEqual><code>assertDictEqual()</code></a></p></li></ul></li><li><p><a href=/docs/references/principia_materia.utils.text_file_search.html>principia_materia.utils.text_file_search module</a></p><ul><li><p><a href=/docs/references/principia_materia.utils.text_file_search.html#principia_materia.utils.text_file_search.find_all><code>find_all()</code></a></p></li><li><p><a href=/docs/references/principia_materia.utils.text_file_search.html#principia_materia.utils.text_file_search.find_first><code>find_first()</code></a></p></li><li><p><a href=/docs/references/principia_materia.utils.text_file_search.html#principia_materia.utils.text_file_search.find_last><code>find_last()</code></a></p></li><li><p><a href=/docs/references/principia_materia.utils.text_file_search.html#principia_materia.utils.text_file_search.get_file_stream><code>get_file_stream()</code></a></p></li><li><p><a href=/docs/references/principia_materia.utils.text_file_search.html#principia_materia.utils.text_file_search.search><code>search()</code></a></p></li></ul></li></ul><h2 id=module-contents>Module contents<a class=td-heading-self-link href=#module-contents aria-label="Heading self-link"></a></h2></div><div class=td-content style=page-break-before:always><h1 id=pg-17ae8ce6990189b3b0ab52d8cde343ea>8.92 - Module principia_materia.utils.config_manager</h1><div class=lead>Module principia_materia.utils.config_manager</div><h1 id=principia_materiautilsconfig_manager-module>principia_materia.utils.config_manager module<a class=td-heading-self-link href=#principia_materiautilsconfig_manager-module aria-label="Heading self-link"></a></h1><h3 id=principia_materiautilsconfig_managerupdate_recursived-u>principia_materia.utils.config_manager.update_recursive(d, u)<a class=td-heading-self-link href=#principia_materiautilsconfig_managerupdate_recursived-u aria-label="Heading self-link"></a></h3></div><div class=td-content style=page-break-before:always><h1 id=pg-27743cec4901b95bc53067f41b468b00>8.93 - Module principia_materia.utils.db_utils</h1><div class=lead>Module principia_materia.utils.db_utils</div><h1 id=principia_materiautilsdb_utils-module>principia_materia.utils.db_utils module<a class=td-heading-self-link href=#principia_materiautilsdb_utils-module aria-label="Heading self-link"></a></h1><h3 id=_class_-principia_materiautilsdb_utilssqlitedbdatabase><em>class</em> principia_materia.utils.db_utils.SQLiteDB(database)<a class=td-heading-self-link href=#_class_-principia_materiautilsdb_utilssqlitedbdatabase aria-label="Heading self-link"></a></h3><p>Bases: <code>object</code></p><p>Interface to SQLite database.</p><ul><li><p><strong>Parameters</strong></p><p><strong>database</strong> (str) – The path to the database file.</p></li></ul><h4 id=commit>commit()<a class=td-heading-self-link href=#commit aria-label="Heading self-link"></a></h4><p>Commit the current transaction.</p><h4 id=create_tabletable-columns-existstrue>create_table(table, columns, exists=True)<a class=td-heading-self-link href=#create_tabletable-columns-existstrue aria-label="Heading self-link"></a></h4><p>Create a table.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>table</strong> (str) – The name of the table.</p></li><li><p><strong>columns</strong> (list of str) – The columns to create in the table.</p></li><li><p><strong>exists</strong> (bool, optional, default to True) – If True, do not throw and error when table exists.
Otherwise. an error will be thrown if table exits.</p></li></ul></li></ul><h4 id=_property_-cursor><em>property</em> cursor()<a class=td-heading-self-link href=#_property_-cursor aria-label="Heading self-link"></a></h4><p>Get the Cursor object of the database.</p><ul><li><p><strong>Returns</strong></p><p><strong>cursor</strong> – The Cursor object.</p></li><li><p><strong>Return type</strong></p><p>Cursor</p></li></ul><h4 id=executesql-parametersnone>execute(sql, parameters=None)<a class=td-heading-self-link href=#executesql-parametersnone aria-label="Heading self-link"></a></h4><p>Execute SQLl command with parameters.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>sql</strong> (str) – The SQL command.</p></li><li><p><strong>parameters</strong> (tuple, optional, default to None) – The parameters in the SQL command.</p></li></ul></li></ul><h4 id=get_column_namestable>get_column_names(table)<a class=td-heading-self-link href=#get_column_namestable aria-label="Heading self-link"></a></h4><p>Get the column names of a table.</p><ul><li><p><strong>Parameters</strong></p><p><strong>table</strong> (str) – The name of the table.</p></li></ul><h4 id=insert_to_tabletable-data>insert_to_table(table, data)<a class=td-heading-self-link href=#insert_to_tabletable-data aria-label="Heading self-link"></a></h4><p>Inseart a new row into a table.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>table</strong> (str) – The name of the table.</p></li><li><p><strong>data</strong> (dict) – The values to insert into the new row of the table.</p></li></ul></li></ul><h4 id=row_in_tabletable-key-value>row_in_table(table, key, value)<a class=td-heading-self-link href=#row_in_tabletable-key-value aria-label="Heading self-link"></a></h4><p>Check if a row is in a table.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>table</strong> (str) – The name of the table.</p></li><li><p><strong>key</strong> (str) – A column name in the table.</p></li><li><p><strong>value</strong> (str) – The value of the column to match in the table.</p></li></ul></li><li><p><strong>Returns</strong></p><p><strong>flat</strong> – Whether the row is in the table.</p></li><li><p><strong>Return type</strong></p><p>bool</p></li></ul><h4 id=search_tabletable-keys-match_column-search_conditionsnone>search_table(table, keys, match_column={}, search_conditions=None)<a class=td-heading-self-link href=#search_tabletable-keys-match_column-search_conditionsnone aria-label="Heading self-link"></a></h4><p>Search in a table.</p><p>The found rows can be retrieved from the Cursor object.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>table</strong> (str) – The name of the table.</p></li><li><p><strong>match_column</strong> (dict) – The column match conditions.</p></li><li><p><strong>search_conditions</strong> (list of str, optional, default to None) – Search conditions other than column matches.</p></li><li><p><strong>keys</strong> (list of str) – The columns of the table to return.</p></li></ul></li></ul><h4 id=table_existstable>table_exists(table)<a class=td-heading-self-link href=#table_existstable aria-label="Heading self-link"></a></h4><p>Check if table exists.</p><ul><li><p><strong>Parameters</strong></p><p><strong>table</strong> (str) – The name of the table.</p></li><li><p><strong>Returns</strong></p><p><strong>flat</strong> – Whether the table exits.</p></li><li><p><strong>Return type</strong></p><p>bool</p></li></ul><h4 id=update_tabletable-match_column-data>update_table(table, match_column, data)<a class=td-heading-self-link href=#update_tabletable-match_column-data aria-label="Heading self-link"></a></h4><p>Update new row into a table.</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>table</strong> (str) – The name of the table.</p></li><li><p><strong>match_column</strong> (dict) – The column match conditions.</p></li><li><p><strong>data</strong> (dict) – The values to insert into the new row of the table.</p></li></ul></li></ul><h3 id=principia_materiautilsdb_utilsadapt_arrayarr>principia_materia.utils.db_utils.adapt_array(arr)<a class=td-heading-self-link href=#principia_materiautilsdb_utilsadapt_arrayarr aria-label="Heading self-link"></a></h3><p>Converts np.array to TEXT when inserting</p><p><a href=http://stackoverflow.com/a/31312102/190597>http://stackoverflow.com/a/31312102/190597</a> (SoulNibbler)</p><h3 id=principia_materiautilsdb_utilsconvert_arraytext>principia_materia.utils.db_utils.convert_array(text)<a class=td-heading-self-link href=#principia_materiautilsdb_utilsconvert_arraytext aria-label="Heading self-link"></a></h3><p>Converts TEXT to np.array when selecting</p></div><div class=td-content style=page-break-before:always><h1 id=pg-e74648ff07f4b1c6bde9d220aac91158>8.94 - Module principia_materia.utils.testing</h1><div class=lead>Module principia_materia.utils.testing</div><h1 id=principia_materiautilstesting-module>principia_materia.utils.testing module<a class=td-heading-self-link href=#principia_materiautilstesting-module aria-label="Heading self-link"></a></h1><h3 id=principia_materiautilstestingassertdictalmostequala-dict-b-dict-err_msg-str--none--none-decimal-int--6-str_trail_newline-bool--true>principia_materia.utils.testing.assertDictAlmostEqual(a: dict, b: dict, err_msg: str | None = None, decimal: int = 6, str_trail_newline: bool = True)<a class=td-heading-self-link href=#principia_materiautilstestingassertdictalmostequala-dict-b-dict-err_msg-str--none--none-decimal-int--6-str_trail_newline-bool--true aria-label="Heading self-link"></a></h3><p>Check if Dictionarys are almost equal</p><ul><li><p><strong>Parameters</strong></p><ul><li><p><strong>a</strong> (dict) – The two dictionaries.</p></li><li><p><strong>b</strong> (dict) – The two dictionaries.</p></li><li><p><strong>err_msg</strong> (str, optional) – Error message.</p></li><li><p><strong>decimal</strong> (int, optional, default to 6) – Number of decimal places to check for floating point numbers.</p></li><li><p><strong>str_trail_newline</strong> (bool, optional, default to True) – If True, the difference of a trailing newline in string comparison is ignored.</p></li></ul></li></ul><h3 id=principia_materiautilstestingassertdictequala-dict-b-dict-err_msg-str--none--none>principia_materia.utils.testing.assertDictEqual(a: dict, b: dict, err_msg: str | None = None)<a class=td-heading-self-link href=#principia_materiautilstestingassertdictequala-dict-b-dict-err_msg-str--none--none aria-label="Heading self-link"></a></h3></div><div class=td-content style=page-break-before:always><h1 id=pg-86e502a1549aff34bc8d6e8768bce60e>8.95 - Module principia_materia.utils.text_file_search</h1><div class=lead>Module principia_materia.utils.text_file_search</div><h1 id=principia_materiautilstext_file_search-module>principia_materia.utils.text_file_search module<a class=td-heading-self-link href=#principia_materiautilstext_file_search-module aria-label="Heading self-link"></a></h1><h3 id=principia_materiautilstext_file_searchfind_allfilename-pattern>principia_materia.utils.text_file_search.find_all(filename, pattern)<a class=td-heading-self-link href=#principia_materiautilstext_file_searchfind_allfilename-pattern aria-label="Heading self-link"></a></h3><h3 id=principia_materiautilstext_file_searchfind_firstfilename-pattern-abort_patternnone-blocksize4096>principia_materia.utils.text_file_search.find_first(filename, pattern, abort_pattern=None, blocksize=4096)<a class=td-heading-self-link href=#principia_materiautilstext_file_searchfind_firstfilename-pattern-abort_patternnone-blocksize4096 aria-label="Heading self-link"></a></h3><h3 id=principia_materiautilstext_file_searchfind_lastfilename-pattern-abort_patternnone-blocksize4096>principia_materia.utils.text_file_search.find_last(filename, pattern, abort_pattern=None, blocksize=4096)<a class=td-heading-self-link href=#principia_materiautilstext_file_searchfind_lastfilename-pattern-abort_patternnone-blocksize4096 aria-label="Heading self-link"></a></h3><h3 id=principia_materiautilstext_file_searchget_file_streamfilename-mode>principia_materia.utils.text_file_search.get_file_stream(filename, mode)<a class=td-heading-self-link href=#principia_materiautilstext_file_searchget_file_streamfilename-mode aria-label="Heading self-link"></a></h3><h3 id=principia_materiautilstext_file_searchsearchfilename-pattern>principia_materia.utils.text_file_search.search(filename, pattern)<a class=td-heading-self-link href=#principia_materiautilstext_file_searchsearchfilename-pattern aria-label="Heading self-link"></a></h3></div><div class=td-content style=page-break-before:always><h1 id=pg-8a94288cb96b0329bfaffb12393cd695>8.96 - Module principia_materia.visualization</h1><div class=lead>Module principia_materia.visualization</div><h1 id=principia_materiavisualization-package>principia_materia.visualization package<a class=td-heading-self-link href=#principia_materiavisualization-package aria-label="Heading self-link"></a></h1><h2 id=module-contents>Module contents<a class=td-heading-self-link href=#module-contents aria-label="Heading self-link"></a></h2></div></main></div></div><footer class="td-footer row d-print-none"><div class=container-fluid><div class="row mx-md-2"><div class="td-footer__left col-6 col-sm-4 order-sm-1"><ul class=td-footer__links-list><li class=td-footer__links-item data-bs-toggle=tooltip title="User mailing list" aria-label="User mailing list"><a target=_blank rel=noopener href=https://example.org/mail aria-label="User mailing list"><i class="fa fa-envelope"></i></a></li><li class=td-footer__links-item data-bs-toggle=tooltip title=Twitter aria-label=Twitter><a target=_blank rel=noopener href=https://example.org/twitter aria-label=Twitter><i class="fab fa-twitter"></i></a></li><li class=td-footer__links-item data-bs-toggle=tooltip title="Stack Overflow" aria-label="Stack Overflow"><a target=_blank rel=noopener href=https://example.org/stack aria-label="Stack Overflow"><i class="fab fa-stack-overflow"></i></a></li></ul></div><div class="td-footer__right col-6 col-sm-4 order-sm-3"><ul class=td-footer__links-list><li class=td-footer__links-item data-bs-toggle=tooltip title=GitHub aria-label=GitHub><a target=_blank rel=noopener href=https://github.com/google/docsy aria-label=GitHub><i class="fab fa-github"></i></a></li><li class=td-footer__links-item data-bs-toggle=tooltip title=Slack aria-label=Slack><a target=_blank rel=noopener href=https://example.org/slack aria-label=Slack><i class="fab fa-slack"></i></a></li><li class=td-footer__links-item data-bs-toggle=tooltip title="Developer mailing list" aria-label="Developer mailing list"><a target=_blank rel=noopener href=https://example.org/mail aria-label="Developer mailing list"><i class="fa fa-envelope"></i></a></li></ul></div><div class="td-footer__center col-12 col-sm-4 py-2 order-sm-2"><span class=td-footer__copyright>&copy;
2018&ndash;2024
<span class=td-footer__authors>Docsy Authors | <a href=https://creativecommons.org/licenses/by/4.0>CC BY 4.0</a> |</span></span><span class=td-footer__all_rights_reserved>All Rights Reserved</span><span class=ms-2><a href=https://policies.google.com/privacy target=_blank rel=noopener>Privacy Policy</a></span></div></div></div></footer></div><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.16.10/dist/katex.min.css integrity="sha512-r2+FkHzf1u0+SQbZOoIz2RxWOIWfdEzRuYybGjzKq18jG9zaSfEy9s3+jMqG/zPtRor/q4qaUCYQpmSjTw8M+g==" crossorigin=anonymous><script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.10/dist/katex.min.js integrity="sha512-INps9zQ2GUEMCQD7xiZQbGUVnqnzEvlynVy6eqcTcHN4+aQiLo9/uaQqckDpdJ8Zm3M0QBs+Pktg4pz0kEklUg==" crossorigin=anonymous></script><script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.10/dist/contrib/auto-render.min.js integrity="sha512-YJVxTjqttjsU3cSvaTRqsSl0wbRgZUNF+NGGCgto/MUbIvaLdXQzGTCQu4CvyJZbZctgflVB0PXw9LLmTWm5/w==" crossorigin=anonymous onload=renderMathInElement(document.body,null)></script><script src=/js/main.min.e0f58cb8b0681b74bb5f5ae834fb31f26901cd66346d69d749ba075ed1db63c4.js integrity="sha256-4PWMuLBoG3S7X1roNPsx8mkBzWY0bWnXSboHXtHbY8Q=" crossorigin=anonymous></script><script defer src=/js/click-to-copy.min.73478a7d4807698aed7e355eb23f9890ca18fea3158604c8471746d046702bad.js integrity="sha256-c0eKfUgHaYrtfjVesj+YkMoY/qMVhgTIRxdG0EZwK60=" crossorigin=anonymous></script><script src=/js/tabpane-persist.js></script></body></html>